/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},858:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},913:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},884:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){s=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},38:(t,e,n)=>{var r=n(858),o=n(884),a=n(379),i=n(521);t.exports=function(t,e){return r(t)||o(t,e)||a(t,e)||i()},t.exports.__esModule=!0,t.exports.default=t.exports},379:(t,e,n)=>{var r=n(228);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},427:t=>{"use strict";t.exports=function(){try{return!!new Blob}catch(t){return!1}}()},42:(t,e,n)=>{"use strict";var r=n(187).EventEmitter;function o(){r.call(this),this.setMaxListeners(20)}o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},t.exports=o},622:(t,e,n)=>{"use strict";var r=n(42),o=n(388),a=0;t.exports=function t(e){var n,i={},s=[],u=[],c=0,l=0,h={},d=function(r){return Array.isArray(r)?(r.forEach(d),n):((a=r.assets&&Array.isArray(r.assets)?t(p(r,e)):o(p(r,e))).once("destroy",v),u.push(a),h[a.id]=a,n);var a},f=function(t){return arguments.length?i[t]?i[t]:h[t]:s},p=function(t,e){return"string"==typeof t&&(t={url:t}),void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++a),t.type=t.type||(n=t.url)&&n.split("?")[0].split(".").pop().toLowerCase(),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t;var n},_=function(t){var e=c+t;n.emit("progress",e/l)},E=function(t,e,r){Array.isArray(t)&&(t={id:e,file:t,type:r}),c++,n.emit("progress",c/l),i[t.id]=t.file,s.push(t),n.emit("childcomplete",t),T()},m=function(t){l--,n.listeners("error").length?n.emit("error",t):console.error(t),T()},v=function(t){h[t]=null,delete h[t],i[t]=null,delete i[t],s.some((function(e,n){if(e.id===t)return s.splice(n,1),!0}))},T=function(){c>=l&&n.emit("complete",s,i,e.id,"group")};return n=Object.create(r.prototype,{_events:{value:{}},id:{get:function(){return e.id}},add:{value:d},start:{value:function(){return l=u.length,u.forEach((function(t){t.on("progress",_).once("complete",E).once("error",m).start()})),u=[],n}},get:{value:f},find:{value:function(t){if(f(t))return f(t);var e=null;return Object.keys(h).some((function(n){return!!(e=h[n].find&&h[n].find(t))})),e}},getLoader:{value:function(t){return h[t]}},loaded:{get:function(){return c>=l}},file:{get:function(){return s}},destroy:{value:function(){for(;u.length;)u.pop().destroy();return n.off("error"),n.off("progress"),n.off("complete"),s=[],i={},e.webAudioContext=null,l=0,c=0,Object.keys(h).forEach((function(t){h[t].destroy()})),h={},n.emit("destroy",n.id),n}}}),e=p(e||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(e.assets)&&d(e.assets),n}},719:(t,e,n)=>{"use strict";var r=n(622);r.stats=n(795),t.exports=r},388:(t,e,n)=>{"use strict";var r=n(42),o=n(427),a=n(795);t.exports=function(t){var e,n,i,s,u,c,l=t.id,h=t.basePath||"",d=t.url,f=t.type,p=t.crossOrigin,_=t.isTouchLocked,E=t.blob&&o,m=t.webAudioContext,v=t.log,T=function(t){t&&(c={id:l,file:t,type:f},e.emit("progress",1),e.emit("complete",c,l,f),O())},A=function(t,e){n=e||g,(i=new XMLHttpRequest).open("GET",h+d,!0),i.responseType=t,i.addEventListener("progress",M),i.addEventListener("load",n),i.addEventListener("error",S),i.send()},M=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},g=function(){R()&&T(i.response)},R=function(){return i&&i.status<400?(a.update(i,s,d,v),!0):(S(i&&i.statusText),!1)},C=function(){i=new Image,p&&(i.crossOrigin="anonymous"),i.addEventListener("error",S,!1),i.addEventListener("load",y,!1),i.src=h+d},y=function(t){window.clearTimeout(u),t||!i.error&&i.readyState?T(i):S()},b=function(){A("blob",(function(){R()&&((i=new Image).addEventListener("error",S,!1),i.addEventListener("load",w,!1),i.src=window.URL.createObjectURL(i.response))}))},w=function(){window.URL.revokeObjectURL(i.src),T(i)},N=function(){A("arraybuffer",(function(){R()&&m.decodeAudioData(i.response,(function(t){i=null,T(t)}),(function(t){S(t)}))}))},I=function(t){i=document.createElement(t),_||(window.clearTimeout(u),u=window.setTimeout(y,2e3),i.addEventListener("canplaythrough",y,!1)),i.addEventListener("error",S,!1),i.preload="auto",i.src=h+d,i.load(),_&&T(i)},S=function(t){window.clearTimeout(u);var n=t;i&&i.tagName&&i.error?n="MediaError: "+["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"][i.error.code]+" "+i.src:i&&i.statusText?n=i.statusText:t&&t.message?n=t.message:t&&t.type&&(n=t.type),e.emit("error",'Error loading "'+h+d+'" '+n),x()},O=function(){e.off("error"),e.off("progress"),e.off("complete"),i&&(i.removeEventListener("progress",M),i.removeEventListener("load",n),i.removeEventListener("error",S),i.removeEventListener("load",y),i.removeEventListener("canplaythrough",y),i.removeEventListener("load",w))},x=function(){O(),i&&i.abort&&i.readyState<4&&i.abort(),i=null,m=null,c=null,window.clearTimeout(u),e.emit("destroy",l)};return e=Object.create(r.prototype,{_events:{value:{}},id:{value:t.id},start:{value:function(){switch(s=Date.now(),f){case"json":A("json",(function(){if(R()){var t=i.response;"string"==typeof t&&(t=JSON.parse(t)),T(t)}}));break;case"jpg":case"png":case"gif":case"webp":case"svg":E?b():C();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":m?N():I("audio");break;case"ogv":case"mp4":case"webm":case"hls":E?A("blob"):I("video");break;case"bin":case"binary":A("arraybuffer");break;case"txt":case"text":A("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+h+d+" ("+f+")"}}},loaded:{get:function(){return!!c}},file:{get:function(){return c}},destroy:{value:x}})}},795:t=>{"use strict";t.exports={mbs:0,secs:0,update:function(t,e,n,r){var o,a=t.getAllResponseHeaders();if(a){var i=a.match(/content-length: (\d+)/i);i&&i.length&&(o=i[1])}if(o){var s=(o=parseInt(o,10))/1024/1024,u=(Date.now()-e)/1e3;this.secs+=u,this.mbs+=s,r&&this.log(n,s,u)}else r&&console.warn.call(console,"Can't get Content-Length:",n)},log:function(t,e,n){if(t){var r="File loaded: "+t.substr(t.lastIndexOf("/")+1)+" size:"+e.toFixed(2)+"mb time:"+n.toFixed(2)+"s speed:"+(e/n).toFixed(2)+"mbps";console.log.call(console,r)}var o="Total loaded: "+this.mbs.toFixed(2)+"mb time:"+this.secs.toFixed(2)+"s speed:"+this.getMbps().toFixed(2)+"mbps";console.log.call(console,o)},getMbps:function(){return this.mbs/this.secs}}},382:function(t,e,n){!function(t,e,n,r){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=o(e),i=o(n),s=o(r),u=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},c=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},l=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var r=n.startTime,o=n.target,a=n.timeConstant;return o+(e-o)*Math.exp((r-t)/a)},f=function(t){return"exponentialRampToValue"===t.type},p=function(t){return"linearRampToValue"===t.type},_=function(t){return f(t)||p(t)},E=function(t){return"setValue"===t.type},m=function(t){return"setValueCurve"===t.type},v=function t(e,n,r,o){var a=e[n];return void 0===a?o:_(a)||E(a)?a.value:m(a)?a.values[a.values.length-1]:d(r,t(e,n-1,a.startTime,o),a)},T=function(t,e,n,r,o){return void 0===n?[r.insertTime,o]:_(n)?[n.endTime,n.value]:E(n)?[n.startTime,n.value]:m(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,o)]},A=function(t){return"cancelAndHold"===t.type},M=function(t){return"cancelScheduledValues"===t.type},g=function(t){return A(t)||M(t)?t.cancelTime:f(t)||p(t)?t.endTime:t.startTime},R=function(t,e,n,r){var o=r.endTime,a=r.value;return n===a?a:0<n&&0<a||n<0&&a<0?n*Math.pow(a/n,(t-e)/(o-e)):0},C=function(t,e,n,r){return n+(t-e)/(r.endTime-e)*(r.value-n)},y=function(t,e){var n=e.duration,r=e.startTime,o=e.values;return function(t,e){var n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]}(o,(t-r)/n*(o.length-1))},b=function(t){return"setTarget"===t.type},w=function(t){function e(t){i.default(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return s.default(e,[{key:t,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=g(t);if(A(t)||M(t)){var n=this._automationEvents.findIndex((function(n){return M(t)&&m(n)?n.startTime+n.duration>=e:g(n)>=e})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),A(t)){var o=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&_(r)){if(b(o))throw new Error("The internal list is malformed.");var a=m(o)?o.startTime+o.duration:g(o),i=m(o)?o.values[o.values.length-1]:o.value,s=f(r)?R(e,a,i,r):C(e,a,i,r),d=f(r)?u(s,e,this._currenTime):c(s,e,this._currenTime);this._automationEvents.push(d)}void 0!==o&&b(o)&&this._automationEvents.push(l(this.getValue(e),e)),void 0!==o&&m(o)&&o.startTime+o.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),o.startTime,e-o.startTime))}}else{var E=this._automationEvents.findIndex((function(t){return g(t)>e})),v=-1===E?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[E-1];if(void 0!==v&&m(v)&&g(v)+v.duration>e)return!1;var T=f(t)?u(t.value,t.endTime,this._currenTime):p(t)?c(t.value,e,this._currenTime):t;if(-1===E)this._automationEvents.push(T);else{if(m(t)&&e+t.duration>g(this._automationEvents[E]))return!1;this._automationEvents.splice(E,0,T)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return g(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),r=n[0];b(r)&&n.unshift(l(v(this._automationEvents,e-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents.findIndex((function(e){return g(e)>t})),n=this._automationEvents[e],r=(-1===e?this._automationEvents.length:e)-1,o=this._automationEvents[r];if(void 0!==o&&b(o)&&(void 0===n||!_(n)||n.insertTime>t))return d(t,v(this._automationEvents,r-1,o.startTime,this._defaultValue),o);if(void 0!==o&&E(o)&&(void 0===n||!_(n)))return o.value;if(void 0!==o&&m(o)&&(void 0===n||!_(n)||o.startTime+o.duration>t))return t<o.startTime+o.duration?y(t,o):o.values[o.values.length-1];if(void 0!==o&&_(o)&&(void 0===n||!_(n)))return o.value;if(void 0!==n&&f(n)){var i=T(this._automationEvents,r,o,n,this._defaultValue),s=a.default(i,2),u=s[0],c=s[1];return R(t,u,c,n)}if(void 0!==n&&p(n)){var l=T(this._automationEvents,r,o,n,this._defaultValue),h=a.default(l,2),A=h[0],M=h[1];return C(t,A,M,n)}return this._defaultValue}}]),e}(Symbol.iterator);t.AutomationEventList=w,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=l,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(38),n(575),n(913))},187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,a),r(n)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}_(t,e,a,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&_(t,"error",e,{once:!0})}(t,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var o,a,i,c;if(s(n),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),i=a[e]),void 0===i)i=a[e]=n,++t._eventsCount;else if("function"==typeof i?i=a[e]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=u(t))>0&&i.length>o&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=i.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function _(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(a){r.once&&t.removeEventListener(e,o),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");i=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,a=this._events;if(void 0!==a)o=o&&void 0===a.error;else if(!o)return!1;if(o){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var u=a[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,e)}return!0},a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return c(this,t,e,!0)},a.prototype.once=function(t,e){return s(e),this.on(t,h(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,h(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,o,a,i;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){i=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,i||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(o=a[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},685:(t,e,n)=>{"use strict";n.r(e),n.d(e,{EPSILON:()=>r,ARRAY_TYPE:()=>o,RANDOM:()=>a,setMatrixArrayType:()=>i,toRadian:()=>u,equals:()=>c});var r=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function i(t){o=t}var s=Math.PI/180;function u(t){return t*s}function c(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},370:(t,e,n)=>{"use strict";n.r(e),n.d(e,{glMatrix:()=>c,mat2:()=>r,mat2d:()=>o,mat3:()=>st,mat4:()=>ut,quat:()=>i,quat2:()=>s,vec2:()=>u,vec3:()=>ct,vec4:()=>a});var r={};n.r(r),n.d(r,{LDU:()=>w,add:()=>N,adjoint:()=>v,clone:()=>h,copy:()=>d,create:()=>l,determinant:()=>T,equals:()=>O,exactEquals:()=>S,frob:()=>b,fromRotation:()=>R,fromScaling:()=>C,fromValues:()=>p,identity:()=>f,invert:()=>m,mul:()=>P,multiply:()=>A,multiplyScalar:()=>x,multiplyScalarAndAdd:()=>L,rotate:()=>M,scale:()=>g,set:()=>_,str:()=>y,sub:()=>F,subtract:()=>I,transpose:()=>E});var o={};n.r(o),n.d(o,{add:()=>J,clone:()=>U,copy:()=>B,create:()=>D,determinant:()=>Y,equals:()=>ot,exactEquals:()=>rt,frob:()=>$,fromRotation:()=>z,fromScaling:()=>Z,fromTranslation:()=>K,fromValues:()=>X,identity:()=>V,invert:()=>k,mul:()=>at,multiply:()=>W,multiplyScalar:()=>et,multiplyScalarAndAdd:()=>nt,rotate:()=>H,scale:()=>q,set:()=>G,str:()=>Q,sub:()=>it,subtract:()=>tt,translate:()=>j});var a={};n.r(a),n.d(a,{add:()=>_t,ceil:()=>Tt,clone:()=>ht,copy:()=>ft,create:()=>lt,cross:()=>Pt,dist:()=>jt,distance:()=>bt,div:()=>qt,divide:()=>vt,dot:()=>Lt,equals:()=>kt,exactEquals:()=>Gt,floor:()=>At,forEach:()=>Qt,fromValues:()=>dt,inverse:()=>Ot,len:()=>Zt,length:()=>Nt,lerp:()=>Ft,max:()=>gt,min:()=>Mt,mul:()=>Ht,multiply:()=>mt,negate:()=>St,normalize:()=>xt,random:()=>Dt,round:()=>Rt,scale:()=>Ct,scaleAndAdd:()=>yt,set:()=>pt,sqrDist:()=>zt,sqrLen:()=>Kt,squaredDistance:()=>wt,squaredLength:()=>It,str:()=>Xt,sub:()=>Wt,subtract:()=>Et,transformMat4:()=>Ut,transformQuat:()=>Bt,zero:()=>Vt});var i={};n.r(i),n.d(i,{add:()=>Ne,calculateW:()=>se,clone:()=>Ce,conjugate:()=>pe,copy:()=>be,create:()=>$t,dot:()=>Oe,equals:()=>Ve,exactEquals:()=>Be,exp:()=>ue,fromEuler:()=>Ee,fromMat3:()=>_e,fromValues:()=>ye,getAngle:()=>ne,getAxisAngle:()=>ee,identity:()=>Jt,invert:()=>fe,len:()=>Pe,length:()=>Le,lerp:()=>xe,ln:()=>ce,mul:()=>Ie,multiply:()=>re,normalize:()=>Ue,pow:()=>le,random:()=>de,rotateX:()=>oe,rotateY:()=>ae,rotateZ:()=>ie,rotationTo:()=>Xe,scale:()=>Se,set:()=>we,setAxes:()=>ke,setAxisAngle:()=>te,slerp:()=>he,sqlerp:()=>Ge,sqrLen:()=>De,squaredLength:()=>Fe,str:()=>me});var s={};n.r(s),n.d(s,{add:()=>fn,clone:()=>We,conjugate:()=>An,copy:()=>Qe,create:()=>Ye,dot:()=>mn,equals:()=>Nn,exactEquals:()=>wn,fromMat4:()=>Ke,fromRotation:()=>Ze,fromRotationTranslation:()=>je,fromRotationTranslationValues:()=>qe,fromTranslation:()=>ze,fromValues:()=>He,getDual:()=>en,getReal:()=>tn,getTranslation:()=>on,identity:()=>$e,invert:()=>Tn,len:()=>gn,length:()=>Mn,lerp:()=>vn,mul:()=>_n,multiply:()=>pn,normalize:()=>yn,rotateAroundAxis:()=>dn,rotateByQuatAppend:()=>ln,rotateByQuatPrepend:()=>hn,rotateX:()=>sn,rotateY:()=>un,rotateZ:()=>cn,scale:()=>En,set:()=>Je,setDual:()=>rn,setReal:()=>nn,sqrLen:()=>Cn,squaredLength:()=>Rn,str:()=>bn,translate:()=>an});var u={};n.r(u),n.d(u,{add:()=>Pn,angle:()=>sr,ceil:()=>Bn,clone:()=>Sn,copy:()=>xn,create:()=>In,cross:()=>Jn,dist:()=>Er,distance:()=>Hn,div:()=>_r,divide:()=>Un,dot:()=>$n,equals:()=>hr,exactEquals:()=>lr,floor:()=>Vn,forEach:()=>Tr,fromValues:()=>On,inverse:()=>Kn,len:()=>dr,length:()=>jn,lerp:()=>tr,max:()=>Gn,min:()=>Xn,mul:()=>pr,multiply:()=>Dn,negate:()=>Zn,normalize:()=>Qn,random:()=>er,rotate:()=>ir,round:()=>kn,scale:()=>Yn,scaleAndAdd:()=>Wn,set:()=>Ln,sqrDist:()=>mr,sqrLen:()=>vr,squaredDistance:()=>qn,squaredLength:()=>zn,str:()=>cr,sub:()=>fr,subtract:()=>Fn,transformMat2:()=>nr,transformMat2d:()=>rr,transformMat3:()=>or,transformMat4:()=>ar,zero:()=>ur});var c=n(685);function l(){var t=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function h(t){var e=new c.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function p(t,e,n,r){var o=new c.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function _(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function E(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function m(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n*a-o*r;return i?(i=1/i,t[0]=a*i,t[1]=-r*i,t[2]=-o*i,t[3]=n*i,t):null}function v(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function T(t){return t[0]*t[3]-t[2]*t[1]}function A(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*s+a*u,t[1]=o*s+i*u,t[2]=r*c+a*l,t[3]=o*c+i*l,t}function M(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=o*u+i*s,t[2]=r*-s+a*u,t[3]=o*-s+i*u,t}function g(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=o*s,t[2]=a*u,t[3]=i*u,t}function R(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function C(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function y(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function b(t){return Math.hypot(t[0],t[1],t[2],t[3])}function w(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function N(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function I(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function S(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function O(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],i=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(n-i)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-s)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-l)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))}function x(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function L(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var P=A,F=I;function D(){var t=new c.ARRAY_TYPE(6);return c.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function U(t){var e=new c.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function B(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function V(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function X(t,e,n,r,o,a){var i=new c.ARRAY_TYPE(6);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i[4]=o,i[5]=a,i}function G(t,e,n,r,o,a,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a,t[5]=i,t}function k(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=n*a-r*o;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-o*u,t[3]=n*u,t[4]=(o*s-a*i)*u,t[5]=(r*i-n*s)*u,t):null}function Y(t){return t[0]*t[3]-t[1]*t[2]}function W(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=n[0],l=n[1],h=n[2],d=n[3],f=n[4],p=n[5];return t[0]=r*c+a*l,t[1]=o*c+i*l,t[2]=r*h+a*d,t[3]=o*h+i*d,t[4]=r*f+a*p+s,t[5]=o*f+i*p+u,t}function H(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*c,t[1]=o*l+i*c,t[2]=r*-c+a*l,t[3]=o*-c+i*l,t[4]=s,t[5]=u,t}function q(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=o*c,t[2]=a*l,t[3]=i*l,t[4]=s,t[5]=u,t}function j(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=r*c+a*l+s,t[5]=o*c+i*l+u,t}function z(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function Z(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function K(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function Q(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function $(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function J(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function tt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function et(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function nt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function rt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function ot(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],s=t[5],u=e[0],l=e[1],h=e[2],d=e[3],f=e[4],p=e[5];return Math.abs(n-u)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-l)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-h)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-d)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-f)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(s-p)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))}var at=W,it=tt,st=n(600),ut=n(975),ct=n(160);function lt(){var t=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function ht(t){var e=new c.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function dt(t,e,n,r){var o=new c.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function pt(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function _t(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Et(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function mt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function vt(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Tt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function At(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Mt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function gt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Rt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Ct(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function yt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function bt(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.hypot(n,r,o,a)}function wt(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+o*o+a*a}function Nt(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.hypot(e,n,r,o)}function It(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function St(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function Ot(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function xt(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n*n+r*r+o*o+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=n*i,t[1]=r*i,t[2]=o*i,t[3]=a*i,t}function Lt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Pt(t,e,n,r){var o=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],i=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=e[0],h=e[1],d=e[2],f=e[3];return t[0]=h*c-d*u+f*s,t[1]=-l*c+d*i-f*a,t[2]=l*u-h*i+f*o,t[3]=-l*s+h*a-d*o,t}function Ft(t,e,n,r){var o=e[0],a=e[1],i=e[2],s=e[3];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t[2]=i+r*(n[2]-i),t[3]=s+r*(n[3]-s),t}function Dt(t,e){var n,r,o,a,i,s;e=e||1;do{i=(n=2*c.RANDOM()-1)*n+(r=2*c.RANDOM()-1)*r}while(i>=1);do{s=(o=2*c.RANDOM()-1)*o+(a=2*c.RANDOM()-1)*a}while(s>=1);var u=Math.sqrt((1-i)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*o*u,t[3]=e*a*u,t}function Ut(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*a+n[12]*i,t[1]=n[1]*r+n[5]*o+n[9]*a+n[13]*i,t[2]=n[2]*r+n[6]*o+n[10]*a+n[14]*i,t[3]=n[3]*r+n[7]*o+n[11]*a+n[15]*i,t}function Bt(t,e,n){var r=e[0],o=e[1],a=e[2],i=n[0],s=n[1],u=n[2],c=n[3],l=c*r+s*a-u*o,h=c*o+u*r-i*a,d=c*a+i*o-s*r,f=-i*r-s*o-u*a;return t[0]=l*c+f*-i+h*-u-d*-s,t[1]=h*c+f*-s+d*-i-l*-u,t[2]=d*c+f*-u+l*-s-h*-i,t[3]=e[3],t}function Vt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Xt(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Gt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function kt(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],i=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(n-i)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-s)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-u)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-l)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))}var Yt,Wt=Et,Ht=mt,qt=vt,jt=bt,zt=wt,Zt=Nt,Kt=It,Qt=(Yt=lt(),function(t,e,n,r,o,a){var i,s;for(e||(e=4),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,i=n;i<s;i+=e)Yt[0]=t[i],Yt[1]=t[i+1],Yt[2]=t[i+2],Yt[3]=t[i+3],o(Yt,Yt,a),t[i]=Yt[0],t[i+1]=Yt[1],t[i+2]=Yt[2],t[i+3]=Yt[3];return t});function $t(){var t=new c.ARRAY_TYPE(4);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Jt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function te(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function ee(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>c.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function ne(t,e){var n=Oe(t,e);return Math.acos(2*n*n-1)}function re(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+i*s+o*c-a*u,t[1]=o*l+i*u+a*s-r*c,t[2]=a*l+i*c+r*u-o*s,t[3]=i*l-r*s-o*u-a*c,t}function oe(t,e,n){n*=.5;var r=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=o*u+a*s,t[2]=a*u-o*s,t[3]=i*u-r*s,t}function ae(t,e,n){n*=.5;var r=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-a*s,t[1]=o*u+i*s,t[2]=a*u+r*s,t[3]=i*u-o*s,t}function ie(t,e,n){n*=.5;var r=e[0],o=e[1],a=e[2],i=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=o*u-r*s,t[2]=a*u+i*s,t[3]=i*u-a*s,t}function se(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t}function ue(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=Math.sqrt(n*n+r*r+o*o),s=Math.exp(a),u=i>0?s*Math.sin(i)/i:0;return t[0]=n*u,t[1]=r*u,t[2]=o*u,t[3]=s*Math.cos(i),t}function ce(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=Math.sqrt(n*n+r*r+o*o),s=i>0?Math.atan2(i,a)/i:0;return t[0]=n*s,t[1]=r*s,t[2]=o*s,t[3]=.5*Math.log(n*n+r*r+o*o+a*a),t}function le(t,e,n){return ce(t,e),Se(t,t,n),ue(t,t),t}function he(t,e,n,r){var o,a,i,s,u,l=e[0],h=e[1],d=e[2],f=e[3],p=n[0],_=n[1],E=n[2],m=n[3];return(a=l*p+h*_+d*E+f*m)<0&&(a=-a,p=-p,_=-_,E=-E,m=-m),1-a>c.EPSILON?(o=Math.acos(a),i=Math.sin(o),s=Math.sin((1-r)*o)/i,u=Math.sin(r*o)/i):(s=1-r,u=r),t[0]=s*l+u*p,t[1]=s*h+u*_,t[2]=s*d+u*E,t[3]=s*f+u*m,t}function de(t){var e=c.RANDOM(),n=c.RANDOM(),r=c.RANDOM(),o=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*r),t[3]=a*Math.cos(2*Math.PI*r),t}function fe(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n*n+r*r+o*o+a*a,s=i?1/i:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-o*s,t[3]=a*s,t}function pe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function _e(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*a+a]-e[3*i+i]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*a+i]-e[3*i+a])*n,t[a]=(e[3*a+o]+e[3*o+a])*n,t[i]=(e[3*i+o]+e[3*o+i])*n}return t}function Ee(t,e,n,r){var o=.5*Math.PI/180;e*=o,n*=o,r*=o;var a=Math.sin(e),i=Math.cos(e),s=Math.sin(n),u=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return t[0]=a*u*l-i*s*c,t[1]=i*s*l+a*u*c,t[2]=i*u*c-a*s*l,t[3]=i*u*l+a*s*c,t}function me(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var ve,Te,Ae,Me,ge,Re,Ce=ht,ye=dt,be=ft,we=pt,Ne=_t,Ie=re,Se=Ct,Oe=Lt,xe=Ft,Le=Nt,Pe=Le,Fe=It,De=Fe,Ue=xt,Be=Gt,Ve=kt,Xe=(ve=ct.create(),Te=ct.fromValues(1,0,0),Ae=ct.fromValues(0,1,0),function(t,e,n){var r=ct.dot(e,n);return r<-.999999?(ct.cross(ve,Te,e),ct.len(ve)<1e-6&&ct.cross(ve,Ae,e),ct.normalize(ve,ve),te(t,ve,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(ct.cross(ve,e,n),t[0]=ve[0],t[1]=ve[1],t[2]=ve[2],t[3]=1+r,Ue(t,t))}),Ge=(Me=$t(),ge=$t(),function(t,e,n,r,o,a){return he(Me,e,o,a),he(ge,n,r,a),he(t,Me,ge,2*a*(1-a)),t}),ke=(Re=st.create(),function(t,e,n,r){return Re[0]=n[0],Re[3]=n[1],Re[6]=n[2],Re[1]=r[0],Re[4]=r[1],Re[7]=r[2],Re[2]=-e[0],Re[5]=-e[1],Re[8]=-e[2],Ue(t,_e(t,Re))});function Ye(){var t=new c.ARRAY_TYPE(8);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function We(t){var e=new c.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function He(t,e,n,r,o,a,i,s){var u=new c.ARRAY_TYPE(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=o,u[5]=a,u[6]=i,u[7]=s,u}function qe(t,e,n,r,o,a,i){var s=new c.ARRAY_TYPE(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var u=.5*o,l=.5*a,h=.5*i;return s[4]=u*r+l*n-h*e,s[5]=l*r+h*t-u*n,s[6]=h*r+u*e-l*t,s[7]=-u*t-l*e-h*n,s}function je(t,e,n){var r=.5*n[0],o=.5*n[1],a=.5*n[2],i=e[0],s=e[1],u=e[2],c=e[3];return t[0]=i,t[1]=s,t[2]=u,t[3]=c,t[4]=r*c+o*u-a*s,t[5]=o*c+a*i-r*u,t[6]=a*c+r*s-o*i,t[7]=-r*i-o*s-a*u,t}function ze(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ke(t,e){var n=$t();ut.getRotation(n,e);var r=new c.ARRAY_TYPE(3);return ut.getTranslation(r,e),je(t,n,r),t}function Qe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function $e(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Je(t,e,n,r,o,a,i,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a,t[5]=i,t[6]=s,t[7]=u,t}var tn=be;function en(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var nn=be;function rn(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function on(t,e){var n=e[4],r=e[5],o=e[6],a=e[7],i=-e[0],s=-e[1],u=-e[2],c=e[3];return t[0]=2*(n*c+a*i+r*u-o*s),t[1]=2*(r*c+a*s+o*i-n*u),t[2]=2*(o*c+a*u+n*s-r*i),t}function an(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=.5*n[0],u=.5*n[1],c=.5*n[2],l=e[4],h=e[5],d=e[6],f=e[7];return t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=i*s+o*c-a*u+l,t[5]=i*u+a*s-r*c+h,t[6]=i*c+r*u-o*s+d,t[7]=-r*s-o*u-a*c+f,t}function sn(t,e,n){var r=-e[0],o=-e[1],a=-e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=s*i+l*r+u*a-c*o,d=u*i+l*o+c*r-s*a,f=c*i+l*a+s*o-u*r,p=l*i-s*r-u*o-c*a;return oe(t,e,n),r=t[0],o=t[1],a=t[2],i=t[3],t[4]=h*i+p*r+d*a-f*o,t[5]=d*i+p*o+f*r-h*a,t[6]=f*i+p*a+h*o-d*r,t[7]=p*i-h*r-d*o-f*a,t}function un(t,e,n){var r=-e[0],o=-e[1],a=-e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=s*i+l*r+u*a-c*o,d=u*i+l*o+c*r-s*a,f=c*i+l*a+s*o-u*r,p=l*i-s*r-u*o-c*a;return ae(t,e,n),r=t[0],o=t[1],a=t[2],i=t[3],t[4]=h*i+p*r+d*a-f*o,t[5]=d*i+p*o+f*r-h*a,t[6]=f*i+p*a+h*o-d*r,t[7]=p*i-h*r-d*o-f*a,t}function cn(t,e,n){var r=-e[0],o=-e[1],a=-e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=s*i+l*r+u*a-c*o,d=u*i+l*o+c*r-s*a,f=c*i+l*a+s*o-u*r,p=l*i-s*r-u*o-c*a;return ie(t,e,n),r=t[0],o=t[1],a=t[2],i=t[3],t[4]=h*i+p*r+d*a-f*o,t[5]=d*i+p*o+f*r-h*a,t[6]=f*i+p*a+h*o-d*r,t[7]=p*i-h*r-d*o-f*a,t}function ln(t,e,n){var r=n[0],o=n[1],a=n[2],i=n[3],s=e[0],u=e[1],c=e[2],l=e[3];return t[0]=s*i+l*r+u*a-c*o,t[1]=u*i+l*o+c*r-s*a,t[2]=c*i+l*a+s*o-u*r,t[3]=l*i-s*r-u*o-c*a,s=e[4],u=e[5],c=e[6],l=e[7],t[4]=s*i+l*r+u*a-c*o,t[5]=u*i+l*o+c*r-s*a,t[6]=c*i+l*a+s*o-u*r,t[7]=l*i-s*r-u*o-c*a,t}function hn(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=n[0],u=n[1],c=n[2],l=n[3];return t[0]=r*l+i*s+o*c-a*u,t[1]=o*l+i*u+a*s-r*c,t[2]=a*l+i*c+r*u-o*s,t[3]=i*l-r*s-o*u-a*c,s=n[4],u=n[5],c=n[6],l=n[7],t[4]=r*l+i*s+o*c-a*u,t[5]=o*l+i*u+a*s-r*c,t[6]=a*l+i*c+r*u-o*s,t[7]=i*l-r*s-o*u-a*c,t}function dn(t,e,n,r){if(Math.abs(r)<c.EPSILON)return Qe(t,e);var o=Math.hypot(n[0],n[1],n[2]);r*=.5;var a=Math.sin(r),i=a*n[0]/o,s=a*n[1]/o,u=a*n[2]/o,l=Math.cos(r),h=e[0],d=e[1],f=e[2],p=e[3];t[0]=h*l+p*i+d*u-f*s,t[1]=d*l+p*s+f*i-h*u,t[2]=f*l+p*u+h*s-d*i,t[3]=p*l-h*i-d*s-f*u;var _=e[4],E=e[5],m=e[6],v=e[7];return t[4]=_*l+v*i+E*u-m*s,t[5]=E*l+v*s+m*i-_*u,t[6]=m*l+v*u+_*s-E*i,t[7]=v*l-_*i-E*s-m*u,t}function fn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function pn(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=n[4],u=n[5],c=n[6],l=n[7],h=e[4],d=e[5],f=e[6],p=e[7],_=n[0],E=n[1],m=n[2],v=n[3];return t[0]=r*v+i*_+o*m-a*E,t[1]=o*v+i*E+a*_-r*m,t[2]=a*v+i*m+r*E-o*_,t[3]=i*v-r*_-o*E-a*m,t[4]=r*l+i*s+o*c-a*u+h*v+p*_+d*m-f*E,t[5]=o*l+i*u+a*s-r*c+d*v+p*E+f*_-h*m,t[6]=a*l+i*c+r*u-o*s+f*v+p*m+h*E-d*_,t[7]=i*l-r*s-o*u-a*c+p*v-h*_-d*E-f*m,t}var _n=pn;function En(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var mn=Oe;function vn(t,e,n,r){var o=1-r;return mn(e,n)<0&&(r=-r),t[0]=e[0]*o+n[0]*r,t[1]=e[1]*o+n[1]*r,t[2]=e[2]*o+n[2]*r,t[3]=e[3]*o+n[3]*r,t[4]=e[4]*o+n[4]*r,t[5]=e[5]*o+n[5]*r,t[6]=e[6]*o+n[6]*r,t[7]=e[7]*o+n[7]*r,t}function Tn(t,e){var n=Rn(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function An(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Mn=Le,gn=Mn,Rn=Fe,Cn=Rn;function yn(t,e){var n=Rn(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,o=e[1]/n,a=e[2]/n,i=e[3]/n,s=e[4],u=e[5],c=e[6],l=e[7],h=r*s+o*u+a*c+i*l;t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=(s-r*h)/n,t[5]=(u-o*h)/n,t[6]=(c-a*h)/n,t[7]=(l-i*h)/n}return t}function bn(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function wn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Nn(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],s=t[5],u=t[6],l=t[7],h=e[0],d=e[1],f=e[2],p=e[3],_=e[4],E=e[5],m=e[6],v=e[7];return Math.abs(n-h)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-d)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-f)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-p)<=c.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-_)<=c.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(s-E)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-m)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-v)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))}function In(){var t=new c.ARRAY_TYPE(2);return c.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function Sn(t){var e=new c.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function On(t,e){var n=new c.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function xn(t,e){return t[0]=e[0],t[1]=e[1],t}function Ln(t,e,n){return t[0]=e,t[1]=n,t}function Pn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Fn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Dn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function Un(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Bn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Vn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Xn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Gn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function kn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function Yn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Wn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function Hn(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function qn(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function jn(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function zn(t){var e=t[0],n=t[1];return e*e+n*n}function Zn(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Kn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Qn(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t}function $n(t,e){return t[0]*e[0]+t[1]*e[1]}function Jn(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function tr(t,e,n,r){var o=e[0],a=e[1];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t}function er(t,e){e=e||1;var n=2*c.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function nr(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t}function rr(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}function or(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}function ar(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t}function ir(t,e,n,r){var o=e[0]-n[0],a=e[1]-n[1],i=Math.sin(r),s=Math.cos(r);return t[0]=o*s-a*i+n[0],t[1]=o*i+a*s+n[1],t}function sr(t,e){var n=t[0],r=t[1],o=e[0],a=e[1],i=Math.sqrt(n*n+r*r)*Math.sqrt(o*o+a*a),s=i&&(n*o+r*a)/i;return Math.acos(Math.min(Math.max(s,-1),1))}function ur(t){return t[0]=0,t[1]=0,t}function cr(t){return"vec2("+t[0]+", "+t[1]+")"}function lr(t,e){return t[0]===e[0]&&t[1]===e[1]}function hr(t,e){var n=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=c.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))}var dr=jn,fr=Fn,pr=Dn,_r=Un,Er=Hn,mr=qn,vr=zn,Tr=function(){var t=In();return function(e,n,r,o,a,i){var s,u;for(n||(n=2),r||(r=0),u=o?Math.min(o*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,i),e[s]=t[0],e[s+1]=t[1];return e}}()},600:(t,e,n)=>{"use strict";n.r(e),n.d(e,{create:()=>o,fromMat4:()=>a,clone:()=>i,copy:()=>s,fromValues:()=>u,set:()=>c,identity:()=>l,transpose:()=>h,invert:()=>d,adjoint:()=>f,determinant:()=>p,multiply:()=>_,translate:()=>E,rotate:()=>m,scale:()=>v,fromTranslation:()=>T,fromRotation:()=>A,fromScaling:()=>M,fromMat2d:()=>g,fromQuat:()=>R,normalFromMat4:()=>C,projection:()=>y,str:()=>b,frob:()=>w,add:()=>N,subtract:()=>I,multiplyScalar:()=>S,multiplyScalarAndAdd:()=>O,exactEquals:()=>x,equals:()=>L,mul:()=>P,sub:()=>F});var r=n(685);function o(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function i(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,n,o,a,i,s,u,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=o,l[4]=a,l[5]=i,l[6]=s,l[7]=u,l[8]=c,l}function c(t,e,n,r,o,a,i,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a,t[5]=i,t[6]=s,t[7]=u,t[8]=c,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function d(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*i-s*c,d=-l*a+s*u,f=c*a-i*u,p=n*h+r*d+o*f;return p?(p=1/p,t[0]=h*p,t[1]=(-l*r+o*c)*p,t[2]=(s*r-o*i)*p,t[3]=d*p,t[4]=(l*n-o*u)*p,t[5]=(-s*n+o*a)*p,t[6]=f*p,t[7]=(-c*n+r*u)*p,t[8]=(i*n-r*a)*p,t):null}function f(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=i*l-s*c,t[1]=o*c-r*l,t[2]=r*s-o*i,t[3]=s*u-a*l,t[4]=n*l-o*u,t[5]=o*a-n*s,t[6]=a*c-i*u,t[7]=r*u-n*c,t[8]=n*i-r*a,t}function p(t){var e=t[0],n=t[1],r=t[2],o=t[3],a=t[4],i=t[5],s=t[6],u=t[7],c=t[8];return e*(c*a-i*u)+n*(-c*o+i*s)+r*(u*o-a*s)}function _(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=n[0],f=n[1],p=n[2],_=n[3],E=n[4],m=n[5],v=n[6],T=n[7],A=n[8];return t[0]=d*r+f*i+p*c,t[1]=d*o+f*s+p*l,t[2]=d*a+f*u+p*h,t[3]=_*r+E*i+m*c,t[4]=_*o+E*s+m*l,t[5]=_*a+E*u+m*h,t[6]=v*r+T*i+A*c,t[7]=v*o+T*s+A*l,t[8]=v*a+T*u+A*h,t}function E(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=n[0],f=n[1];return t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=s,t[5]=u,t[6]=d*r+f*i+c,t[7]=d*o+f*s+l,t[8]=d*a+f*u+h,t}function m(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=Math.sin(n),f=Math.cos(n);return t[0]=f*r+d*i,t[1]=f*o+d*s,t[2]=f*a+d*u,t[3]=f*i-d*r,t[4]=f*s-d*o,t[5]=f*u-d*a,t[6]=c,t[7]=l,t[8]=h,t}function v(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function T(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function A(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function g(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function R(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n+n,s=r+r,u=o+o,c=n*i,l=r*i,h=r*s,d=o*i,f=o*s,p=o*u,_=a*i,E=a*s,m=a*u;return t[0]=1-h-p,t[3]=l-m,t[6]=d+E,t[1]=l+m,t[4]=1-c-p,t[7]=f-_,t[2]=d-E,t[5]=f+_,t[8]=1-c-h,t}function C(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],d=e[10],f=e[11],p=e[12],_=e[13],E=e[14],m=e[15],v=n*s-r*i,T=n*u-o*i,A=n*c-a*i,M=r*u-o*s,g=r*c-a*s,R=o*c-a*u,C=l*_-h*p,y=l*E-d*p,b=l*m-f*p,w=h*E-d*_,N=h*m-f*_,I=d*m-f*E,S=v*I-T*N+A*w+M*b-g*y+R*C;return S?(S=1/S,t[0]=(s*I-u*N+c*w)*S,t[1]=(u*b-i*I-c*y)*S,t[2]=(i*N-s*b+c*C)*S,t[3]=(o*N-r*I-a*w)*S,t[4]=(n*I-o*b+a*y)*S,t[5]=(r*b-n*N-a*C)*S,t[6]=(_*R-E*g+m*M)*S,t[7]=(E*A-p*R-m*T)*S,t[8]=(p*g-_*A+m*v)*S,t):null}function y(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function b(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function w(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function N(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function I(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function S(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function O(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function x(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function L(t,e){var n=t[0],o=t[1],a=t[2],i=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=e[0],f=e[1],p=e[2],_=e[3],E=e[4],m=e[5],v=e[6],T=e[7],A=e[8];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-p)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-_)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(s-E)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-m)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-v)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(l-T)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))}var P=_,F=I},975:(t,e,n)=>{"use strict";n.r(e),n.d(e,{create:()=>o,clone:()=>a,copy:()=>i,fromValues:()=>s,set:()=>u,identity:()=>c,transpose:()=>l,invert:()=>h,adjoint:()=>d,determinant:()=>f,multiply:()=>p,translate:()=>_,scale:()=>E,rotate:()=>m,rotateX:()=>v,rotateY:()=>T,rotateZ:()=>A,fromTranslation:()=>M,fromScaling:()=>g,fromRotation:()=>R,fromXRotation:()=>C,fromYRotation:()=>y,fromZRotation:()=>b,fromRotationTranslation:()=>w,fromQuat2:()=>N,getTranslation:()=>I,getScaling:()=>S,getRotation:()=>O,fromRotationTranslationScale:()=>x,fromRotationTranslationScaleOrigin:()=>L,fromQuat:()=>P,frustum:()=>F,perspectiveNO:()=>D,perspective:()=>U,perspectiveZO:()=>B,perspectiveFromFieldOfView:()=>V,orthoNO:()=>X,ortho:()=>G,orthoZO:()=>k,lookAt:()=>Y,targetTo:()=>W,str:()=>H,frob:()=>q,add:()=>j,subtract:()=>z,multiplyScalar:()=>Z,multiplyScalarAndAdd:()=>K,exactEquals:()=>Q,equals:()=>$,mul:()=>J,sub:()=>tt});var r=n(685);function o(){var t=new r.ARRAY_TYPE(16);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function a(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,o,a,i,s,u,c,l,h,d,f,p,_,E){var m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=o,m[4]=a,m[5]=i,m[6]=s,m[7]=u,m[8]=c,m[9]=l,m[10]=h,m[11]=d,m[12]=f,m[13]=p,m[14]=_,m[15]=E,m}function u(t,e,n,r,o,a,i,s,u,c,l,h,d,f,p,_,E){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a,t[5]=i,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=h,t[11]=d,t[12]=f,t[13]=p,t[14]=_,t[15]=E,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],a=e[6],i=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=o,t[13]=i,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function h(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],d=e[10],f=e[11],p=e[12],_=e[13],E=e[14],m=e[15],v=n*s-r*i,T=n*u-o*i,A=n*c-a*i,M=r*u-o*s,g=r*c-a*s,R=o*c-a*u,C=l*_-h*p,y=l*E-d*p,b=l*m-f*p,w=h*E-d*_,N=h*m-f*_,I=d*m-f*E,S=v*I-T*N+A*w+M*b-g*y+R*C;return S?(S=1/S,t[0]=(s*I-u*N+c*w)*S,t[1]=(o*N-r*I-a*w)*S,t[2]=(_*R-E*g+m*M)*S,t[3]=(d*g-h*R-f*M)*S,t[4]=(u*b-i*I-c*y)*S,t[5]=(n*I-o*b+a*y)*S,t[6]=(E*A-p*R-m*T)*S,t[7]=(l*R-d*A+f*T)*S,t[8]=(i*N-s*b+c*C)*S,t[9]=(r*b-n*N-a*C)*S,t[10]=(p*g-_*A+m*v)*S,t[11]=(h*A-l*g-f*v)*S,t[12]=(s*y-i*w-u*C)*S,t[13]=(n*w-r*y+o*C)*S,t[14]=(_*T-p*M-E*v)*S,t[15]=(l*M-h*T+d*v)*S,t):null}function d(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],d=e[10],f=e[11],p=e[12],_=e[13],E=e[14],m=e[15];return t[0]=s*(d*m-f*E)-h*(u*m-c*E)+_*(u*f-c*d),t[1]=-(r*(d*m-f*E)-h*(o*m-a*E)+_*(o*f-a*d)),t[2]=r*(u*m-c*E)-s*(o*m-a*E)+_*(o*c-a*u),t[3]=-(r*(u*f-c*d)-s*(o*f-a*d)+h*(o*c-a*u)),t[4]=-(i*(d*m-f*E)-l*(u*m-c*E)+p*(u*f-c*d)),t[5]=n*(d*m-f*E)-l*(o*m-a*E)+p*(o*f-a*d),t[6]=-(n*(u*m-c*E)-i*(o*m-a*E)+p*(o*c-a*u)),t[7]=n*(u*f-c*d)-i*(o*f-a*d)+l*(o*c-a*u),t[8]=i*(h*m-f*_)-l*(s*m-c*_)+p*(s*f-c*h),t[9]=-(n*(h*m-f*_)-l*(r*m-a*_)+p*(r*f-a*h)),t[10]=n*(s*m-c*_)-i*(r*m-a*_)+p*(r*c-a*s),t[11]=-(n*(s*f-c*h)-i*(r*f-a*h)+l*(r*c-a*s)),t[12]=-(i*(h*E-d*_)-l*(s*E-u*_)+p*(s*d-u*h)),t[13]=n*(h*E-d*_)-l*(r*E-o*_)+p*(r*d-o*h),t[14]=-(n*(s*E-u*_)-i*(r*E-o*_)+p*(r*u-o*s)),t[15]=n*(s*d-u*h)-i*(r*d-o*h)+l*(r*u-o*s),t}function f(t){var e=t[0],n=t[1],r=t[2],o=t[3],a=t[4],i=t[5],s=t[6],u=t[7],c=t[8],l=t[9],h=t[10],d=t[11],f=t[12],p=t[13],_=t[14],E=t[15];return(e*i-n*a)*(h*E-d*_)-(e*s-r*a)*(l*E-d*p)+(e*u-o*a)*(l*_-h*p)+(n*s-r*i)*(c*E-d*f)-(n*u-o*i)*(c*_-h*f)+(r*u-o*s)*(c*p-l*f)}function p(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=e[9],f=e[10],p=e[11],_=e[12],E=e[13],m=e[14],v=e[15],T=n[0],A=n[1],M=n[2],g=n[3];return t[0]=T*r+A*s+M*h+g*_,t[1]=T*o+A*u+M*d+g*E,t[2]=T*a+A*c+M*f+g*m,t[3]=T*i+A*l+M*p+g*v,T=n[4],A=n[5],M=n[6],g=n[7],t[4]=T*r+A*s+M*h+g*_,t[5]=T*o+A*u+M*d+g*E,t[6]=T*a+A*c+M*f+g*m,t[7]=T*i+A*l+M*p+g*v,T=n[8],A=n[9],M=n[10],g=n[11],t[8]=T*r+A*s+M*h+g*_,t[9]=T*o+A*u+M*d+g*E,t[10]=T*a+A*c+M*f+g*m,t[11]=T*i+A*l+M*p+g*v,T=n[12],A=n[13],M=n[14],g=n[15],t[12]=T*r+A*s+M*h+g*_,t[13]=T*o+A*u+M*d+g*E,t[14]=T*a+A*c+M*f+g*m,t[15]=T*i+A*l+M*p+g*v,t}function _(t,e,n){var r,o,a,i,s,u,c,l,h,d,f,p,_=n[0],E=n[1],m=n[2];return e===t?(t[12]=e[0]*_+e[4]*E+e[8]*m+e[12],t[13]=e[1]*_+e[5]*E+e[9]*m+e[13],t[14]=e[2]*_+e[6]*E+e[10]*m+e[14],t[15]=e[3]*_+e[7]*E+e[11]*m+e[15]):(r=e[0],o=e[1],a=e[2],i=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=e[9],f=e[10],p=e[11],t[0]=r,t[1]=o,t[2]=a,t[3]=i,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=d,t[10]=f,t[11]=p,t[12]=r*_+s*E+h*m+e[12],t[13]=o*_+u*E+d*m+e[13],t[14]=a*_+c*E+f*m+e[14],t[15]=i*_+l*E+p*m+e[15]),t}function E(t,e,n){var r=n[0],o=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function m(t,e,n,o){var a,i,s,u,c,l,h,d,f,p,_,E,m,v,T,A,M,g,R,C,y,b,w,N,I=o[0],S=o[1],O=o[2],x=Math.hypot(I,S,O);return x<r.EPSILON?null:(I*=x=1/x,S*=x,O*=x,a=Math.sin(n),s=1-(i=Math.cos(n)),u=e[0],c=e[1],l=e[2],h=e[3],d=e[4],f=e[5],p=e[6],_=e[7],E=e[8],m=e[9],v=e[10],T=e[11],A=I*I*s+i,M=S*I*s+O*a,g=O*I*s-S*a,R=I*S*s-O*a,C=S*S*s+i,y=O*S*s+I*a,b=I*O*s+S*a,w=S*O*s-I*a,N=O*O*s+i,t[0]=u*A+d*M+E*g,t[1]=c*A+f*M+m*g,t[2]=l*A+p*M+v*g,t[3]=h*A+_*M+T*g,t[4]=u*R+d*C+E*y,t[5]=c*R+f*C+m*y,t[6]=l*R+p*C+v*y,t[7]=h*R+_*C+T*y,t[8]=u*b+d*w+E*N,t[9]=c*b+f*w+m*N,t[10]=l*b+p*w+v*N,t[11]=h*b+_*w+T*N,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function v(t,e,n){var r=Math.sin(n),o=Math.cos(n),a=e[4],i=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*o+c*r,t[5]=i*o+l*r,t[6]=s*o+h*r,t[7]=u*o+d*r,t[8]=c*o-a*r,t[9]=l*o-i*r,t[10]=h*o-s*r,t[11]=d*o-u*r,t}function T(t,e,n){var r=Math.sin(n),o=Math.cos(n),a=e[0],i=e[1],s=e[2],u=e[3],c=e[8],l=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o-c*r,t[1]=i*o-l*r,t[2]=s*o-h*r,t[3]=u*o-d*r,t[8]=a*r+c*o,t[9]=i*r+l*o,t[10]=s*r+h*o,t[11]=u*r+d*o,t}function A(t,e,n){var r=Math.sin(n),o=Math.cos(n),a=e[0],i=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*o+c*r,t[1]=i*o+l*r,t[2]=s*o+h*r,t[3]=u*o+d*r,t[4]=c*o-a*r,t[5]=l*o-i*r,t[6]=h*o-s*r,t[7]=d*o-u*r,t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function g(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,e,n){var o,a,i,s=n[0],u=n[1],c=n[2],l=Math.hypot(s,u,c);return l<r.EPSILON?null:(s*=l=1/l,u*=l,c*=l,o=Math.sin(e),i=1-(a=Math.cos(e)),t[0]=s*s*i+a,t[1]=u*s*i+c*o,t[2]=c*s*i-u*o,t[3]=0,t[4]=s*u*i-c*o,t[5]=u*u*i+a,t[6]=c*u*i+s*o,t[7]=0,t[8]=s*c*i+u*o,t[9]=u*c*i-s*o,t[10]=c*c*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function C(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(t,e,n){var r=e[0],o=e[1],a=e[2],i=e[3],s=r+r,u=o+o,c=a+a,l=r*s,h=r*u,d=r*c,f=o*u,p=o*c,_=a*c,E=i*s,m=i*u,v=i*c;return t[0]=1-(f+_),t[1]=h+v,t[2]=d-m,t[3]=0,t[4]=h-v,t[5]=1-(l+_),t[6]=p+E,t[7]=0,t[8]=d+m,t[9]=p-E,t[10]=1-(l+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function N(t,e){var n=new r.ARRAY_TYPE(3),o=-e[0],a=-e[1],i=-e[2],s=e[3],u=e[4],c=e[5],l=e[6],h=e[7],d=o*o+a*a+i*i+s*s;return d>0?(n[0]=2*(u*s+h*o+c*i-l*a)/d,n[1]=2*(c*s+h*a+l*o-u*i)/d,n[2]=2*(l*s+h*i+u*a-c*o)/d):(n[0]=2*(u*s+h*o+c*i-l*a),n[1]=2*(c*s+h*a+l*o-u*i),n[2]=2*(l*s+h*i+u*a-c*o)),w(t,e,n),t}function I(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function S(t,e){var n=e[0],r=e[1],o=e[2],a=e[4],i=e[5],s=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(a,i,s),t[2]=Math.hypot(u,c,l),t}function O(t,e){var n=new r.ARRAY_TYPE(3);S(n,e);var o=1/n[0],a=1/n[1],i=1/n[2],s=e[0]*o,u=e[1]*a,c=e[2]*i,l=e[4]*o,h=e[5]*a,d=e[6]*i,f=e[8]*o,p=e[9]*a,_=e[10]*i,E=s+h+_,m=0;return E>0?(m=2*Math.sqrt(E+1),t[3]=.25*m,t[0]=(d-p)/m,t[1]=(f-c)/m,t[2]=(u-l)/m):s>h&&s>_?(m=2*Math.sqrt(1+s-h-_),t[3]=(d-p)/m,t[0]=.25*m,t[1]=(u+l)/m,t[2]=(f+c)/m):h>_?(m=2*Math.sqrt(1+h-s-_),t[3]=(f-c)/m,t[0]=(u+l)/m,t[1]=.25*m,t[2]=(d+p)/m):(m=2*Math.sqrt(1+_-s-h),t[3]=(u-l)/m,t[0]=(f+c)/m,t[1]=(d+p)/m,t[2]=.25*m),t}function x(t,e,n,r){var o=e[0],a=e[1],i=e[2],s=e[3],u=o+o,c=a+a,l=i+i,h=o*u,d=o*c,f=o*l,p=a*c,_=a*l,E=i*l,m=s*u,v=s*c,T=s*l,A=r[0],M=r[1],g=r[2];return t[0]=(1-(p+E))*A,t[1]=(d+T)*A,t[2]=(f-v)*A,t[3]=0,t[4]=(d-T)*M,t[5]=(1-(h+E))*M,t[6]=(_+m)*M,t[7]=0,t[8]=(f+v)*g,t[9]=(_-m)*g,t[10]=(1-(h+p))*g,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e,n,r,o){var a=e[0],i=e[1],s=e[2],u=e[3],c=a+a,l=i+i,h=s+s,d=a*c,f=a*l,p=a*h,_=i*l,E=i*h,m=s*h,v=u*c,T=u*l,A=u*h,M=r[0],g=r[1],R=r[2],C=o[0],y=o[1],b=o[2],w=(1-(_+m))*M,N=(f+A)*M,I=(p-T)*M,S=(f-A)*g,O=(1-(d+m))*g,x=(E+v)*g,L=(p+T)*R,P=(E-v)*R,F=(1-(d+_))*R;return t[0]=w,t[1]=N,t[2]=I,t[3]=0,t[4]=S,t[5]=O,t[6]=x,t[7]=0,t[8]=L,t[9]=P,t[10]=F,t[11]=0,t[12]=n[0]+C-(w*C+S*y+L*b),t[13]=n[1]+y-(N*C+O*y+P*b),t[14]=n[2]+b-(I*C+x*y+F*b),t[15]=1,t}function P(t,e){var n=e[0],r=e[1],o=e[2],a=e[3],i=n+n,s=r+r,u=o+o,c=n*i,l=r*i,h=r*s,d=o*i,f=o*s,p=o*u,_=a*i,E=a*s,m=a*u;return t[0]=1-h-p,t[1]=l+m,t[2]=d-E,t[3]=0,t[4]=l-m,t[5]=1-c-p,t[6]=f+_,t[7]=0,t[8]=d+E,t[9]=f-_,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,e,n,r,o,a,i){var s=1/(n-e),u=1/(o-r),c=1/(a-i);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*u,t[10]=(i+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*a*2*c,t[15]=0,t}function D(t,e,n,r,o){var a,i=1/Math.tan(e/2);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(r-o),t[10]=(o+r)*a,t[14]=2*o*r*a):(t[10]=-1,t[14]=-2*r),t}var U=D;function B(t,e,n,r,o){var a,i=1/Math.tan(e/2);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(r-o),t[10]=o*a,t[14]=o*r*a):(t[10]=-1,t[14]=-r),t}function V(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(i+s),c=2/(o+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-s)*u*.5,t[9]=(o-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function X(t,e,n,r,o,a,i){var s=1/(e-n),u=1/(r-o),c=1/(a-i);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(i+a)*c,t[15]=1,t}var G=X;function k(t,e,n,r,o,a,i){var s=1/(e-n),u=1/(r-o),c=1/(a-i);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=a*c,t[15]=1,t}function Y(t,e,n,o){var a,i,s,u,l,h,d,f,p,_,E=e[0],m=e[1],v=e[2],T=o[0],A=o[1],M=o[2],g=n[0],R=n[1],C=n[2];return Math.abs(E-g)<r.EPSILON&&Math.abs(m-R)<r.EPSILON&&Math.abs(v-C)<r.EPSILON?c(t):(d=E-g,f=m-R,p=v-C,a=A*(p*=_=1/Math.hypot(d,f,p))-M*(f*=_),i=M*(d*=_)-T*p,s=T*f-A*d,(_=Math.hypot(a,i,s))?(a*=_=1/_,i*=_,s*=_):(a=0,i=0,s=0),u=f*s-p*i,l=p*a-d*s,h=d*i-f*a,(_=Math.hypot(u,l,h))?(u*=_=1/_,l*=_,h*=_):(u=0,l=0,h=0),t[0]=a,t[1]=u,t[2]=d,t[3]=0,t[4]=i,t[5]=l,t[6]=f,t[7]=0,t[8]=s,t[9]=h,t[10]=p,t[11]=0,t[12]=-(a*E+i*m+s*v),t[13]=-(u*E+l*m+h*v),t[14]=-(d*E+f*m+p*v),t[15]=1,t)}function W(t,e,n,r){var o=e[0],a=e[1],i=e[2],s=r[0],u=r[1],c=r[2],l=o-n[0],h=a-n[1],d=i-n[2],f=l*l+h*h+d*d;f>0&&(l*=f=1/Math.sqrt(f),h*=f,d*=f);var p=u*d-c*h,_=c*l-s*d,E=s*h-u*l;return(f=p*p+_*_+E*E)>0&&(p*=f=1/Math.sqrt(f),_*=f,E*=f),t[0]=p,t[1]=_,t[2]=E,t[3]=0,t[4]=h*E-d*_,t[5]=d*p-l*E,t[6]=l*_-h*p,t[7]=0,t[8]=l,t[9]=h,t[10]=d,t[11]=0,t[12]=o,t[13]=a,t[14]=i,t[15]=1,t}function H(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function q(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function j(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function z(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function K(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function $(t,e){var n=t[0],o=t[1],a=t[2],i=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],_=t[12],E=t[13],m=t[14],v=t[15],T=e[0],A=e[1],M=e[2],g=e[3],R=e[4],C=e[5],y=e[6],b=e[7],w=e[8],N=e[9],I=e[10],S=e[11],O=e[12],x=e[13],L=e[14],P=e[15];return Math.abs(n-T)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(o-A)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(a-M)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(i-g)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(s-R)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(u-C)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-b)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(h-w)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(d-N)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(f-I)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(p-S)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(_-O)<=r.EPSILON*Math.max(1,Math.abs(_),Math.abs(O))&&Math.abs(E-x)<=r.EPSILON*Math.max(1,Math.abs(E),Math.abs(x))&&Math.abs(m-L)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(v-P)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))}var J=p,tt=z},160:(t,e,n)=>{"use strict";n.r(e),n.d(e,{create:()=>o,clone:()=>a,length:()=>i,fromValues:()=>s,copy:()=>u,set:()=>c,add:()=>l,subtract:()=>h,multiply:()=>d,divide:()=>f,ceil:()=>p,floor:()=>_,min:()=>E,max:()=>m,round:()=>v,scale:()=>T,scaleAndAdd:()=>A,distance:()=>M,squaredDistance:()=>g,squaredLength:()=>R,negate:()=>C,inverse:()=>y,normalize:()=>b,dot:()=>w,cross:()=>N,lerp:()=>I,hermite:()=>S,bezier:()=>O,random:()=>x,transformMat4:()=>L,transformMat3:()=>P,transformQuat:()=>F,rotateX:()=>D,rotateY:()=>U,rotateZ:()=>B,angle:()=>V,zero:()=>X,str:()=>G,exactEquals:()=>k,equals:()=>Y,sub:()=>H,mul:()=>q,div:()=>j,dist:()=>z,sqrDist:()=>Z,len:()=>K,sqrLen:()=>Q,forEach:()=>$});var r=n(685);function o(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function i(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function s(t,e,n){var o=new r.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=n,o}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function c(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function l(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function _(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function E(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function T(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function A(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function M(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.hypot(n,r,o)}function g(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function R(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function C(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function y(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function b(t,e){var n=e[0],r=e[1],o=e[2],a=n*n+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function w(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function N(t,e,n){var r=e[0],o=e[1],a=e[2],i=n[0],s=n[1],u=n[2];return t[0]=o*u-a*s,t[1]=a*i-r*u,t[2]=r*s-o*i,t}function I(t,e,n,r){var o=e[0],a=e[1],i=e[2];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t[2]=i+r*(n[2]-i),t}function S(t,e,n,r,o,a){var i=a*a,s=i*(2*a-3)+1,u=i*(a-2)+a,c=i*(a-1),l=i*(3-2*a);return t[0]=e[0]*s+n[0]*u+r[0]*c+o[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+o[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+o[2]*l,t}function O(t,e,n,r,o,a){var i=1-a,s=i*i,u=a*a,c=s*i,l=3*a*s,h=3*u*i,d=u*a;return t[0]=e[0]*c+n[0]*l+r[0]*h+o[0]*d,t[1]=e[1]*c+n[1]*l+r[1]*h+o[1]*d,t[2]=e[2]*c+n[2]*l+r[2]*h+o[2]*d,t}function x(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,a=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=o*e,t}function L(t,e,n){var r=e[0],o=e[1],a=e[2],i=n[3]*r+n[7]*o+n[11]*a+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*o+n[8]*a+n[12])/i,t[1]=(n[1]*r+n[5]*o+n[9]*a+n[13])/i,t[2]=(n[2]*r+n[6]*o+n[10]*a+n[14])/i,t}function P(t,e,n){var r=e[0],o=e[1],a=e[2];return t[0]=r*n[0]+o*n[3]+a*n[6],t[1]=r*n[1]+o*n[4]+a*n[7],t[2]=r*n[2]+o*n[5]+a*n[8],t}function F(t,e,n){var r=n[0],o=n[1],a=n[2],i=n[3],s=e[0],u=e[1],c=e[2],l=o*c-a*u,h=a*s-r*c,d=r*u-o*s,f=o*d-a*h,p=a*l-r*d,_=r*h-o*l,E=2*i;return l*=E,h*=E,d*=E,f*=2,p*=2,_*=2,t[0]=s+l+f,t[1]=u+h+p,t[2]=c+d+_,t}function D(t,e,n,r){var o=[],a=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],a[0]=o[0],a[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),a[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function U(t,e,n,r){var o=[],a=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],a[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),a[1]=o[1],a[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function B(t,e,n,r){var o=[],a=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],a[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),a[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),a[2]=o[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function V(t,e){var n=t[0],r=t[1],o=t[2],a=e[0],i=e[1],s=e[2],u=Math.sqrt(n*n+r*r+o*o)*Math.sqrt(a*a+i*i+s*s),c=u&&w(t,e)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function X(t){return t[0]=0,t[1]=0,t[2]=0,t}function G(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Y(t,e){var n=t[0],o=t[1],a=t[2],i=e[0],s=e[1],u=e[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}var W,H=h,q=d,j=f,z=M,Z=g,K=i,Q=R,$=(W=o(),function(t,e,n,r,o,a){var i,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,i=n;i<s;i+=e)W[0]=t[i],W[1]=t[i+1],W[2]=t[i+2],o(W,W,a),t[i]=W[0],t[i+1]=W[1],t[i+2]=W[2];return t})},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,a){for(var i,s,u=o(t),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))n.call(i,l)&&(u[l]=i[l]);if(e){s=e(i);for(var h=0;h<s.length;h++)r.call(i,s[h])&&(u[s[h]]=i[s[h]])}}return u}},643:()=>{Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(187),e=n.n(t),r=n(418),o=n.n(r),a=n(685);function i(t,e){const n=t.getExtension(e);if(!n)return!1;const r=e.split("_")[0],o=new RegExp(`${r}$`);for(const e in n)if("function"==typeof n[e]){const r=e.replace(o,"");e.substring&&(t[r]=n[e].bind(n))}return!0}const s=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_color_buffer_half_float","OES_vertex_array_object","WEBGL_depth_texture","ANGLE_instanced_arrays","WEBGL_color_buffer_float","WEBGL_draw_buffers","EXT_color_buffer_float"],u=(()=>{let t=!1;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(t=!0),t})(),c=(t,e)=>{if("number"==typeof t)return a.equals(t,e);if(t.length!==e.length)return!1;let n=!0;return t.forEach(((t,r)=>{n=a.equals(t,e[r])&&n})),n},l={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HALF_FLOAT:36193,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321},h={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36193:"HALF_FLOAT",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"},d={alpha:!1,depth:!0,premultipliedAlpha:!1};var f=n(975),p=n(600);let _=0;function E(){let t,e,n=[0,0,0,0],r=0,a=0,E=0,v=(()=>{const t=document.createElement("canvas");return!(!t.getContext("experimental-webgl2")&&!t.getContext("webgl2"))})(),T=u;const A=f.create(),M=f.create(),g=f.create(),R=p.create(),C=f.create(),y=p.create();this.id="WebGLContext"+_++,this.canvas,this.gl,this.CONTEXT_LOST="contextLost",this.CONTEXT_RESTORED="contextRestored",this.shaderCount=0,this.bufferCount=0,this.textureCount=0,this.frameBufferCount=0,this.maxAnisotropy=0,this.multiRenderTargetSupport=!1,this.maxMultiRenderTargets=0,this.init=function(t,e={}){const n=o()({},d,e);if(void 0!==t){if(t instanceof HTMLCanvasElement){this.canvas=t;let r=v?"webgl2":"webgl";e.webgl1&&(r="webgl",v=!1),this.gl=t.getContext(r,n)}else window.WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?(v=!0,this.gl=t,this.canvas=t.canvas):t instanceof WebGLRenderingContext?(v=!1,this.gl=t,this.canvas=t.canvas):console.error("The source has to be one of the following : Canvas, WebGLRenderingContext or WebGL2RenderingContext");this.canvas.addEventListener("webglcontextlost",w),this.canvas.addEventListener("webglcontextrestored",N),this.extensions=(t=>{const{gl:e}=t,n=window.WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,r={};s.forEach((t=>{r[t]=e.getExtension(t)})),n||(r.OES_vertex_array_object||console.error("OES_vertex_array_object extension is not supported"),i(e,"OES_vertex_array_object"),i(e,"ANGLE_instanced_arrays"),i(e,"WEBGL_draw_buffers"));const o=r.EXT_texture_filter_anisotropic;if(o&&(t.maxAnisotropy=e.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),t.multiRenderTargetSupport=!!t.gl.drawBuffers,t.multiRenderTargetSupport){const n=t.gl.MAX_DRAW_BUFFERS||r.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL;t.maxMultiRenderTargets=e.getParameter(n)}return r})(this),(t=>{for(const e in l)t[e]?console.log("already exist : ",e):t[e]=l[e];if(t.webgl2){const e=/^[^a-z]*$/;for(const n in t.gl)e.test(n)&&-1===n.indexOf("FLOAT")&&(t[n]=t.gl[n],l[n]=t.gl[n],h[t[n]]=n)}})(this),this.setSize(this.canvas.width,this.canvas.height),this.enable(this.BLEND),this.enableAlphaBlending(),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.cullFace(m.BACK)}else{const t=document.createElement("canvas");this.init(t,n)}},this.clear=function(t=0,e=0,n=0,r=0){const{gl:o}=this;o.clearColor(t,e,n,r),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)},this.setSize=function(t,e){a=Math.floor(t),E=Math.floor(e),this.canvas.width=a,this.canvas.height=E,r=a/E,this.viewport(0,0,a,E)},this.viewport=function(t,e,r,o){c(n,[t,e,r,o])||(n=[t,e,r,o],this.gl.viewport(t,e,r,o))},this.getViewport=function(){return n},this.getAspectRatio=function(){return r},this.enable=function(t){this.gl.enable(t)},this.disable=function(t){this.gl.disable(t)},this.cullFace=function(t){this.gl.cullFace(t)},this.enableAlphaBlending=function(){const{gl:t}=this;t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)},this.enableAdditiveBlending=function(){const{gl:t}=this;t.blendFunc(t.ONE,t.ONE)},this.setMatrices=function(t){e=t,this.setModelMatrix(M)},this.setModelMatrix=function(t){f.copy(g,t),void 0!==e&&(f.multiply(A,e.viewMatrix,g),p.fromMat4(R,A),p.invert(R,R),p.transpose(R,R),p.fromMat4(y,A),p.invert(y,y),f.invert(C,e.viewMatrix))},this.useShader=function(e){t=e,this.shaderProgram=e.shaderProgram,this.gl.useProgram(this.shaderProgram)},this.draw=function(e){if(e.length)return void e.forEach((t=>this.draw(t)));b(),t.updateUniforms(),e.bind(this);const{drawType:n}=e,{gl:r}=this;e.isInstanced?r.drawElementsInstanced(e.drawType,e.numItems,r.UNSIGNED_INT,0,e.numInstance):n===r.POINTS?r.drawArrays(n,0,e.vertexSize):r.drawElements(n,e.numItems,r.UNSIGNED_INT,0),e.unbind()},this.getCamera=function(){return e},this.destroy=function(t=!0){this.gl.getExtension("WEBGL_lose_context").loseContext(),t&&void 0!==this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)},this.__defineGetter__("width",(function(){return a})),this.__defineGetter__("height",(function(){return E})),this.__defineGetter__("webgl2",(function(){return v})),this.__defineGetter__("isMobile",(function(){return T})),this.__defineGetter__("aspectRatio",(function(){return r}));const b=()=>{void 0!==e&&(t.uniform("uProjectionMatrix","mat4",e.projectionMatrix),t.uniform("uViewMatrix","mat4",e.viewMatrix),t.uniform("uNormalMatrix","mat3",R),t.uniform("uModelViewMatrixInverse","mat3",y)),t.uniform("uModelMatrix","mat4",g)},w=()=>{this.emit(this.CONTEXT_LOST)},N=()=>{this.emit(this.CONTEXT_RESTORED)}}E.prototype=Object.assign(Object.create(e().prototype),{constructor:E});const m=new E,v={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",ivec2:"uniform2i",ivec3:"uniform3i",ivec4:"uniform4i",mat2:"uniformMatrix2fv",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},T=t=>"number"==typeof t?t:t.slice?t.slice(0):new Float32Array(t),A=t=>"object"==typeof t?function(t){return 9===t.length?"mat3":16===t.length?"mat4":`vec${t.length}`}(t):"float";function M(t,e){let n;this.vertexShader=t||"// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}",this.fragmentShader=e||"precision highp float;\n#define GLSLIFY 1\n// varying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_FragColor = vec4(1.0);\n}",this.shaderProgram;let r={};this.bind=function(t){if(void 0===t||void 0===n||t===n){if(n=t||m,!this.shaderProgram){const t=o(this.vertexShader,!0),e=o(this.fragmentShader,!1);a(t,e)}n.useShader(this)}else console.error("this shader has been bind to a different WebGL Rendering Context",n.id)},this.uniform=function(t,e,n){let o,a;void 0===n?(a=A(e),o=e):(a=e,o=n);const i=v[a];if(r[t]){const e=r[t];c(e.value,o)||(e.value=T(o),e.changed=!0)}else r[t]={type:a,uniformType:i,value:T(o),changed:!0};return this},this.updateUniforms=function(){if(!n)return void console.warn("No WebGL Context has been set yet, please call shader.bind() first");const{gl:t}=n;for(let e in r){const n=r[e];if(n.changed){const r=e;n.uniformLoc||(n.uniformLoc=t.getUniformLocation(this.shaderProgram,r));const{uniformLoc:o,uniformType:a,value:i}=n;null!==o&&(-1===a.indexOf("Matrix")?t[a](o,i):t[a](o,!1,i)),n.changed=!1}}},this.destroy=function(){const{gl:t}=n;t.deleteProgram(this.shaderProgram),n.shaderCount--};const o=(t,e)=>{const{gl:r}=n,o=e?n.VERTEX_SHADER:n.FRAGMENT_SHADER,a=r.createShader(o);return r.shaderSource(a,t),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS)?a:(console.warn("Error in Shader : ",r.getShaderInfoLog(a)),console.log((t=>{const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=`${t+1}: ${e[t]}`;return e.join("\n")})(t)),null)},a=(t,e)=>{const{gl:r}=n;this.shaderProgram=r.createProgram(),r.attachShader(this.shaderProgram,t),r.attachShader(this.shaderProgram,e),r.deleteShader(t),r.deleteShader(e),r.linkProgram(this.shaderProgram),n.shaderCount++}}function g(t=l.TRIANGLES){this.drawType=t,this.numItems=0;let e,n,r,o,a,i=[],s=[],u=[],c=!0,h=!1,d=0;this.bufferData=function(t,e,n,r=l.STATIC_DRAW,o=!1){let a,i=[];if("number"==typeof t[0]){if(a=t,void 0===n)return console.error("Missing element size for flatten data :",e),this;for(let t=0;t<a.length;t+=n){const e=[];for(let r=0;r<n;r++)e.push(a[t+r]);i.push(e)}}else i=t,a=(t=>{if(t[0]instanceof Float32Array){const e=t.reduce(((t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n]);return t}),[]);return e}return t.flat()})(t);const s=void 0===n?t[0].length:n;return f(a,t,e,s,r,o)},this.bufferInstance=function(t,e){const n=t[0].length;return d=t.length,this.bufferData(t,e,n,l.STATIC_DRAW,!0)},this.bufferVertex=function(t,e=l.STATIC_DRAW){return this.bufferData(t,"aVertexPosition",3,e)},this.bufferTexCoord=function(t,e=l.STATIC_DRAW){return this.bufferData(t,"aTextureCoord",2,e)},this.bufferNormal=function(t,e=l.STATIC_DRAW){return this.bufferData(t,"aNormal",3,e)},this.bufferIndex=function(t,e=l.STATIC_DRAW){return n=e,r=new Uint32Array(t),this.numItems=r.length,c=!0,this},this.bind=function(t){if(void 0!==t&&void 0!==a&&t!==a)return void console.error("this mesh has been bind to a different WebGL Rendering Context");a=t||GL;const{gl:n}=a;p(),n.bindVertexArray(e),this.vertexSize=this.getSource("aVertexPosition").length},this.unbind=function(){},this.getAttribute=function(t){return i.find((e=>e.name===t))},this.getAttributes=function(){return i},this.getSource=function(t){const e=this.getAttribute(t);return e?e.source:[]},this.generateFaces=function(){let t,e,n,o,a,i;u=[];const{vertices:s}=this;for(let c=0;c<r.length;c+=3){t=r[c],e=r[c+1],n=r[c+2],o=s[t],a=s[e],i=s[n];const l={indices:[t,e,n],vertices:[o,a,i]};u.push(l)}},this.destroy=function(){const{gl:t}=a;i.forEach((e=>{t.deleteBuffer(e.buffer),e.source=[],e.dataArray=[],a.bufferCount--})),o&&(t.deleteBuffer(o),a.bufferCount--),t.deleteVertexArray(e),i=[],r=[],s=[]},this.__defineGetter__("vertices",(function(){return this.getSource("aVertexPosition")})),this.__defineGetter__("coords",(function(){return this.getSource("aTextureCoord")})),this.__defineGetter__("normal",(function(){return this.getSource("aNormal")})),this.__defineGetter__("indices",(function(){return r})),this.__defineGetter__("faces",(function(){return u})),this.__defineGetter__("isInstanced",(function(){return h})),this.__defineGetter__("numInstance",(function(){return d}));const f=(t,e,n,r,o=l.STATIC_DRAW,a=!1)=>{const u=o;h=a||h;const c=new Float32Array(t),d=this.getAttribute(n);return d?(d.itemSize=r,d.dataArray=c,d.source=e):i.push({name:n,source:e,itemSize:r,usage:u,dataArray:c,isInstanced:a}),s.push(n),this},p=()=>{const{shaderProgram:t,gl:n}=a;0!=s.length&&(e||(e=n.createVertexArray()),n.bindVertexArray(e),i.forEach((e=>{if(-1!==s.indexOf(e.name)){const r=function(t,e){let n;const{gl:r}=e;return void 0!==t.buffer?n=t.buffer:(n=r.createBuffer(),t.buffer=n,e.bufferCount++),n}(e,a);n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,e.dataArray,e.usage);const o=((t,e,n)=>(void 0===e.cacheAttribLoc&&(e.cacheAttribLoc={}),void 0===e.cacheAttribLoc[n]&&(e.cacheAttribLoc[n]=t.getAttribLocation(e,n)),e.cacheAttribLoc[n]))(n,t,e.name);o>=0&&(n.enableVertexAttribArray(o),n.vertexAttribPointer(o,e.itemSize,n.FLOAT,!1,0,0)),e.attrPosition=o,e.isInstanced&&n.vertexAttribDivisor(o,1)}})),_(),n.bindVertexArray(null),c=!1,s=[])},_=()=>{const{gl:t}=a;c&&(o||(o=t.createBuffer(),a.bufferCount++),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,n))}}const R=t=>0!==t&&!(t&t-1);class C{constructor(t){this._value=t}set(t,e=1){this._value=this._value,this._value=0===e?this._value&0<<t:this._value|1<<t}get(t){let e=this._value&1<<t;return e>>=t,1===e}reset(t){this._value=t}get value(){return this._value}}const y="This texture has been bind to a different WebGL Rendering Context",b=(t,e="")=>{console.error(t,e)};class w{constructor(t,e={},n=0,r=0){this._source=t,this._isHtmlElement=(t=>t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)(this._source),(this._isHtmlElement||!t||((t,e)=>{let n=!0;return"Array"===t.constructor.name&&(console.error("Please convert texture source to Unit8Array or Float32Array"),n=!1),void 0===e.type&&"Uint8Array"!==t.constructor.name&&console.error("Using none Unit8Array, pleaes specify type in the texture parameters"),n})(t,e))&&(this._getDimension(t,n,r),this._params=function(t,e,n){if(!t.minFilter){let r=l.LINEAR;e&&e&&R(e)&&R(n)&&(r=l.NEAREST_MIPMAP_LINEAR),t.minFilter=r}return t.mipmap=void 0===t.mipmap||t.mipmap,t.magFilter=t.magFilter||l.LINEAR,t.wrapS=t.wrapS||l.CLAMP_TO_EDGE,t.wrapT=t.wrapT||l.CLAMP_TO_EDGE,t.internalFormat=t.internalFormat||l.RGBA,t.format=t.format||l.RGBA,t.premultiplyAlpha=void 0!==t.premultiplyAlpha&&t.premultiplyAlpha,t.level=t.level||0,t.type=t.type||l.UNSIGNED_BYTE,t}(e,this._width,this._height),this._checkMipmap(),this._parametersState=new C(0))}bind(t,e){if(void 0!==e&&void 0!==this.GL&&e!==this.GL)return void b(y,this.GL.id);this.GL=e||m;const{gl:n}=this.GL;this.createTexture(this.GL),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,this._texture),this._checkParameters()}createTexture(t){void 0===t||void 0===this.GL||t===this.GL?(this.GL=t||m,this._texture||(((t,e)=>{t.webgl2&&(e.type===l.HALF_FLOAT?(e.type=t.gl.HALF_FLOAT,e.internalFormat=l.RGBA16F):e.type===l.FLOAT&&(e.internalFormat=l.RGBA32F))})(this.GL,this._params),this._uploadTexture())):b(y,this.GL.id)}updateTexture(t){this._source=t,this._uploadTexture()}generateMipmap(){if(!this._generateMipmap)return;const{gl:t}=this.GL;t.bindTexture(t.TEXTURE_2D,this._texture),t.generateMipmap(t.TEXTURE_2D)}destroy(){const{gl:t}=this.GL;t.deleteTexture(this._texture),this.GL.textureCount--}showProperties(){console.log("Dimension :",this._width,this._height);for(const t in this._params)console.log(t,h[this._params[t]]||this._params[t])}_uploadTexture(){const{gl:t}=this.GL;this._texture||(this._texture=t.createTexture(),this.GL.textureCount++),t.bindTexture(t.TEXTURE_2D,this._texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),this._isHtmlElement&&!this.GL.webgl2?t.texImage2D(t.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._params.type,this._source):t.texImage2D(t.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._params.type,this._source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this._params.magFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this._params.minFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this._params.wrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this._params.wrapT),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),this._generateMipmap&&t.generateMipmap(t.TEXTURE_2D)}_checkParameters(){const{gl:t}=this.GL;this._parametersState.value>0&&(this._parametersState.get(0)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this._params.minFilter):this._parametersState.get(1)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this._params.magFilter):this._parametersState.get(2)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this._params.wrapS):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this._params.wrapT)),this._parametersState.reset(0)}_getDimension(t,e,n){t?(this._width=t.width||t.videoWidth,this._height=t.height||t.videoWidth,this._width=this._width||e,this._height=this._height||n,this._width&&this._height||(this._width=this._height=Math.sqrt(t.length/4))):(this._width=e,this._height=n)}_checkMipmap(){this._generateMipmap=this._params.mipmap,R(this._width)&&R(this._height)||(this._generateMipmap=!1),-1===h[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}get texture(){return this._texture}set minFilter(t){this._params.minFilter=t,this._parametersState.set(0,1)}get minFilter(){return this._params.minFilter}set magFilter(t){this._params.magFilter=t,this._parametersState.set(1,1)}get magFilter(){return this._params.magFilter}set wrapS(t){this._params.wrapS=t,this._parametersState.set(2,1)}get wrapS(){return this._params.wrapS}set wrapT(t){this._params.wrapT=t,this._parametersState.set(3,1)}get wrapT(){return this._params.wrapT}get width(){return this._width}get height(){return this._height}}class N{constructor(t){return this._GL=t||m,this._uniforms={},this._uniformTextures=[],this._fbo,this._clearColor={r:0,g:0,b:0,a:0},this}setClearColor(t=0,e=0,n=0,r=0){return this._clearColor.r=t,this._clearColor.g=e,this._clearColor.b=n,this._clearColor.a=r,this}useProgram(t,e){return this._shader=t instanceof M?t:new M(t,e),this}setMesh(t){return this._mesh=t,this}createMesh(t){return this._mesh=new g(t),this}bufferVertex(t){return this._mesh||(this._mesh=new g),this._mesh.bufferVertex(t),this}bufferTexCoord(t){return this._mesh||(this._mesh=new g),this._mesh.bufferTexCoord(t),this}bufferNormal(t){return this._mesh||(this._mesh=new g),this._mesh.bufferNormal(t),this}bufferIndex(t){return this._mesh||(this._mesh=new g),this._mesh.bufferIndex(t),this}bufferInstance(t,e){return this._mesh?(this._mesh.bufferInstance(t,e),this):(console.warn("Need to create mesh first"),this)}bufferData(t,e){return this._mesh||(this._mesh=new g),this._mesh.bufferData(t,e),this}uniform(t,e,n){const r=t;let o,a;return void 0===n?(a=A(e),o=e):(a=e,o=n),this._uniforms[r]={type:a,value:o},this}uniformTexture(t,e,n){return this.bindTexture(t,e,n)}bindTexture(t,e,n){return void 0!==n?this._uniformTextures[n]={name:t,texture:e}:this._uniformTextures.push({name:t,texture:e}),this}bindFrameBuffer(t){return this._fbo=t,this}draw(){if(this._shader){if(this._mesh){if(this._fbo){const{r:t,g:e,b:n,a:r}=this._clearColor;this._fbo.bind(this._GL),this._GL.clear(t,e,n,r)}this._shader.bind(this._GL);for(const t in this._uniforms){const e=this._uniforms[t];this._shader.uniform(t,e.type,e.value)}return this._uniformTextures.forEach(((t,e)=>{void 0!==t&&(this._shader.uniform(t.name,"int",e),t.texture.bind(e,this._GL))})),this._GL.draw(this._mesh),this._fbo&&this._fbo.unbind(),this}console.warn("No Mesh assigned for draw call")}else console.warn("No GLShader assigned for draw call")}get shader(){return this._shader}get framebuffer(){return this._fbo}}const{mat4:I,vec4:S}=n(370);let O=window,x=60,L=performance.now(),P=0,F=0,D=L;const U=[],B=[],V=[],X=[];let G=[],k=[],Y=-1,W=0;function H(){!function(){let t,e=0,n=1e3/x,r=0;for(e=0;e<U.length;e++)t=U[e],null!=t&&t.func(t.args);for(;G.length>0;)t=G.pop(),t.func(t.args);let o=performance.now();for(F=(o-L)/1e3,P=o-D,e=0;e<B.length;e++)t=B[e],o-t.time>t.delay&&(t.func(t.args),B.splice(e,1));for(o=performance.now();V.length>0;){if(t=V.shift(),r=performance.now(),!(r-o<n)){V.unshift(t);break}t.func(t.args)}for(o=performance.now();X.length>0;)t=X.shift(),r=performance.now(),r-o<n&&t.func(t.args);D=o,G=G.concat(k),k=[]}(),Y=O.requestAnimationFrame(H)}H();var q={addEF:function(t,e){const n=++W;return U[n]={func:t,args:e},n},removeEF:function(t){return void 0!==U[t]&&(U[t]=null),-1},delay:function(t,e,n){const r=performance.now();B.push({func:t,args:e,delay:n,time:r})},next:function(t,e){k.push({func:t,args:e})},defer:function(t,e){V.push({func:t,args:e})},usurp:function(t,e){X.push({func:t,args:e})},setRequestAnimationFrameSource:function(t){Y>-1&&window.cancelAnimationFrame(Y),O=t,H()},setFrameRate:function(t){x=t},getElapsedTime:function(){return F},getDeltaTime:function(){return P}};const j=q;class z{constructor(t,e=.1){this.easing=e,this._value=t,this._targetValue=t,this._efIndex=j.addEF((()=>this._update()))}_update(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}setTo(t){this._targetValue=this._value=t}add(t){this._targetValue+=t}limit(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}_checkLimit(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}destroy(){j.removeEF(this._efIndex)}set value(t){this._targetValue=t}get value(){return this._value}get targetValue(){return this._targetValue}}var Z=n(160);const K=function(t,e){const n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n};class Q{constructor(t,e=window,n=10){this._target=t,this._listenerTarget=e,this._mouse={},this._preMouse={},this.center=Z.create(),this._up=Z.fromValues(0,1,0),this.radius=new z(n),this.position=Z.fromValues(0,0,this.radius.value),this.positionOffset=Z.create(),this._rx=new z(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new z(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=t=>this._onWheel(t),this._downBind=t=>this._onDown(t),this._moveBind=t=>this._onMove(t),this._upBind=()=>this._onUp(),this.connect(),j.addEF((()=>this._loop()))}connect(){this.disconnect(),this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}disconnect(){this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}lock(t=!0){this._isLockZoom=t,this._isLockRotation=t,this._isMouseDown=!1}lockZoom(t=!0){this._isLockZoom=t}lockRotation(t=!0){this._isLockRotation=t}inverseControl(t=!0){this._isInvert=t}_onDown(t){this._isLockRotation||(this._isMouseDown=!0,K(t,this._mouse),K(t,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}_onMove(t){if(!this._isLockRotation&&(K(t,this._mouse),t.touches&&t.preventDefault(),this._isMouseDown)){let t=-(this._mouse.x-this._preMouse.x);this._isInvert&&(t*=-1),this._ry.value=this._preRY-.01*t*this.sensitivity;let e=-(this._mouse.y-this._preMouse.y);this._isInvert&&(e*=-1),this._rx.value=this._preRX-.01*e*this.sensitivity}}_onUp(){this._isLockRotation||(this._isMouseDown=!1)}_onWheel(t){if(this._isLockZoom)return;const e=t.wheelDelta,n=t.detail;let r=0;r=n?e?e/n/40*n>0?1:-1:-n/3:e/120,this.radius.add(2*-r),this.radius.targetValue<0&&(this.radius.value=1e-4)}_loop(){this._updatePosition(),this._target&&this._updateCamera()}update(){this._updatePosition()}_updatePosition(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;const t=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*t,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*t,Z.add(this.position,this.position,this.positionOffset)}_updateCamera(){this._target.lookAt(this.position,this.center,this._up)}get rx(){return this._rx}get ry(){return this._ry}}function $(t,e){this.origin=t,this.direction=e;const n=Z.create(),r=Z.create(),o=Z.create(),a=Z.create(),i=Z.create(),s=Z.create(),u=Z.create(),c=Z.create();this.at=function(t){return Z.copy(a,this.direction),Z.scale(a,a,t),Z.add(a,a,this.origin),a},this.lookAt=function(t){Z.sub(this.direction,t,this.origin),Z.normalize(this.origin,this.origin)},this.closestPointToPoint=function(t){const e=Z.create();Z.sub(t,this.origin);const n=Z.dot(e,this.direction);return n<0?Z.clone(this.origin):(Z.copy(e,this.direction),Z.scale(e,e,n),Z.add(e,e,this.origin),e)},this.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},this.distanceSqToPoint=function(t){const e=Z.create();Z.sub(e,t,this.origin);const n=Z.dot(e,this.direction);return n<0?Z.squaredDistance(this.origin,t):(Z.copy(e,this.direction),Z.scale(e,e,n),Z.add(e,e,this.origin),Z.squaredDistance(e,t))},this.intersectsSphere=function(t,e){return this.distanceToPoint(t)<=e},this.intersectSphere=function(t,e){const n=Z.create();Z.sub(n,t,this.origin);const r=Z.dot(n,this.direction),o=Z.dot(n,n)-r*r,a=e*e;if(o>a)return null;const i=Math.sqrt(a-o),s=r-i,u=r+i;return s<0&&u<0?null:s<0?this.at(u):this.at(s)},this.intersectTriangle=function(t,e,a,l=!0){Z.copy(n,t),Z.copy(r,e),Z.copy(o,a),Z.sub(i,r,n),Z.sub(s,o,n),Z.cross(u,i,s);let h,d=Z.dot(this.direction,u);if(d>0){if(l)return null;h=1}else{if(!(d<0))return null;h=-1,d=-d}Z.sub(c,this.origin,n),Z.cross(s,c,s);const f=h*Z.dot(this.direction,s);if(f<0)return null;Z.cross(i,i,c);const p=h*Z.dot(this.direction,i);if(p<0)return null;if(f+p>d)return null;const _=-h*Z.dot(c,u);return _<0?null:this.at(_/d)}}class J extends class{constructor(){this._mtxView=f.create(),this._mtxProj=f.create(),this._near=0,this._far=0,this._lookDir=Z.create()}lookAt(t,e,n=[0,1,0]){f.lookAt(this._mtxView,t,e,n)}setFromViewProjection(t,e){f.copy(this._mtxView,t),f.copy(this._mtxProj,e)}setViewMatrix(t){f.copy(this._mtxView,t)}setProjectionMatrix(t){f.copy(this._mtxProj,t)}_updateMatrices(){}get viewMatrix(){return this._mtxView}get view(){return this._mtxView}get projectionMatrix(){return this._mtxProj}get projection(){return this._mtxProj}get position(){const t=f.create();return f.invert(t,this._mtxView),[t[12],t[13],t[14]]}get direction(){const t=p.create();return p.fromMat4(t,this._mtxView),p.transpose(t,t),Z.transformMat3(this._lookDir,[0,0,-1],t),Z.normalize(this._lookDir,this._lookDir),this._lookDir}set near(t){this._near=t,this._updateMatrices()}get near(){return this._near}set far(t){this._far=t,this._updateMatrices()}get far(){return this._far}}{constructor(t,e,n,r){super(),this._fov=0,this._ratio=0,this.setPerspective(t,e,n,r)}setPerspective(t,e,n,r){f.perspective(this._mtxProj,t,e,n,r),this._near=n,this._far=r,this._fov=t,this._ratio=e}setAspectRatio(t){this._ratio=t,this._updateMatrices()}generateRay(t,e){const n=f.create(),r=Z.create(),o=this._mtxProj,a=this._mtxView;return f.multiply(n,o,a),f.invert(n,n),Z.transformMat4(r,t,n),Z.sub(r,r,this.position),Z.normalize(r,r),e?(e.origin=this.position,e.direction=r):e=new $(this.position,r),e}_updateMatrices(){this.setPerspective(this._fov,this._ratio,this._near,this._far)}}n(643);const tt=(t,e)=>void 0===t?fxrand():void 0===e?fxrand()*t:t+(e-t)*fxrand();var et=n(382);const nt=new WeakSet,rt=new WeakMap,ot=new WeakMap,at=new WeakMap,it=new WeakMap,st=new WeakMap,ut=new WeakMap,ct=new WeakMap,lt=new WeakMap,ht=new WeakMap,dt={construct:()=>dt},ft=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,pt=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),o=r.match(ft);for(;null!==o;){const t=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(ft)}return[n.join(";"),r]},_t=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Et=t=>{if(!(t=>{try{new new Proxy(t,dt)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},mt=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},vt=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Tt=(t,e,n,r)=>{const o=mt(t,e),a=vt(o,(t=>t[0]===n&&t[1]===r));return 0===o.size&&t.delete(e),a},At=t=>mt(ut,t),Mt=t=>{if(nt.has(t))throw new Error("The AudioNode is already stored.");nt.add(t),At(t).forEach((t=>t(!0)))},gt=t=>"port"in t,Rt=t=>{if(!nt.has(t))throw new Error("The AudioNode is not stored.");nt.delete(t),At(t).forEach((t=>t(!1)))},Ct=(t,e)=>{!gt(t)&&e.every((t=>0===t.size))&&Rt(t)},yt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},bt=(t,e)=>t.context===e,wt=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Nt=()=>new DOMException("","IndexSizeError"),It=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw Nt();throw t}})},St={numberOfChannels:1},Ot=-34028234663852886e22,xt=-Ot,Lt=t=>nt.has(t),Pt={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Ft=t=>mt(rt,t),Dt=t=>mt(at,t),Ut=(t,e)=>{const{activeInputs:n}=Ft(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||Ut(n,[...e,t])}))));const r=(t=>"playbackRate"in t)(t)?[t.playbackRate]:gt(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of r){const n=Dt(t);void 0!==n&&n.activeInputs.forEach((([t])=>Ut(t,e)))}Lt(t)&&Rt(t)},Bt=t=>"context"in t,Vt=t=>Bt(t[0]),Xt=(t,e,n,r)=>{for(const e of t)if(n(e)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Gt=(t,e,[n,r],o)=>{Xt(t,[e,n,r],(t=>t[0]===e&&t[1]===n),o)},kt=(t,[e,n,r],o)=>{const a=t.get(e);void 0===a?t.set(e,new Set([[n,r]])):Xt(a,[n,r],(t=>t[0]===n),o)},Yt=t=>"inputs"in t,Wt=(t,e,n,r)=>{if(Yt(e)){const o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]},Ht=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},qt=(t,e)=>{if(!At(t).delete(e))throw new Error("Missing the expected event listener.")},jt=(t,e,n)=>{const r=mt(t,e),o=vt(r,(t=>t[0]===n));return 0===r.size&&t.delete(e),o},zt=(t,e,n,r)=>{Yt(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Zt=t=>mt(ot,t),Kt=t=>mt(it,t),Qt=t=>ct.has(t),$t=t=>!nt.has(t),Jt=(t,e)=>new Promise((n=>{if(null!==e)n(!0);else{const e=t.createScriptProcessor(256,1,1),r=t.createGain(),o=t.createBuffer(1,2,44100),a=o.getChannelData(0);a[0]=1,a[1]=1;const i=t.createBufferSource();i.buffer=o,i.loop=!0,i.connect(e).connect(t.destination),i.connect(r),i.disconnect(r),e.onaudioprocess=r=>{const o=r.inputBuffer.getChannelData(0);Array.prototype.some.call(o,(t=>1===t))?n(!0):n(!1),i.stop(),e.onaudioprocess=null,i.disconnect(e),e.disconnect(t.destination)},i.start()}})),te=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},ee=t=>"context"in t,ne=t=>{const e=new Map;var n,r;t.connect=(n=t.connect.bind(t),(t,r=0,o=0)=>{const a=ee(t)?n(t,r,o):n(t,r),i=e.get(t);return void 0===i?e.set(t,[{input:o,output:r}]):i.every((t=>t.input!==o||t.output!==r))&&i.push({input:o,output:r}),a}),t.disconnect=(r=t.disconnect,(n,o,a)=>{if(r.apply(t),void 0===n)e.clear();else if("number"==typeof n)for(const[t,r]of e){const o=r.filter((t=>t.output!==n));0===o.length?e.delete(t):e.set(t,o)}else if(e.has(n))if(void 0===o)e.delete(n);else{const t=e.get(n);if(void 0!==t){const r=t.filter((t=>t.output!==o&&(t.input!==a||void 0===a)));0===r.length?e.delete(n):e.set(n,r)}}for(const[n,r]of e)r.forEach((e=>{ee(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})},re=(t,e,n,r,o)=>{const[a,i]=((t,e,n,r)=>{const{activeInputs:o,passiveInputs:a}=Ft(e),i=Ht(o[r],t,n);return null===i?[Tt(a,t,n,r)[2],!1]:[i[2],!0]})(t,n,r,o);if(null!==a&&(qt(t,a),!i||e||Qt(t)||zt(Zt(t),Zt(n),r,o)),Lt(n)){const{activeInputs:t}=Ft(n);Ct(n,t)}},oe=(t,e,n,r)=>{const[o,a]=((t,e,n)=>{const{activeInputs:r,passiveInputs:o}=Dt(e),a=Ht(r,t,n);return null===a?[jt(o,t,n)[1],!1]:[a[2],!0]})(t,n,r);null!==o&&(qt(t,o),!a||e||Qt(t)||Zt(t).disconnect(Kt(n),r))};class ae{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,r)=>t.call(e,n,r,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}function ie(t,e,n,r,o){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{const a=t.getChannelData(r);if(0===e[n].byteLength)e[n]=a.slice(o,o+128);else{const t=new Float32Array(a.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const se=(t,e,n,r,o)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],r,o):0!==e[n].byteLength&&t.getChannelData(r).set(e[n],o)},ue=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const t=[],o="number"==typeof e?e:e[r];for(let e=0;e<o;e+=1)t.push(new Float32Array(128));n.push(t)}return n},ce=async(t,e,n,r,o,a,i)=>{const s=null===e?128*Math.ceil(t.context.length/128):e.length,u=r.channelCount*r.numberOfInputs,c=o.reduce(((t,e)=>t+e),0),l=0===c?null:n.createBuffer(c,s,n.sampleRate);if(void 0===a)throw new Error("Missing the processor constructor.");const h=Ft(t),d=await((t,e)=>{const n=mt(ht,t),r=Zt(e);return mt(n,r)})(n,t),f=ue(r.numberOfInputs,r.channelCount),p=ue(r.numberOfOutputs,o),_=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let c=0;c<s;c+=128){if(r.numberOfInputs>0&&null!==e)for(let t=0;t<r.numberOfInputs;t+=1)for(let n=0;n<r.channelCount;n+=1)ie(e,f[t],n,n,c);void 0!==a.parameterDescriptors&&null!==e&&a.parameterDescriptors.forEach((({name:t},n)=>{ie(e,_,t,u+n,c)}));for(let t=0;t<r.numberOfInputs;t+=1)for(let e=0;e<o[t];e+=1)0===p[t][e].byteLength&&(p[t][e]=new Float32Array(128));try{const t=f.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=i(c/n.sampleRate,n.sampleRate,(()=>d.process(t,p,_)));if(null!==l)for(let t=0,e=0;t<r.numberOfOutputs;t+=1){for(let n=0;n<o[t];n+=1)se(l,p[t],n,e+n,c);e+=o[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return l},le={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},he={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},de={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},fe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},pe={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},_e=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((r=>{const o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}finally{o()}}))},Ee={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},me=(t,e,n)=>{const r=e[n];if(void 0===r)throw t();return r},ve={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Te={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Ae=()=>new DOMException("","InvalidStateError"),Me=()=>new DOMException("","InvalidAccessError"),ge={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Re=(t,e,n,r,o,a,i,s,u,c,l)=>{const h=c.length;let d=s;for(let s=0;s<h;s+=1){let h=n[0]*c[s];for(let e=1;e<o;e+=1){const r=d-e&u-1;h+=n[e]*a[r],h-=t[e]*i[r]}for(let t=o;t<r;t+=1)h+=n[t]*a[d-t&u-1];for(let n=o;n<e;n+=1)h-=t[n]*i[d-n&u-1];a[d]=c[s],i[d]=h,d=d+1&u-1,l[s]=h}return d},Ce={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},ye=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},be=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n]&&(t[n]=r)},we=(t,e)=>{be(t,e,"channelCount"),be(t,e,"channelCountMode"),be(t,e,"channelInterpretation")},Ne=t=>"function"==typeof t.getFloatTimeDomainData,Ie=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n].value&&(t[n].value=r)},Se=t=>{var e;t.start=(e=t.start,(n=0,r=0,o)=>{if("number"==typeof o&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})},Oe=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},xe=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Le=(t,e)=>{const n=t.createBiquadFilter();return we(n,e),Ie(n,e,"Q"),Ie(n,e,"detune"),Ie(n,e,"frequency"),Ie(n,e,"gain"),be(n,e,"type"),n},Pe=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return we(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ae()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Ae()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Ae()}})})(n),n},Fe=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),De=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return we(n,e),Ie(n,e,"delayTime"),n},Ue=(t,e)=>{const n=t.createGain();return we(n,e),Ie(n,e,"gain"),n};function Be(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Ve(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Xe(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Ve(n,e),n[0]+=t[r];return n}const Ge=(t,e,n,r)=>t.createScriptProcessor(e,n,r),ke=()=>new DOMException("","NotSupportedError"),Ye={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},We={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},He={disableNormalization:!1},qe={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},je=()=>new DOMException("","UnknownError"),ze={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Ze=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Ke=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},Qe=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:a,set:i}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(a),set:r(i)})},$e=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(9!==r.code)throw r;$e(t,e,n+1e-7)}},Je=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},tn=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},en=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},nn=(t,e)=>{const n=e.createGain();t.connect(n);const r=(o=t.disconnect,()=>{o.call(t,n),t.removeEventListener("ended",r)});var o;t.addEventListener("ended",r),Fe(t,n),t.stop=(e=>{let r=!1;return(o=0)=>{if(r)try{e.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else e.call(t,o),r=!0}})(t.stop)},rn=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},on=(t=>(e,n,[r,o,a],i)=>{t(e[o],[n,r,a],(t=>t[0]===n&&t[1]===r),i)})(Xt),an=(t=>(e,n,[r,o,a],i)=>{const s=e.get(r);void 0===s?e.set(r,new Set([[o,n,a]])):t(s,[o,n,a],(t=>t[0]===o&&t[1]===n),i)})(Xt),sn=(t=>(e,n,r,o)=>t(e[o],(t=>t[0]===n&&t[1]===r)))(vt),un=new WeakMap,cn=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(un),ln=(hn=new Map,dn=new WeakMap,(t,e)=>{const n=dn.get(t);if(void 0!==n)return n;const r=hn.get(t);if(void 0!==r)return r;try{const n=e();return n instanceof Promise?(hn.set(t,n),n.catch((()=>!1)).then((e=>(hn.delete(t),dn.set(t,e),e)))):(dn.set(t,n),n)}catch{return dn.set(t,!1),!1}});var hn,dn;const fn="undefined"==typeof window?null:window,pn=((t,e)=>(n,r)=>{const o=n.createAnalyser();if(we(o,r),!(r.maxDecibels>r.minDecibels))throw e();return be(o,r,"fftSize"),be(o,r,"maxDecibels"),be(o,r,"minDecibels"),be(o,r,"smoothingTimeConstant"),t(Ne,(()=>Ne(o)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let t=0;t<r;t+=1)e[t]=.0078125*(n[t]-128);return e}})(o),o})(ln,Nt),_n=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(Ft),En=((t,e,n)=>async(r,o,a)=>{const i=t(r);await Promise.all(i.activeInputs.map(((t,i)=>Array.from(t).map((async([t,s])=>{const u=e(t),c=await u.render(t,o),l=r.context.destination;n(t)||r===l&&n(r)||c.connect(a,s,i)})))).reduce(((t,e)=>[...t,...e]),[]))})(Ft,_n,Qt),mn=((t,e,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=e(o);if(!bt(i,a)){const e={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,fftSize:i.fftSize,maxDecibels:i.maxDecibels,minDecibels:i.minDecibels,smoothingTimeConstant:i.smoothingTimeConstant};i=t(a,e)}return r.set(a,i),await n(o,a,i),i})(o,a)}}})(pn,Zt,En),vn=(Tn=st,t=>{const e=Tn.get(t);if(void 0===e)throw Ae();return e});var Tn;const An=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(fn),Mn=(t=>e=>null!==t&&e instanceof t)(An),gn=new WeakMap,Rn=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,r){if(null!==n){let o=this._listeners.get(n);void 0===o&&(o=t(this,n),"function"==typeof n&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(e,o,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const r=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===r?null:r,n)}})(rn),Cn=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(fn),yn=(t=>e=>null!==t&&e instanceof t)(Cn),bn=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(fn),wn=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(fn),Nn=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(fn),In=((t,e,n,r,o,a,i,s,u,c,l,h,d,f,p,_)=>class extends c{constructor(e,r,o,a){super(o),this._context=e,this._nativeAudioNode=o;const i=l(e);h(i)&&!0!==n(Jt,(()=>Jt(i,_)))&&ne(o),ot.set(this,o),ut.set(this,new Set),"closed"!==e.state&&r&&Mt(this),t(this,a,o)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,s=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw o();const c=l(this._context),h=p(c);if(d(t)||f(t))throw a();if(Bt(t)){const o=Zt(t);try{const e=Wt(this._nativeAudioNode,o,n,s),r=$t(this);(h||r)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!r&&$t(t)&&Mt(t)}catch(t){if(12===t.code)throw a();throw t}if(e(this,t,n,s,h)){const e=u([this],t);te(e,r(h))}return t}const _=Kt(t);if("playbackRate"===_.name&&1024===_.maxValue)throw i();try{this._nativeAudioNode.connect(_,n),(h||$t(this))&&this._nativeAudioNode.disconnect(_,n)}catch(t){if(12===t.code)throw a();throw t}if(((t,e,n,r)=>{const{activeInputs:o,passiveInputs:a}=Dt(e),{outputs:i}=Ft(t),s=At(t),u=i=>{const s=Zt(t),u=Kt(e);if(i){const e=jt(a,t,n);Gt(o,t,e,!1),r||Qt(t)||s.connect(u,n)}else{const e=((t,e,n)=>vt(t,(t=>t[0]===e&&t[1]===n)))(o,t,n);kt(a,e,!1),r||Qt(t)||s.disconnect(u,n)}};return!!Xt(i,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(s.add(u),Lt(t)?Gt(o,t,[n,u],!0):kt(a,[t,n,u],!0),!0)})(this,t,n,h)){const e=u([this],t);te(e,r(h))}}disconnect(t,e,n){let r;const i=l(this._context),c=p(i);if(void 0===t)r=((t,e)=>{const n=Ft(t),r=[];for(const o of n.outputs)Vt(o)?re(t,e,...o):oe(t,e,...o),r.push(o[0]);return n.outputs.clear(),r})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw o();r=((t,e,n)=>{const r=Ft(t),o=[];for(const a of r.outputs)a[1]===n&&(Vt(a)?re(t,e,...a):oe(t,e,...a),o.push(a[0]),r.outputs.delete(a));return o})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw o();if(Bt(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw o();if(r=((t,e,n,r,o)=>{const a=Ft(t);return Array.from(a.outputs).filter((t=>!(t[0]!==n||void 0!==r&&t[1]!==r||void 0!==o&&t[2]!==o))).map((n=>(Vt(n)?re(t,e,...n):oe(t,e,...n),a.outputs.delete(n),n[0])))})(this,c,t,e,n),0===r.length)throw a()}for(const t of r){const e=u([this],t);te(e,s)}}})((Sn=rt,(t,e,n)=>{const r=[];for(let t=0;t<n.numberOfInputs;t+=1)r.push(new Set);Sn.set(t,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,r,o,a,i,s,u,c,l,h,d)=>{const f=new WeakMap;return(p,_,E,m,v)=>{const{activeInputs:T,passiveInputs:A}=a(_),{outputs:M}=a(p),g=s(p),R=a=>{const s=u(_),c=u(p);if(a){const e=Tt(A,p,E,m);t(T,p,e,!1),v||h(p)||n(c,s,E,m),d(_)&&Mt(_)}else{const t=r(T,p,E,m);e(A,m,t,!1),v||h(p)||o(c,s,E,m);const n=i(_);if(0===n)l(_)&&Ct(_,T);else{const t=f.get(_);void 0!==t&&clearTimeout(t),f.set(_,setTimeout((()=>{l(_)&&Ct(_,T)}),1e3*n))}}};return!!c(M,[_,E,m],(t=>t[0]===_&&t[1]===E&&t[2]===m),!0)&&(g.add(R),l(p)?t(T,p,[E,m,R],!0):e(A,m,[p,E,R],!0),!0)}})(on,an,Wt,sn,zt,Ft,cn,At,Zt,Xt,Lt,Qt,$t),ln,((t,e,n,r,o,a)=>i=>(s,u)=>{const c=t.get(s);if(void 0===c){if(!i&&a(s)){const t=r(s),{outputs:a}=n(s);for(const n of a)if(Vt(n)){const o=r(n[0]);e(t,o,n[1],n[2])}else{const e=o(n[0]);t.disconnect(e,n[1])}}t.set(s,u)}else t.set(s,c+u)})(ct,zt,Ft,Zt,Kt,Lt),Nt,Me,ke,((t,e,n,r,o,a,i,s)=>(u,c)=>{const l=e.get(u);if(void 0===l)throw new Error("Missing the expected cycle count.");const h=a(u.context),d=s(h);if(l===c){if(e.delete(u),!d&&i(u)){const e=r(u),{outputs:a}=n(u);for(const n of a)if(Vt(n)){const o=r(n[0]);t(e,o,n[1],n[2])}else{const t=o(n[0]);e.connect(t,n[1])}}}else e.set(u,l-c)})(Wt,ct,Ft,Zt,Kt,vn,Lt,Mn),((t,e,n)=>function r(o,a){const i=Bt(a)?a:n(t,a);if((t=>"delayTime"in t)(i))return[];if(o[0]===i)return[o];if(o.includes(i))return[];const{outputs:s}=e(i);return Array.from(s).map((t=>r([...o,i],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(gn,Ft,mt),Rn,vn,yn,bn,wn,Mn,Nn);var Sn;const On=((t,e,n,r,o,a)=>class extends t{constructor(t,n){const i=o(t),s={...yt,...n},u=r(i,s);super(t,!1,u,a(i)?e():null),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(In,mn,Nt,pn,vn,Mn),xn=new WeakSet,Ln=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(fn),Pn=(Fn=new Uint32Array(1),t=>(Fn[0]=t,Fn[0]));var Fn;const Dn=((t,e)=>n=>{n.copyFromChannel=(r,o,a=0)=>{const i=t(a),s=t(o);if(s>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(s),l=r.length;for(let t=i<0?-i:0;t+i<u&&t<l;t+=1)r[t]=c[t+i]},n.copyToChannel=(r,o,a=0)=>{const i=t(a),s=t(o);if(s>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(s),l=r.length;for(let t=i<0?-i:0;t+i<u&&t<l;t+=1)c[t+i]=r[t]}})(Pn,Nt),Un=(t=>e=>{e.copyFromChannel=(n=>(r,o,a=0)=>{const i=t(a),s=t(o);if(i<e.length)return n.call(e,r,s,i)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,a=0)=>{const i=t(a),s=t(o);if(i<e.length)return n.call(e,r,s,i)})(e.copyToChannel)})(Pn),Bn=((t,e,n,r,o,a,i,s)=>{let u=null;return class c{constructor(c){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:h,sampleRate:d}={...St,...c};null===u&&(u=new o(1,1,44100));const f=null!==r&&e(a,a)?new r({length:l,numberOfChannels:h,sampleRate:d}):u.createBuffer(h,l,d);if(0===f.numberOfChannels)throw n();return"function"!=typeof f.copyFromChannel?(i(f),It(f)):e(wt,(()=>wt(f)))||s(f),t.add(f),f}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(xn,ln,ke,Ln,An,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(Ln),Dn,Un),Vn=(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)})(Ue),Xn=((t,e,n)=>async(r,o,a)=>{const i=e(r);await Promise.all(Array.from(i.activeInputs).map((async([e,r])=>{const i=t(e),s=await i.render(e,o);n(e)||s.connect(a,r)})))})(_n,Dt,Qt),Gn=(t=>(e,n,r)=>t(n,e,r))(Xn),kn=((t,e,n,r,o,a,i,s,u,c,l)=>(u,h)=>{const d=u.createBufferSource();return we(d,h),Ie(d,h,"playbackRate"),be(d,h,"buffer"),be(d,h,"loop"),be(d,h,"loopEnd"),be(d,h,"loopStart"),e(n,(()=>n(u)))||(t=>{t.start=(e=>{let n=!1;return(r=0,o=0,a)=>{if(n)throw Ae();e.call(t,r,o,a),n=!0}})(t.start)})(d),e(r,(()=>r(u)))||(t=>{var e;t.start=(e=t.start,(n=0,r=0,o)=>{const a=t.buffer,i=null===a?r:Math.min(a.duration,r);null!==a&&i>a.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,i,o)})})(d),e(o,(()=>o(u)))||c(d,u),e(a,(()=>a(u)))||Se(d),e(i,(()=>i(u)))||l(d,u),e(s,(()=>s(u)))||Oe(d),t(u,d),d})(Vn,ln,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),Je,tn,en,0,(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=r),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===r?null:n}),(t=>n=>t.call(e,null===n?r:n)))})(Qe),nn),Yn=((t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(Dt),Xn),Wn=((t,e,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(t){i=t},set stop(t){s=t},render(u,c){const l=a.get(c);return void 0!==l?Promise.resolve(l):(async(u,c)=>{let l=n(u);const h=bt(l,c);if(!h){const t={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=e(c,t),null!==i&&l.start(...i),null!==s&&l.stop(s)}return a.set(c,l),h?await t(c,u.playbackRate,l.playbackRate):await r(c,u.playbackRate,l.playbackRate),await o(u,c,l),l})(u,c)}}})(Gn,kn,Zt,Yn,En),Hn=((t,e,n,r,o,a,i,s,u,c,l,h,d)=>(r,f,p,_=null,E=null)=>{const m=new et.AutomationEventList(p.defaultValue),v=f?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:r}=n;e.exponentialRampToValueAtTime(r,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:r}=n;e.linearRampToValueAtTime(r,t)}else if("setTarget"===n.type){const{startTime:t,target:r,timeConstant:o}=n;e.setTargetAtTime(r,t,o)}else if("setValue"===n.type){const{startTime:t,value:r}=n;e.setValueAtTime(r,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:r,values:o}=n;e.setValueCurveAtTime(o,r,t)}}}}))(m):null,T={get defaultValue(){return p.defaultValue},get maxValue(){return null===_?p.maxValue:_},get minValue(){return null===E?p.minValue:E},get value(){return p.value},set value(t){p.value=t,T.setValueAtTime(t,r.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof p.cancelAndHoldAtTime)null===v&&m.flush(r.context.currentTime),m.add(o(t)),p.cancelAndHoldAtTime(t);else{const e=Array.from(m).pop();null===v&&m.flush(r.context.currentTime),m.add(o(t));const n=Array.from(m).pop();p.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?p.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?p.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?p.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&p.setValueCurveAtTime(n.values,n.startTime,n.duration))}return T},cancelScheduledValues:t=>(null===v&&m.flush(r.context.currentTime),m.add(a(t)),p.cancelScheduledValues(t),T),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===v&&m.flush(r.context.currentTime),m.add(i(t,e)),p.exponentialRampToValueAtTime(t,e),T},linearRampToValueAtTime:(t,e)=>(null===v&&m.flush(r.context.currentTime),m.add(s(t,e)),p.linearRampToValueAtTime(t,e),T),setTargetAtTime:(t,e,n)=>(null===v&&m.flush(r.context.currentTime),m.add(u(t,e,n)),p.setTargetAtTime(t,e,n),T),setValueAtTime:(t,e)=>(null===v&&m.flush(r.context.currentTime),m.add(c(t,e)),p.setValueAtTime(t,e),T),setValueCurveAtTime(t,e,n){const o=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,a=r.context.sampleRate,i=Math.ceil(e*a),s=Math.floor(t*a),u=s-i,c=new Float32Array(u);for(let t=0;t<u;t+=1){const r=(o.length-1)/n*((i+t)/a-e),s=Math.floor(r),u=Math.ceil(r);c[t]=s===u?o[s]:(1-(r-s))*o[s]+(1-(u-r))*o[u]}null===v&&m.flush(r.context.currentTime),m.add(l(c,e,n)),p.setValueCurveAtTime(c,e,n);const h=s/a;h<t&&d(T,c[c.length-1],h),d(T,o[o.length-1],t)}else null===v&&m.flush(r.context.currentTime),m.add(l(o,e,n)),p.setValueCurveAtTime(o,e,n);return T}};return n.set(T,p),e.set(T,r),t(T,v),T})((qn=at,(t,e)=>{qn.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),gn,it,0,et.createCancelAndHoldAutomationEvent,et.createCancelScheduledValuesAutomationEvent,et.createExponentialRampToValueAutomationEvent,et.createLinearRampToValueAutomationEvent,et.createSetTargetAutomationEvent,et.createSetValueAutomationEvent,et.createSetValueCurveAutomationEvent,Cn,$e);var qn;const jn=((t,e,n,r,o,a,i,s)=>class extends t{constructor(t,r){const s=a(t),u={...Pt,...r},c=o(s,u),l=i(s),h=l?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==u.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,l,c.playbackRate,xt,Ot)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?s(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){Mt(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),Lt(this)&&Rt(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(In,Wn,Hn,Ae,kn,vn,Mn,rn),zn=((t,e,n,r,o,a,i,s)=>class extends t{constructor(t,e){const n=a(t),r=i(n),u=o(n,e,r);super(t,!1,u,r?(t=>{const e=new WeakMap;return{render(n,r){const o=e.get(r);return void 0!==o?Promise.resolve(o):(async(n,r)=>{const o=r.destination;return e.set(r,o),await t(n,r,o),o})(n,r)}}})(s):null),this._isNodeOfNativeOfflineAudioContext=r,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(In,0,Nt,Ae,((t,e)=>(n,r,o)=>{const a=n.destination;if(a.channelCount!==r)try{a.channelCount=r}catch{}o&&"explicit"!==a.channelCountMode&&(a.channelCountMode="explicit"),0===a.maxChannelCount&&Object.defineProperty(a,"maxChannelCount",{value:r});const i=t(n,{channelCount:r,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return e(i,"channelCount",(t=>()=>t.call(i)),(t=>e=>{t.call(i,e);try{a.channelCount=e}catch(t){if(e>a.maxChannelCount)throw t}})),e(i,"channelCountMode",(t=>()=>t.call(i)),(t=>e=>{t.call(i,e),a.channelCountMode=e})),e(i,"channelInterpretation",(t=>()=>t.call(i)),(t=>e=>{t.call(i,e),a.channelInterpretation=e})),Object.defineProperty(i,"maxChannelCount",{get:()=>a.maxChannelCount}),i.connect(a),i})(Ue,Qe),vn,Mn,En),Zn=((t,e,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s)=>{let u=n(i);const c=bt(u,s);if(!c){const t={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(s,t)}return a.set(s,u),c?(await t(s,i.Q,u.Q),await t(s,i.detune,u.detune),await t(s,i.frequency,u.frequency),await t(s,i.gain,u.gain)):(await r(s,i.Q,u.Q),await r(s,i.detune,u.detune),await r(s,i.frequency,u.frequency),await r(s,i.gain,u.gain)),await o(i,s,u),u})(i,s)}}})(Gn,Le,Zt,Yn,En),Kn=(t=>(e,n)=>t.set(e,n))(un),Qn=((t,e,n,r,o,a,i,s)=>class extends t{constructor(t,r){const u=a(t),c={...le,...r},l=o(u,c),h=i(u);super(t,!1,l,h?n():null),this._Q=e(this,h,l.Q,xt,Ot),this._detune=e(this,h,l.detune,1200*Math.log2(xt),-1200*Math.log2(xt)),this._frequency=e(this,h,l.frequency,t.sampleRate/2,0),this._gain=e(this,h,l.gain,40*Math.log10(xt),Ot),this._nativeBiquadFilterNode=l,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw r();throw t}if(t.length!==e.length||e.length!==n.length)throw r()}})(In,Hn,Zn,Me,Le,vn,Mn,Kn),$n=((t,e)=>(n,r,o)=>{const a=new Set;var i,s;return n.connect=(i=n.connect,(o,s=0,u=0)=>{const c=0===a.size;if(e(o))return i.call(n,o,s,u),t(a,[o,s,u],(t=>t[0]===o&&t[1]===s&&t[2]===u),!0),c&&r(),o;i.call(n,o,s),t(a,[o,s],(t=>t[0]===o&&t[1]===s),!0),c&&r()}),n.disconnect=(s=n.disconnect,(t,r,i)=>{const u=a.size>0;if(void 0===t)s.apply(n),a.clear();else if("number"==typeof t){s.call(n,t);for(const e of a)e[1]===t&&a.delete(e)}else{e(t)?s.call(n,t,r,i):s.call(n,t,r);for(const e of a)e[0]!==t||void 0!==r&&e[1]!==r||void 0!==i&&e[2]!==i||a.delete(e)}const c=0===a.size;u&&c&&o()}),n})(Xt,bn),Jn=((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=n.createBufferSource();e(r,(()=>{const t=r.numberOfInputs;for(let e=0;e<t;e+=1)o.connect(r,0,e)}),(()=>o.disconnect(r)))})(Ae,$n),tr=((t,e)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,o),we(o,r),o})(Cn,Jn),er=((t,e,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=e(o);if(!bt(i,a)){const e={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfInputs:i.numberOfInputs};i=t(a,e)}return r.set(a,i),await n(o,a,i),i})(o,a)}}})(tr,Zt,En),nr=((t,e,n,r,o)=>class extends t{constructor(t,a){const i=r(t),s={...he,...a};super(t,!1,n(i,s),o(i)?e():null)}})(In,er,tr,vn,Mn),rr=((t,e,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=e(o);if(!bt(i,a)){const e={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfOutputs:i.numberOfOutputs};i=t(a,e)}return r.set(a,i),await n(o,a,i),i})(o,a)}}})(Pe,Zt,En),or=((t,e,n,r,o,a)=>class extends t{constructor(t,a){const i=r(t),s=(t=>({...t,channelCount:t.numberOfOutputs}))({...de,...a});super(t,!1,n(i,s),o(i)?e():null)}})(In,rr,Pe,vn,Mn),ar=((t,e,n,r)=>(o,{offset:a,...i})=>{const s=o.createBuffer(1,2,44100),u=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(o,{...i,gain:a}),l=s.getChannelData(0);l[0]=1,l[1]=1,u.buffer=s,u.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(t){u.onended=t},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2]),start(t=0){u.start.call(u,t)},stop(t=0){u.stop.call(u,t)}};return t(o,u),r(Fe(h,c),(()=>u.connect(c)),(()=>u.disconnect(c)))})(Vn,kn,Ue,$n),ir=((t,e,n,r,o)=>(a,i)=>{if(void 0===a.createConstantSource)return n(a,i);const s=a.createConstantSource();return we(s,i),Ie(s,i,"offset"),e(r,(()=>r(a)))||Se(s),e(o,(()=>o(a)))||Oe(s),t(a,s),s})(Vn,ln,ar,Je,en),sr=((t,e,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null;return{set start(t){i=t},set stop(t){s=t},render(u,c){const l=a.get(c);return void 0!==l?Promise.resolve(l):(async(u,c)=>{let l=n(u);const h=bt(l,c);if(!h){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,offset:l.offset.value};l=e(c,t),null!==i&&l.start(i),null!==s&&l.stop(s)}return a.set(c,l),h?await t(c,u.offset,l.offset):await r(c,u.offset,l.offset),await o(u,c,l),l})(u,c)}}})(Gn,ir,Zt,Yn,En),ur=((t,e,n,r,o,a,i)=>class extends t{constructor(t,i){const s=o(t),u={...fe,...i},c=r(s,u),l=a(s),h=l?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,l,c.offset,xt,Ot),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?i(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){Mt(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),Lt(this)&&Rt(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(In,Hn,sr,ir,vn,Mn,rn),cr=((t,e)=>(n,r)=>{const o=n.createConvolver();if(we(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),be(o,r,"buffer"),r.channelCount>2)throw t();if(e(o,"channelCount",(t=>()=>t.call(o)),(e=>n=>{if(n>2)throw t();return e.call(o,n)})),"max"===r.channelCountMode)throw t();return e(o,"channelCountMode",(t=>()=>t.call(o)),(e=>n=>{if("max"===n)throw t();return e.call(o,n)})),o})(ke,Qe),lr=((t,e,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=e(o);if(!bt(i,a)){const e={buffer:i.buffer,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,disableNormalization:!i.normalize};i=t(a,e)}return r.set(a,i),Yt(i)?await n(o,a,i.inputs[0]):await n(o,a,i),i})(o,a)}}})(cr,Zt,En),hr=((t,e,n,r,o,a)=>class extends t{constructor(t,i){const s=r(t),u={...pe,...i},c=n(s,u);super(t,!1,c,o(s)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==u.buffer&&a(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(In,lr,cr,vn,Mn,Kn),dr=((t,e,n,r,o)=>a=>{const i=new WeakMap;return{render(s,u){const c=i.get(u);return void 0!==c?Promise.resolve(c):(async(s,u)=>{let c=n(s);const l=bt(c,u);if(!l){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:a};c=e(u,t)}return i.set(u,c),l?await t(u,s.delayTime,c.delayTime):await r(u,s.delayTime,c.delayTime),await o(s,u,c),c})(s,u)}}})(Gn,De,Zt,Yn,En),fr=((t,e,n,r,o,a,i)=>class extends t{constructor(t,s){const u=o(t),c={...Ee,...s},l=r(u,c),h=a(u);super(t,!1,l,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,l.delayTime),i(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(In,Hn,dr,De,vn,Mn,Kn),pr=(t=>(e,n)=>{const r=e.createDynamicsCompressor();if(we(r,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Ie(r,n,"attack"),Ie(r,n,"knee"),Ie(r,n,"ratio"),Ie(r,n,"release"),Ie(r,n,"threshold"),r})(ke),_r=((t,e,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s)=>{let u=n(i);const c=bt(u,s);if(!c){const t={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(s,t)}return a.set(s,u),c?(await t(s,i.attack,u.attack),await t(s,i.knee,u.knee),await t(s,i.ratio,u.ratio),await t(s,i.release,u.release),await t(s,i.threshold,u.threshold)):(await r(s,i.attack,u.attack),await r(s,i.knee,u.knee),await r(s,i.ratio,u.ratio),await r(s,i.release,u.release),await r(s,i.threshold,u.threshold)),await o(i,s,u),u})(i,s)}}})(Gn,pr,Zt,Yn,En),Er=((t,e,n,r,o,a,i,s)=>class extends t{constructor(t,o){const u=a(t),c={...ve,...o},l=r(u,c),h=i(u);super(t,!1,l,h?n():null),this._attack=e(this,h,l.attack),this._knee=e(this,h,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=e(this,h,l.ratio),this._release=e(this,h,l.release),this._threshold=e(this,h,l.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(In,Hn,_r,pr,ke,vn,Mn,Kn),mr=((t,e,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s)=>{let u=n(i);const c=bt(u,s);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(s,t)}return a.set(s,u),c?await t(s,i.gain,u.gain):await r(s,i.gain,u.gain),await o(i,s,u),u})(i,s)}}})(Gn,Ue,Zt,Yn,En),vr=((t,e,n,r,o,a)=>class extends t{constructor(t,i){const s=o(t),u={...Te,...i},c=r(s,u),l=a(s);super(t,!1,c,l?n():null),this._gain=e(this,l,c.gain,xt,Ot)}get gain(){return this._gain}})(In,Hn,mr,Ue,vn,Mn),Tr=((t,e,n,r)=>(o,a,{channelCount:i,channelCountMode:s,channelInterpretation:u,feedback:c,feedforward:l})=>{const h=xe(a,o.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),f=l instanceof Float64Array?l:new Float64Array(l),p=d.length,_=f.length,E=Math.min(p,_);if(0===p||p>20)throw r();if(0===d[0])throw e();if(0===_||_>20)throw r();if(0===f[0])throw e();if(1!==d[0]){for(let t=0;t<_;t+=1)f[t]/=d[0];for(let t=1;t<p;t+=1)d[t]/=d[0]}const m=n(o,h,i,i);m.channelCount=i,m.channelCountMode=s,m.channelInterpretation=u;const v=[],T=[],A=[];for(let t=0;t<i;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),T.push(t),A.push(e)}m.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,r=e.numberOfChannels;for(let t=0;t<r;t+=1){const r=e.getChannelData(t),o=n.getChannelData(t);v[t]=Re(d,p,f,_,E,T[t],A[t],v[t],32,r,o)}};const M=o.sampleRate/2,g={get bufferSize(){return h},get channelCount(){return m.channelCount},set channelCount(t){m.channelCount=t},get channelCountMode(){return m.channelCountMode},set channelCountMode(t){m.channelCountMode=t},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(t){m.channelInterpretation=t},get context(){return m.context},get inputs(){return[m]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},addEventListener:(...t)=>m.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>m.dispatchEvent(t[0]),getFrequencyResponse(e,n,r){if(e.length!==n.length||n.length!==r.length)throw t();const o=e.length;for(let t=0;t<o;t+=1){const o=-Math.PI*(e[t]/M),a=[Math.cos(o),Math.sin(o)],i=Be(Xe(f,a),Xe(d,a));n[t]=Math.sqrt(i[0]*i[0]+i[1]*i[1]),r[t]=Math.atan2(i[1],i[0])}},removeEventListener:(...t)=>m.removeEventListener(t[0],t[1],t[2])};return Fe(g,m)})(Me,Ae,Ge,ke),Ar=((t,e,n,r)=>o=>t(ye,(()=>ye(o)))?Promise.resolve(t(r,r)).then((t=>{if(!t){const t=n(o,512,0,1);o.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>o.currentTime,t.connect(o.destination)}return o.startRendering()})):new Promise((t=>{const n=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(o.destination),o.startRendering()})))(ln,Ue,Ge,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{r.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(Ue,An)),Mr=((t,e,n,r,o)=>(a,i)=>{const s=new WeakMap;let u=null;return{render(c,l){const h=s.get(l);return void 0!==h?Promise.resolve(h):(async(c,l)=>{let h=null,d=e(c);const f=bt(d,l);if(void 0===l.createIIRFilter?h=t(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(d=l.createIIRFilter(i,a)),s.set(l,null===h?d:h),null!==h){if(null===u){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,l.sampleRate);u=(async()=>(await r(c,t,t.destination),((t,e,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),a=r instanceof Float64Array?r:new Float64Array(r),i=o.length,s=a.length,u=Math.min(i,s);if(1!==o[0]){for(let t=0;t<i;t+=1)a[t]/=o[0];for(let t=1;t<s;t+=1)o[t]/=o[0]}const c=new Float32Array(32),l=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let e=0;e<d;e+=1){const n=t.getChannelData(e),r=h.getChannelData(e);c.fill(0),l.fill(0),Re(o,i,a,s,u,c,l,0,32,n,r)}return h})(await o(t),l,a,i)))()}const t=await u;return h.buffer=t,h.start(0),h}return await r(c,l,d),d})(c,l)}}})(kn,Zt,An,En,Ar),gr=(t=>(e,n,r)=>{if(void 0===e.createIIRFilter)return t(e,n,r);const o=e.createIIRFilter(r.feedforward,r.feedback);return we(o,r),o})(Tr),Rr=((t,e,n,r,o,a)=>class extends t{constructor(t,i){const s=r(t),u=o(s),c={...ge,...i},l=e(s,u?null:t.baseLatency,c);super(t,!1,l,u?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw Me();return e.call(t,n,r,o)})})(l),this._nativeIIRFilterNode=l,a(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(In,gr,Mr,vn,Mn,Kn),Cr=((t,e,n,r,o,a,i,s)=>(u,c)=>{const l=c.listener,{forwardX:h,forwardY:d,forwardZ:f,positionX:p,positionY:_,positionZ:E,upX:m,upY:v,upZ:T}=void 0===l.forwardX?(()=>{const h=new Float32Array(1),d=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),f=i(c);let p=!1,_=[0,0,-1,0,1,0],E=[0,0,0];const m=()=>{if(p)return;p=!0;const t=r(c,256,9,0);t.onaudioprocess=({inputBuffer:t})=>{const e=[a(t,h,0),a(t,h,1),a(t,h,2),a(t,h,3),a(t,h,4),a(t,h,5)];e.some(((t,e)=>t!==_[e]))&&(l.setOrientation(...e),_=e);const n=[a(t,h,6),a(t,h,7),a(t,h,8)];n.some(((t,e)=>t!==E[e]))&&(l.setPosition(...n),E=n)},d.connect(t)},v=t=>e=>{e!==_[t]&&(_[t]=e,l.setOrientation(..._))},T=t=>e=>{e!==E[t]&&(E[t]=e,l.setPosition(...E))},A=(e,r,a)=>{const i=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});i.connect(d,0,e),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>r});const l=t({context:u},f,i.offset,xt,Ot);var h,p,_,E,v,T,A;return s(l,"value",(t=>()=>t.call(l)),(t=>e=>{try{t.call(l,e)}catch(t){if(9!==t.code)throw t}m(),f&&a(e)})),l.cancelAndHoldAtTime=(h=l.cancelAndHoldAtTime,f?()=>{throw o()}:(...t)=>{const e=h.apply(l,t);return m(),e}),l.cancelScheduledValues=(p=l.cancelScheduledValues,f?()=>{throw o()}:(...t)=>{const e=p.apply(l,t);return m(),e}),l.exponentialRampToValueAtTime=(_=l.exponentialRampToValueAtTime,f?()=>{throw o()}:(...t)=>{const e=_.apply(l,t);return m(),e}),l.linearRampToValueAtTime=(E=l.linearRampToValueAtTime,f?()=>{throw o()}:(...t)=>{const e=E.apply(l,t);return m(),e}),l.setTargetAtTime=(v=l.setTargetAtTime,f?()=>{throw o()}:(...t)=>{const e=v.apply(l,t);return m(),e}),l.setValueAtTime=(T=l.setValueAtTime,f?()=>{throw o()}:(...t)=>{const e=T.apply(l,t);return m(),e}),l.setValueCurveAtTime=(A=l.setValueCurveAtTime,f?()=>{throw o()}:(...t)=>{const e=A.apply(l,t);return m(),e}),l};return{forwardX:A(0,0,v(0)),forwardY:A(1,0,v(1)),forwardZ:A(2,-1,v(2)),positionX:A(6,0,T(0)),positionY:A(7,0,T(1)),positionZ:A(8,0,T(2)),upX:A(3,0,v(3)),upY:A(4,1,v(4)),upZ:A(5,0,v(5))}})():l;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return f},get positionX(){return p},get positionY(){return _},get positionZ(){return E},get upX(){return m},get upY(){return v},get upZ(){return T}}})(Hn,tr,ir,Ge,ke,Ze,Mn,Qe),yr=new WeakMap,br=((t,e,n,r,o,a)=>class extends n{constructor(n,a){super(n),this._nativeContext=n,st.set(this,n),r(n)&&o.set(n,new Set),this._destination=new t(this,a),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?a(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(zn,Cr,Rn,Mn,yr,rn),wr=((t,e,n,r,o,a)=>(i,s)=>{const u=i.createOscillator();return we(u,s),Ie(u,s,"detune"),Ie(u,s,"frequency"),void 0!==s.periodicWave?u.setPeriodicWave(s.periodicWave):be(u,s,"type"),e(n,(()=>n(i)))||Se(u),e(r,(()=>r(i)))||a(u,i),e(o,(()=>o(i)))||Oe(u),t(i,u),u})(Vn,ln,Je,tn,en,nn),Nr=((t,e,n,r,o)=>()=>{const a=new WeakMap;let i=null,s=null,u=null;return{set periodicWave(t){i=t},set start(t){s=t},set stop(t){u=t},render(c,l){const h=a.get(l);return void 0!==h?Promise.resolve(h):(async(c,l)=>{let h=n(c);const d=bt(h,l);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===i?void 0:i,type:h.type};h=e(l,t),null!==s&&h.start(s),null!==u&&h.stop(u)}return a.set(l,h),d?(await t(l,c.detune,h.detune),await t(l,c.frequency,h.frequency)):(await r(l,c.detune,h.detune),await r(l,c.frequency,h.frequency)),await o(c,l,h),h})(c,l)}}})(Gn,wr,Zt,Yn,En),Ir=((t,e,n,r,o,a,i)=>class extends t{constructor(t,i){const s=o(t),u={...Ye,...i},c=n(s,u),l=a(s),h=l?r():null,d=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,l,c.detune,153600,-153600),this._frequency=e(this,l,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==u.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?i(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){Mt(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),Lt(this)&&Rt(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(In,Hn,wr,Nr,vn,Mn,rn),Sr=(t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(kn),Or=((t,e,n,r,o)=>(a,{curve:i,oversample:s,...u})=>{const c=a.createWaveShaper(),l=a.createWaveShaper();we(c,u),we(l,u);const h=n(a,{...u,gain:1}),d=n(a,{...u,gain:-1}),f=n(a,{...u,gain:1}),p=n(a,{...u,gain:-1});let _=null,E=!1,m=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,c.channelCount=t,f.channelCount=t,l.channelCount=t,p.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,c.channelCountMode=t,f.channelCountMode=t,l.channelCountMode=t,p.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,c.channelInterpretation=t,f.channelInterpretation=t,l.channelInterpretation=t,p.channelInterpretation=t},get context(){return c.context},get curve(){return m},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,l.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),r=new Float32Array(t+2-t%2);e[0]=n[0],r[0]=-n[t-1];const o=Math.ceil((t+1)/2),a=(t+1)/2-1;for(let i=1;i<o;i+=1){const s=i/o*a,u=Math.floor(s),c=Math.ceil(s);e[i]=u===c?n[u]:(1-(s-u))*n[u]+(1-(c-s))*n[c],r[i]=u===c?-n[t-1-u]:-(1-(s-u))*n[t-1-u]-(1-(c-s))*n[t-1-c]}e[o]=t%2==1?n[o-1]:(n[o-2]+n[o-1])/2,c.curve=e,l.curve=r}m=n,E&&(r(m)&&null===_?_=t(a,h):null!==_&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,l.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==i&&(v.curve=i instanceof Float32Array?i:new Float32Array(i)),s!==v.oversample&&(v.oversample=s),o(Fe(v,f),(()=>{h.connect(c).connect(f),h.connect(d).connect(l).connect(p).connect(f),E=!0,r(m)&&(_=t(a,h))}),(()=>{h.disconnect(c),c.disconnect(f),h.disconnect(d),d.disconnect(l),l.disconnect(p),p.disconnect(f),E=!1,null!==_&&(_(),_=null)}))})(Sr,Ae,Ue,Ke,$n),xr=((t,e,n,r,o,a,i)=>(s,u)=>{const c=s.createWaveShaper();if(null!==a&&"webkitAudioContext"===a.name&&void 0===s.createGain().gain.automationRate)return n(s,u);we(c,u);const l=null===u.curve||u.curve instanceof Float32Array?u.curve:new Float32Array(u.curve);if(null!==l&&l.length<2)throw e();be(c,{curve:l},"curve"),be(c,u,"oversample");let h=null,d=!1;return i(c,"curve",(t=>()=>t.call(c)),(e=>n=>(e.call(c,n),d&&(r(n)&&null===h?h=t(s,c):r(n)||null===h||(h(),h=null)),n))),o(c,(()=>{d=!0,r(c.curve)&&(h=t(s,c))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Sr,Ae,Or,Ke,$n,Cn,Qe),Lr=((t,e,n,r,o,a,i,s,u,c)=>(l,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:f,distanceModel:p,maxDistance:_,orientationX:E,orientationY:m,orientationZ:v,panningModel:T,positionX:A,positionY:M,positionZ:g,refDistance:R,rolloffFactor:C,...y})=>{const b=l.createPanner();if(y.channelCount>2)throw i();if("max"===y.channelCountMode)throw i();we(b,y);const w={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},N=n(l,{...w,channelInterpretation:"speakers",numberOfInputs:6}),I=r(l,{...y,gain:1}),S=r(l,{...w,gain:1}),O=r(l,{...w,gain:0}),x=r(l,{...w,gain:0}),L=r(l,{...w,gain:0}),P=r(l,{...w,gain:0}),F=r(l,{...w,gain:0}),D=o(l,256,6,1),U=a(l,{...w,curve:new Float32Array([1,1]),oversample:"none"});let B=[E,m,v],V=[A,M,g];const X=new Float32Array(1);D.onaudioprocess=({inputBuffer:t})=>{const e=[u(t,X,0),u(t,X,1),u(t,X,2)];e.some(((t,e)=>t!==B[e]))&&(b.setOrientation(...e),B=e);const n=[u(t,X,3),u(t,X,4),u(t,X,5)];n.some(((t,e)=>t!==V[e]))&&(b.setPosition(...n),V=n)},Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0});const G={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(t){if(t>2)throw i();I.channelCount=t,b.channelCount=t},get channelCountMode(){return b.channelCountMode},set channelCountMode(t){if("max"===t)throw i();I.channelCountMode=t,b.channelCountMode=t},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(t){I.channelInterpretation=t,b.channelInterpretation=t},get coneInnerAngle(){return b.coneInnerAngle},set coneInnerAngle(t){b.coneInnerAngle=t},get coneOuterAngle(){return b.coneOuterAngle},set coneOuterAngle(t){b.coneOuterAngle=t},get coneOuterGain(){return b.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();b.coneOuterGain=t},get context(){return b.context},get distanceModel(){return b.distanceModel},set distanceModel(t){b.distanceModel=t},get inputs(){return[I]},get maxDistance(){return b.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;b.maxDistance=t},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get orientationX(){return S.gain},get orientationY(){return O.gain},get orientationZ(){return x.gain},get panningModel(){return b.panningModel},set panningModel(t){b.panningModel=t},get positionX(){return L.gain},get positionY(){return P.gain},get positionZ(){return F.gain},get refDistance(){return b.refDistance},set refDistance(t){if(t<0)throw new RangeError;b.refDistance=t},get rolloffFactor(){return b.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;b.rolloffFactor=t},addEventListener:(...t)=>I.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>I.dispatchEvent(t[0]),removeEventListener:(...t)=>I.removeEventListener(t[0],t[1],t[2])};return h!==G.coneInnerAngle&&(G.coneInnerAngle=h),d!==G.coneOuterAngle&&(G.coneOuterAngle=d),f!==G.coneOuterGain&&(G.coneOuterGain=f),p!==G.distanceModel&&(G.distanceModel=p),_!==G.maxDistance&&(G.maxDistance=_),E!==G.orientationX.value&&(G.orientationX.value=E),m!==G.orientationY.value&&(G.orientationY.value=m),v!==G.orientationZ.value&&(G.orientationZ.value=v),T!==G.panningModel&&(G.panningModel=T),A!==G.positionX.value&&(G.positionX.value=A),M!==G.positionY.value&&(G.positionY.value=M),g!==G.positionZ.value&&(G.positionZ.value=g),R!==G.refDistance&&(G.refDistance=R),C!==G.rolloffFactor&&(G.rolloffFactor=C),1===B[0]&&0===B[1]&&0===B[2]||b.setOrientation(...B),0===V[0]&&0===V[1]&&0===V[2]||b.setPosition(...V),c(Fe(G,b),(()=>{I.connect(b),t(I,U,0,0),U.connect(S).connect(N,0,0),U.connect(O).connect(N,0,1),U.connect(x).connect(N,0,2),U.connect(L).connect(N,0,3),U.connect(P).connect(N,0,4),U.connect(F).connect(N,0,5),N.connect(D).connect(l.destination)}),(()=>{I.disconnect(b),s(I,U,0,0),U.disconnect(S),S.disconnect(N),U.disconnect(O),O.disconnect(N),U.disconnect(x),x.disconnect(N),U.disconnect(L),L.disconnect(N),U.disconnect(P),P.disconnect(N),U.disconnect(F),F.disconnect(N),N.disconnect(D),D.disconnect(l.destination)}))})(Wt,Ae,tr,Ue,Ge,xr,ke,zt,Ze,$n),Pr=(t=>(e,n)=>{const r=e.createPanner();return void 0===r.orientationX?t(e,n):(we(r,n),Ie(r,n,"orientationX"),Ie(r,n,"orientationY"),Ie(r,n,"orientationZ"),Ie(r,n,"positionX"),Ie(r,n,"positionY"),Ie(r,n,"positionZ"),be(r,n,"coneInnerAngle"),be(r,n,"coneOuterAngle"),be(r,n,"coneOuterGain"),be(r,n,"distanceModel"),be(r,n,"maxDistance"),be(r,n,"panningModel"),be(r,n,"refDistance"),be(r,n,"rolloffFactor"),r)})(Lr),Fr=((t,e,n,r,o,a,i,s,u,c)=>()=>{const l=new WeakMap;let h=null;return{render(d,f){const p=l.get(f);return void 0!==p?Promise.resolve(p):(async(d,f)=>{let p=null,_=a(d);const E={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},m={...E,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},v=bt(_,f);if("bufferSize"in _)p=r(f,{...E,gain:1});else if(!v){const t={...m,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=o(f,t)}if(l.set(f,null===p?_:p),null!==p){if(null===h){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new i(6,d.context.length,f.sampleRate),r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,r)=>{const o=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await s(t,e,o.offset),o})));for(let t=0;t<6;t+=1)e[t].connect(r,0,t),e[t].start(0);return c(t)})()}const t=await h,a=r(f,{...E,gain:1});await u(d,f,a);const l=[];for(let e=0;e<t.numberOfChannels;e+=1)l.push(t.getChannelData(e));let _=[l[0][0],l[1][0],l[2][0]],v=[l[3][0],l[4][0],l[5][0]],T=r(f,{...E,gain:1}),A=o(f,{...m,orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:v[0],positionY:v[1],positionZ:v[2]});a.connect(T).connect(A.inputs[0]),A.connect(p);for(let e=128;e<t.length;e+=128){const t=[l[0][e],l[1][e],l[2][e]],n=[l[3][e],l[4][e],l[5][e]];if(t.some(((t,e)=>t!==_[e]))||n.some(((t,e)=>t!==v[e]))){_=t,v=n;const i=e/f.sampleRate;T.gain.setValueAtTime(0,i),T=r(f,{...E,gain:0}),A=o(f,{...m,orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:v[0],positionY:v[1],positionZ:v[2]}),T.gain.setValueAtTime(1,i),a.connect(T).connect(A.inputs[0]),A.connect(p)}}return p}return v?(await t(f,d.orientationX,_.orientationX),await t(f,d.orientationY,_.orientationY),await t(f,d.orientationZ,_.orientationZ),await t(f,d.positionX,_.positionX),await t(f,d.positionY,_.positionY),await t(f,d.positionZ,_.positionZ)):(await s(f,d.orientationX,_.orientationX),await s(f,d.orientationY,_.orientationY),await s(f,d.orientationZ,_.orientationZ),await s(f,d.positionX,_.positionX),await s(f,d.positionY,_.positionY),await s(f,d.positionZ,_.positionZ)),Yt(_)?await u(d,f,_.inputs[0]):await u(d,f,_),_})(d,f)}}})(Gn,tr,ir,Ue,Pr,Zt,An,Yn,En,Ar),Dr=((t,e,n,r,o,a,i)=>class extends t{constructor(t,s){const u=o(t),c={...We,...s},l=n(u,c),h=a(u);super(t,!1,l,h?r():null),this._nativePannerNode=l,this._orientationX=e(this,h,l.orientationX,xt,Ot),this._orientationY=e(this,h,l.orientationY,xt,Ot),this._orientationZ=e(this,h,l.orientationZ,xt,Ot),this._positionX=e(this,h,l.positionX,xt,Ot),this._positionY=e(this,h,l.positionY,xt,Ot),this._positionZ=e(this,h,l.positionZ,xt,Ot),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(In,Hn,Pr,Fr,vn,Mn,Kn),Ur=(t=>(e,{disableNormalization:n,imag:r,real:o})=>{const a=r instanceof Float32Array?r:new Float32Array(r),i=o instanceof Float32Array?o:new Float32Array(o),s=e.createPeriodicWave(i,a,{disableNormalization:n});if(Array.from(r).length<2)throw t();return s})(Nt),Br=((t,e,n,r)=>class r{constructor(r,o){const a=e(r),i=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...He,...o}),s=t(a,i);return n.add(s),s}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===r.prototype||n.has(t)}})(Ur,vn,new WeakSet),Vr=((t,e,n,r,o,a)=>{const i=16385,s=new Float32Array([1,1]),u=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...c,oversample:"none"},h=(t,a,h,d,f)=>{if(1===a)return((t,e,o,a)=>{const h=new Float32Array(i),d=new Float32Array(i);for(let t=0;t<i;t+=1){const e=t/16384*u;h[t]=Math.cos(e),d[t]=Math.sin(e)}const f=n(t,{...c,gain:0}),p=r(t,{...l,curve:h}),_=r(t,{...l,curve:s}),E=n(t,{...c,gain:0}),m=r(t,{...l,curve:d});return{connectGraph(){e.connect(f),e.connect(void 0===_.inputs?_:_.inputs[0]),e.connect(E),_.connect(o),o.connect(void 0===p.inputs?p:p.inputs[0]),o.connect(void 0===m.inputs?m:m.inputs[0]),p.connect(f.gain),m.connect(E.gain),f.connect(a,0,0),E.connect(a,0,1)},disconnectGraph(){e.disconnect(f),e.disconnect(void 0===_.inputs?_:_.inputs[0]),e.disconnect(E),_.disconnect(o),o.disconnect(void 0===p.inputs?p:p.inputs[0]),o.disconnect(void 0===m.inputs?m:m.inputs[0]),p.disconnect(f.gain),m.disconnect(E.gain),f.disconnect(a,0,0),E.disconnect(a,0,1)}}})(t,h,d,f);if(2===a)return((t,o,a,h)=>{const d=new Float32Array(i),f=new Float32Array(i),p=new Float32Array(i),_=new Float32Array(i),E=Math.floor(8192.5);for(let t=0;t<i;t+=1)if(t>E){const e=(t-E)/(16384-E)*u;d[t]=Math.cos(e),f[t]=Math.sin(e),p[t]=0,_[t]=1}else{const e=t/(16384-E)*u;d[t]=1,f[t]=0,p[t]=Math.cos(e),_[t]=Math.sin(e)}const m=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(t,{...c,gain:0}),T=r(t,{...l,curve:d}),A=n(t,{...c,gain:0}),M=r(t,{...l,curve:f}),g=r(t,{...l,curve:s}),R=n(t,{...c,gain:0}),C=r(t,{...l,curve:p}),y=n(t,{...c,gain:0}),b=r(t,{...l,curve:_});return{connectGraph(){o.connect(m),o.connect(void 0===g.inputs?g:g.inputs[0]),m.connect(v,0),m.connect(A,0),m.connect(R,1),m.connect(y,1),g.connect(a),a.connect(void 0===T.inputs?T:T.inputs[0]),a.connect(void 0===M.inputs?M:M.inputs[0]),a.connect(void 0===C.inputs?C:C.inputs[0]),a.connect(void 0===b.inputs?b:b.inputs[0]),T.connect(v.gain),M.connect(A.gain),C.connect(R.gain),b.connect(y.gain),v.connect(h,0,0),R.connect(h,0,0),A.connect(h,0,1),y.connect(h,0,1)},disconnectGraph(){o.disconnect(m),o.disconnect(void 0===g.inputs?g:g.inputs[0]),m.disconnect(v,0),m.disconnect(A,0),m.disconnect(R,1),m.disconnect(y,1),g.disconnect(a),a.disconnect(void 0===T.inputs?T:T.inputs[0]),a.disconnect(void 0===M.inputs?M:M.inputs[0]),a.disconnect(void 0===C.inputs?C:C.inputs[0]),a.disconnect(void 0===b.inputs?b:b.inputs[0]),T.disconnect(v.gain),M.disconnect(A.gain),C.disconnect(R.gain),b.disconnect(y.gain),v.disconnect(h,0,0),R.disconnect(h,0,0),A.disconnect(h,0,1),y.disconnect(h,0,1)}}})(t,h,d,f);throw o()};return(e,{channelCount:r,channelCountMode:i,pan:s,...u})=>{if("max"===i)throw o();const c=t(e,{...u,channelCount:1,channelCountMode:i,numberOfInputs:2}),l=n(e,{...u,channelCount:r,channelCountMode:i,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:s});let{connectGraph:f,disconnectGraph:p}=h(e,r,l,d,c);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const _={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount!==t&&(E&&p(),({connectGraph:f,disconnectGraph:p}=h(e,t,l,d,c)),E&&f()),l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw o();l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[l]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2])};let E=!1;return a(Fe(_,c),(()=>{f(),E=!0}),(()=>{p(),E=!1}))}})(tr,Pe,Ue,xr,ke,$n),Xr=((t,e)=>(n,r)=>{const o=r.channelCountMode;if("clamped-max"===o)throw e();if(void 0===n.createStereoPanner)return t(n,r);const a=n.createStereoPanner();return we(a,r),Ie(a,r,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>o,set:t=>{if(t!==o)throw e()}}),a})(Vr,ke),Gr=((t,e,n,r,o)=>()=>{const a=new WeakMap;return{render(i,s){const u=a.get(s);return void 0!==u?Promise.resolve(u):(async(i,s)=>{let u=n(i);const c=bt(u,s);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(s,t)}return a.set(s,u),c?await t(s,i.pan,u.pan):await r(s,i.pan,u.pan),Yt(u)?await o(i,s,u.inputs[0]):await o(i,s,u),u})(i,s)}}})(Gn,Xr,Zt,Yn,En),kr=((t,e,n,r,o,a)=>class extends t{constructor(t,i){const s=o(t),u={...qe,...i},c=n(s,u),l=a(s);super(t,!1,c,l?r():null),this._pan=e(this,l,c.pan)}get pan(){return this._pan}})(In,Hn,Xr,Gr,vn,Mn),Yr=((t,e,n)=>()=>{const r=new WeakMap;return{render(o,a){const i=r.get(a);return void 0!==i?Promise.resolve(i):(async(o,a)=>{let i=e(o);if(!bt(i,a)){const e={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,curve:i.curve,oversample:i.oversample};i=t(a,e)}return r.set(a,i),Yt(i)?await n(o,a,i.inputs[0]):await n(o,a,i),i})(o,a)}}})(xr,Zt,En),Wr=((t,e,n,r,o,a,i)=>class extends t{constructor(t,e){const s=o(t),u={...ze,...e},c=n(s,u);super(t,!0,c,a(s)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(In,Ae,xr,Yr,vn,Mn,Kn),Hr=(t=>null!==t&&t.isSecureContext)(fn),qr=(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return r()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(fn),jr=new WeakMap,zr=((t,e)=>n=>{let r=t.get(n);if(void 0!==r)return r;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r})(jr,An),Zr=Hr?((t,e,n,r,o,a,i,s,u,c,l,h,d)=>{let f=0;return(p,_,E={credentials:"omit"})=>{const m=l.get(p);if(void 0!==m&&m.has(_))return Promise.resolve();const v=c.get(p);if(void 0!==v){const t=v.get(_);if(void 0!==t)return t}const T=a(p),A=void 0===T.audioWorklet?o(_).then((([t,e])=>{const[r,o]=pt(t,e);return n(`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${o}\n})})(window,'_AWGS')`)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;r(T.currentTime,T.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const r=lt.get(T);if(void 0!==r){if(r.has(t))throw e();Et(n),_t(n.parameterDescriptors),r.set(t,n)}else Et(n),_t(n.parameterDescriptors),lt.set(T,new Map([[t,n]]))}),T.sampleRate,void 0,void 0)))})):Promise.all([o(_),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const r=f+1;f=r;const[o,a]=pt(t,e),c=new Blob([`${o};((AudioWorkletProcessor,registerProcessor)=>{${a}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${r}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(c);return T.audioWorklet.addModule(l,E).then((()=>{if(s(T))return T;const t=i(T);return t.audioWorklet.addModule(l,E).then((()=>t))})).then((t=>{if(null===u)throw new SyntaxError;try{new u(t,`__sac${r}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(l)))}));return void 0===v?c.set(p,new Map([[_,A]])):v.set(_,A),A.then((()=>{const t=l.get(p);void 0===t?l.set(p,new Set([_])):t.add(_)})).finally((()=>{const t=c.get(p);void 0!==t&&t.delete(_)})),A}})(ln,ke,(t=>e=>new Promise(((n,r)=>{if(null===t)return void r(new SyntaxError);const o=t.document.head;if(null===o)r(new SyntaxError);else{const a=t.document.createElement("script"),i=new Blob([e],{type:"application/javascript"}),s=URL.createObjectURL(i),u=t.onerror,c=()=>{t.onerror=u,URL.revokeObjectURL(s)};t.onerror=(e,n,o,a,i)=>n===s||n===t.location.href&&1===o&&1===a?(c(),r(i),!1):null!==u?u(e,n,o,a,i):void 0,a.onerror=()=>{c(),r(new SyntaxError)},a.onload=()=>{c(),n()},a.src=s,a.type="module",o.appendChild(a)}})))(fn),qr,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),vn,zr,Mn,Nn,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n);let a=!1,i=!1;try{await r.audioWorklet.addModule(o);const e=new t(r,"a",{numberOfOutputs:0}),n=r.createOscillator();e.port.onmessage=()=>a=!0,e.onprocessorerror=()=>i=!0,n.connect(e),n.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(o)}return a&&!i})(Nn,An),fn):void 0,Kr=((t,e)=>n=>t(n)||e(n))(yn,Mn),Qr=((t,e,n,r,o,a,i,s,u,c,l)=>(n,r)=>{const h=i(n)?n:a(n);if(o.has(r)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{o.add(r)}catch{}return e(u,(()=>u(h)))?h.decodeAudioData(r).then((n=>(_e(r).catch((()=>{})),e(s,(()=>s(n)))||l(n),t.add(n),n))):new Promise(((e,n)=>{const o=async()=>{try{await _e(r)}catch{}},a=t=>{n(t),o()};try{h.decodeAudioData(r,(n=>{"function"!=typeof n.copyFromChannel&&(c(n),It(n)),t.add(n),o().then((()=>e(n)))}),(t=>{a(null===t?new DOMException("","EncodingError"):t)}))}catch(t){a(t)}}))})(xn,ln,0,0,new WeakSet,vn,Kr,wt,ye,Dn,Un),$r=((t,e,n,r,o,a,i,s,u,c,l,h,d,f,p,_,E,m,v,T)=>class extends p{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(t,e,r){return new n({length:e,numberOfChannels:t,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(t=6){return new a(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new i(this,{numberOfOutputs:t})}createConstantSource(){return new s(this)}createConvolver(){return new u(this)}createDelay(t=1){return new l(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new f(this,{feedback:e,feedforward:t})}createOscillator(){return new _(this)}createPanner(){return new E(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new m(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new T(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(Zr,On,Bn,jn,Qn,nr,or,ur,hr,Qr,fr,Er,vr,Rr,br,Ir,Dr,Br,kr,Wr),Jr=((t,e,n,r)=>class extends t{constructor(t,e){const o=n(t),a=((t,e)=>t.createMediaElementSource(e.mediaElement))(o,e);if(r(o))throw TypeError();super(t,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(In,0,vn,Mn),to=((t,e,n,r)=>class extends t{constructor(t,e){const o=n(t);if(r(o))throw new TypeError;const a=((t,e)=>{const n=t.createMediaStreamDestination();return we(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(o,{...Ce,...e});super(t,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(In,0,vn,Mn),eo=((t,e,n,r)=>class extends t{constructor(t,e){const o=n(t),a=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o})(o,e);if(r(o))throw new TypeError;super(t,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(In,0,vn,Mn),no=((t,e)=>(n,{mediaStreamTrack:r})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),a=n.createMediaStreamSource(o);if("audio"!==r.kind)throw t();if(e(n))throw new TypeError;return a})(Ae,Mn),ro=((t,e,n)=>class extends t{constructor(t,r){const o=n(t);super(t,!0,e(o,r),null)}})(In,no,vn),oo=((t,e,n,r,o,a,i,s,u)=>class extends t{constructor(t={}){if(null===u)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new u(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw r();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:o}=t,{sampleRate:a}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===o?512/a:"interactive"===o||void 0===o?256/a:"playback"===o?1024/a:128*Math.max(2,Math.min(128,Math.round(o*a/128)))/a,this._nativeAudioContext=e,"webkitAudioContext"===u.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Ut(this.destination,[])})))}createMediaElementSource(t){return new o(this,{mediaElement:t})}createMediaStreamDestination(){return new a(this)}createMediaStreamSource(t){return new i(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new s(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})($r,Ae,ke,je,Jr,to,eo,ro,Cn),ao=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(yr),io=((t=>{})(ao),(t=>(e,n,r=0,o=0)=>{const a=e[r];if(void 0===a)throw t();return ee(n)?a.connect(n,0,o):a.connect(n,0)})(Nt)),so=(t=>(e,n)=>{t(e).delete(n)})(ao),uo=(t=>(e,n,r,o=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?me(t,e,n).disconnect():ee(n)?void 0===r?e.forEach((t=>t.disconnect(n))):void 0===o?me(t,e,r).disconnect(n,0):me(t,e,r).disconnect(n,0,o):void 0===r?e.forEach((t=>t.disconnect(n))):me(t,e,r).disconnect(n,0))(Nt),co=new WeakMap,lo=((t,e)=>n=>e(t,n))(co,mt),ho=((t,e,n,r,o,a,i,s,u,c,l,h,d)=>(f,p,_,E)=>{if(0===E.numberOfInputs&&0===E.numberOfOutputs)throw u();const m=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(m.some((t=>t<1)))throw u();if(m.length!==E.numberOfOutputs)throw e();if("explicit"!==E.channelCountMode)throw u();const v=E.channelCount*E.numberOfInputs,T=m.reduce(((t,e)=>t+e),0),A=void 0===_.parameterDescriptors?0:_.parameterDescriptors.length;if(v+A>6||T>6)throw u();const M=new MessageChannel,g=[],R=[];for(let t=0;t<E.numberOfInputs;t+=1)g.push(i(f,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),R.push(o(f,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const C=[];if(void 0!==_.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:r}of _.parameterDescriptors){const o=a(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==E.parameterData[r]?E.parameterData[r]:void 0===t?0:t});Object.defineProperties(o.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?xt:e},minValue:{get:()=>void 0===n?Ot:n}}),C.push(o)}const y=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+A)}),b=xe(p,f.sampleRate),w=s(f,b,v+A,Math.max(1,T)),N=o(f,{channelCount:Math.max(1,T),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,T)}),I=[];for(let t=0;t<E.numberOfOutputs;t+=1)I.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:m[t]}));for(let t=0;t<E.numberOfInputs;t+=1){g[t].connect(R[t]);for(let e=0;e<E.channelCount;e+=1)R[t].connect(y,e,t*E.channelCount+e)}const S=new ae(void 0===_.parameterDescriptors?[]:_.parameterDescriptors.map((({name:t},e)=>{const n=C[e];return n.connect(y,0,v+e),n.start(0),[t,n.offset]})));y.connect(w);let O=E.channelInterpretation,x=null;const L=0===E.numberOfOutputs?[w]:I,P={get bufferSize(){return b},get channelCount(){return E.channelCount},set channelCount(t){throw n()},get channelCountMode(){return E.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return O},set channelInterpretation(t){for(const e of g)e.channelInterpretation=t;O=t},get context(){return w.context},get inputs(){return g},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return x},set onprocessorerror(t){"function"==typeof x&&P.removeEventListener("processorerror",x),x="function"==typeof t?t:null,"function"==typeof x&&P.addEventListener("processorerror",x)},get parameters(){return S},get port(){return M.port2},addEventListener:(...t)=>w.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,L),disconnect:c.bind(null,L),dispatchEvent:(...t)=>w.dispatchEvent(t[0]),removeEventListener:(...t)=>w.removeEventListener(t[0],t[1],t[2])},F=new Map;var D,U;M.port1.addEventListener=(D=M.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=F.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{l(f.currentTime,f.sampleRate,(()=>e(t)))},F.set(e,t[1]))}}return D.call(M.port1,t[0],t[1],t[2])}),M.port1.removeEventListener=(U=M.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=F.get(t[1]);void 0!==e&&(F.delete(t[1]),t[1]=e)}return U.call(M.port1,t[0],t[1],t[2])});let B=null;Object.defineProperty(M.port1,"onmessage",{get:()=>B,set:t=>{"function"==typeof B&&M.port1.removeEventListener("message",B),B="function"==typeof t?t:null,"function"==typeof B&&(M.port1.addEventListener("message",B),M.port1.start())}}),_.prototype.port=M.port1;let V=null;const X=((t,e,n,r)=>{let o=ht.get(t);void 0===o&&(o=new WeakMap,ht.set(t,o));const a=(async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:t})=>{r.close(),o.close(),e(t)},r.onmessageerror=({data:t})=>{r.close(),o.close(),n(t)},o.postMessage(t)})))(e);return new t(n)})(n,r);return o.set(e,a),a})(f,P,_,E);X.then((t=>V=t));const G=ue(E.numberOfInputs,E.channelCount),k=ue(E.numberOfOutputs,m),Y=void 0===_.parameterDescriptors?[]:_.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let W=!0;const H=()=>{E.numberOfOutputs>0&&w.disconnect(N);for(let t=0,e=0;t<E.numberOfOutputs;t+=1){const n=I[t];for(let r=0;r<m[t];r+=1)N.disconnect(n,e+r,r);e+=m[t]}},q=new Map;w.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==V){const n=h(P);for(let r=0;r<b;r+=128){for(let e=0;e<E.numberOfInputs;e+=1)for(let n=0;n<E.channelCount;n+=1)ie(t,G[e],n,n,r);void 0!==_.parameterDescriptors&&_.parameterDescriptors.forEach((({name:e},n)=>{ie(t,Y,e,v+n,r)}));for(let t=0;t<E.numberOfInputs;t+=1)for(let e=0;e<m[t];e+=1)0===k[t][e].byteLength&&(k[t][e]=new Float32Array(128));try{const t=G.map(((t,e)=>{if(n[e].size>0)return q.set(e,b/128),t;const r=q.get(e);return void 0===r?[]:(t.every((t=>t.every((t=>0===t))))&&(1===r?q.delete(e):q.set(e,r-1)),t)})),o=l(f.currentTime+r/f.sampleRate,f.sampleRate,(()=>V.process(t,k,Y)));W=o;for(let t=0,n=0;t<E.numberOfOutputs;t+=1){for(let o=0;o<m[t];o+=1)se(e,k[t],o,n+o,r);n+=m[t]}}catch(t){W=!1,P.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!W){for(let t=0;t<E.numberOfInputs;t+=1){g[t].disconnect(R[t]);for(let e=0;e<E.channelCount;e+=1)R[r].disconnect(y,e,t*E.channelCount+e)}if(void 0!==_.parameterDescriptors){const t=_.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=C[e];t.disconnect(y,0,v+e),t.stop()}}y.disconnect(w),w.onaudioprocess=null,j?H():K();break}}}};let j=!1;const z=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Z=()=>w.connect(z).connect(f.destination),K=()=>{w.disconnect(z),z.disconnect()};return Z(),d(P,(()=>{if(W){K(),E.numberOfOutputs>0&&w.connect(N);for(let t=0,e=0;t<E.numberOfOutputs;t+=1){const n=I[t];for(let r=0;r<m[t];r+=1)N.connect(n,e+r,r);e+=m[t]}}j=!0}),(()=>{W&&(Z(),H()),j=!1}))})(io,Nt,Ae,tr,Pe,ir,Ue,Ge,ke,uo,qr,lo,$n);var fo,po,_o,Eo,mo,vo=null,To=!1;let Ao,Mo=0,go=!1,Ro=0,Co=.1,yo=0,bo=.1,wo=0,No=0,Io=0,So=0,Oo=1,xo=.6,Lo=.8,Po=[191,77,40,101,86,67,230,172,39,128,188,163,246,247,189],Fo=[232,221,203,3,101,100,3,54,73,205,179,128,3,22,52],Do=[191,77,40,101,86,67,230,172,39,128,188,163,246,247,189];Do=Do.map((t=>t/255));try{fo=new oo}catch(x){alert("Web Audio API is not supported in this browser")}function Uo(t){po.buffer=t,Ao=Date.now(),0!=Ro?(Co=yo,Ro=0):(Co=1.2,go=!0),po.loop=!0,po.start(0),To=!0}function Bo(t){console.log(t)}function Vo(t,e,n,r,o){var a=(t-e)/(n-e);return a<0&&(a=0),a>1&&(a=1),r+(o-r)*a}document.body.addEventListener("click",(function(){var t;No=0,To?(xo=.6,Lo=.8,Co=.1,po.stop(0),Ro=1,To=!1,Mo=0):(po=fo.createBufferSource(),_o=fo.createAnalyser(),Eo=fo.createScriptProcessor(1024,1,1),mo=new Uint8Array(_o.frequencyBinCount),po.connect(fo.destination),po.connect(_o),_o.connect(Eo),Eo.connect(fo.destination),Eo.onaudioprocess=function(){_o.getByteTimeDomainData(mo)},null==vo?("./likewater.wav",(t=new XMLHttpRequest).open("GET","./likewater.wav",!0),t.responseType="arraybuffer",t.onload=function(){fo.decodeAudioData(t.response,(function(t){Uo(vo=t)}),Bo)},t.send()):Uo(vo),xo=.75,Lo=.82)}));const Xo=[];let Go;const ko={init:t=>{Go=t.map((({id:t,file:e,type:n})=>{const r=e;let o;switch(n){case"jpg":case"png":o=new w(e);break;case"text":o=(t=>{const e=t.split("\n"),n=[],r=[],o=[],a=[],i=[],s=[],u=[];let c,l=0;const h=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,d=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,f=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,p=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,_=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,E=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,m=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/;function v(t){const e=parseInt(t);return 3*(e>=0?e-1:e+a.length/3)}function T(t){const e=parseInt(t);return 3*(e>=0?e-1:e+i.length/3)}function A(t){const e=parseInt(t);return 2*(e>=0?e-1:e+s.length/2)}function M(t,e,r){n.push([a[t],a[t+1],a[t+2]]),n.push([a[e],a[e+1],a[e+2]]),n.push([a[r],a[r+1],a[r+2]]),u.push(3*l+0),u.push(3*l+1),u.push(3*l+2),l++}function R(t,e,n){r.push([s[t],s[t+1]]),r.push([s[e],s[e+1]]),r.push([s[n],s[n+1]])}function C(t,e,n){o.push([i[t],i[t+1],i[t+2]]),o.push([i[e],i[e+1],i[e+2]]),o.push([i[n],i[n+1],i[n+2]])}function y(t,e,n,r,o,a,i,s,u,c,l,h){let d,f=v(t),p=v(e),_=v(n);void 0===r?M(f,p,_):(d=v(r),M(f,p,d),M(p,_,d)),void 0!==o&&(f=A(o),p=A(a),_=A(i),void 0===r?R(f,p,_):(d=A(s),R(f,p,d),R(p,_,d))),void 0!==u&&(f=T(u),p=T(c),_=T(l),void 0===r?C(f,p,_):(d=T(h),C(f,p,d),C(p,_,d)))}for(let t=0;t<e.length;t++){let n=e[t];n=n.trim(),0!==n.length&&"#"!==n.charAt(0)&&(null!==(c=h.exec(n))?a.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])):null!==(c=d.exec(n))?i.push(parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])):null!==(c=f.exec(n))?s.push(parseFloat(c[1]),parseFloat(c[2])):null!==(c=p.exec(n))?y(c[1],c[2],c[3],c[4]):null!==(c=_.exec(n))?y(c[2],c[5],c[8],c[11],c[3],c[6],c[9],c[12]):null!==(c=E.exec(n))?y(c[2],c[6],c[10],c[14],c[3],c[7],c[11],c[15],c[4],c[8],c[12],c[16]):null!==(c=m.exec(n))&&y(c[2],c[5],c[8],c[11],void 0,void 0,void 0,void 0,c[3],c[6],c[9],c[12]))}return(t=>{const e=t.normals.length>0,n=t.coords.length>0;let r;if(t.positions.length>65535){const o=[];let a=0;const i={};for(i.positions=t.positions.concat(),i.coords=t.coords.concat(),i.indices=t.indices.concat(),i.normals=t.normals.concat();t.indices.length>0;){const s=Math.min(65535,t.positions.length),u=t.indices.splice(0,s),c=[],l=[],h=[];let d,f=0;for(let t=0;t<u.length;t++)u[t]>f&&(f=u[t]),d=u[t],c.push(i.positions[d]),n&&l.push(i.coords[d]),e&&h.push(i.normals[d]),u[t]-=a;a=f+1,r=new g,r.bufferVertex(c),n&&r.bufferTexCoord(l),r.bufferIndex(u),e&&r.bufferNormal(h),o.push(r)}return o}return r=new g,r.bufferVertex(t.positions),n&&r.bufferTexCoord(t.coords),r.bufferIndex(t.indices),e&&r.bufferNormal(t.normals),r})({positions:n,coords:r,normals:o,indices:u})})(e)}return{id:t,source:r,type:n,file:o}})),console.table(Go)},get:t=>{const e=Go.find((e=>e.id===t));return e?e.file:null}},Yo=ko;var Wo=n(719),Ho=n.n(Wo);let qo,jo;var zo;new Promise(((t,e)=>{const n=document.body.querySelector(".Loading-Bar");console.log("Load Assets",Xo),Xo.length>0?(document.body.classList.add("isLoading"),new(Ho())({assets:Xo}).on("error",(t=>{console.log("Error :",t)})).on("progress",(t=>{n&&(n.style.width=100*t+"%")})).on("complete",(e=>{n&&(n.style.width="100%"),Yo.init(e),setTimeout((()=>{document.body.classList.remove("isLoading"),t(zo)}),500)})).start()):t(zo)})).then((function(){jo=document.createElement("canvas"),jo.id="main-canvas",document.body.appendChild(jo),m.init(jo,{alpha:!1,preserveDrawingBuffer:!0}),qo=new class extends class{constructor(t){this._GL=t||m,this.camera=new J,window.innerWidth==window.innerHeight?(this.orbitalControl=new Q(this.camera,window,15),this.orbitalControl.radius.value=15,this.camera.setPerspective(122*Math.PI/180,m.aspectRatio,.1,100),console.log("window",window.innerWidth,window.innerHeight)):(this.orbitalControl=new Q(this.camera,window,46),this.orbitalControl.radius.value=46,this.camera.setPerspective(45*Math.PI/180,m.aspectRatio,.1,100),console.log("window",window.innerWidth,window.innerHeight)),this._isRunning=!0,this._initTextures(),this._initViews(),window.addEventListener("resize",(()=>this.resize())),this._efIndex=j.addEF((()=>this._loop()))}stop(){this._isRunning=!1}resume(){this._isRunning=!0}_initTextures(){}_initViews(){}update(){}render(){}_loop(){this._isRunning&&(this.update(),this._GL.viewport(0,0,this._GL.width,this._GL.height),this._GL.setMatrices(this.camera),this.render())}resize(){this._GL.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(this._GL.aspectRatio)}}{constructor(){super(),this.camera,this.orbitalControl.lock(),this.resize(),this.time=160}_initViews(){const t=.14,e=.02,n=[],r=[],o=[],a=[];let i=0;const s=253.125;for(let u=0;u<s;u++)for(let c=0;c<450;c++){n.push([-t,-e,0]),n.push([t,-e,0]),n.push([t,e,0]),n.push([-t,e,0]);const l=.11,h=[c*l+450*-l/2,u*l+-l*s/2,0];r.push(h),r.push(h),r.push(h),r.push(h);const d=[tt(),tt(),tt()];o.push(d),o.push(d),o.push(d),o.push(d),a.push(4*i+0),a.push(4*i+1),a.push(4*i+2),a.push(4*i+0),a.push(4*i+2),a.push(4*i+3),i++}const u=(new g).bufferVertex(n).bufferData(r,"aPositionOffset").bufferData(o,"aRandom").bufferIndex(a),c=new M("precision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aPositionOffset;\nattribute vec3 aRandom;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec3 uColors[5];\nuniform float uTime;\nuniform float fix;\nuniform float landdepth;\nuniform float edge1;\nuniform float edge2;\n\nvarying vec3 vColor;\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nmat4 rotationMatrix(vec3 axis, float angle) {\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    \n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nvec3 rotate(vec3 v, vec3 axis, float angle) {\n\tmat4 m = rotationMatrix(axis, angle);\n\treturn (m * vec4(v, 1.0)).xyz;\n}\n\n#define PI 3.14159265\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v){\n  const vec4 C = vec4(0.211324865405187,  \n                      0.366025403784439,  \n                     -0.577350269189626,  \n                      0.024390243902439); \n\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n  vec2 i1;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n  i = mod289(i);\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat noise(vec2 p) {\n  float acc = snoise(p) * 16.0 + snoise(p * 2.0) * 8.0 + snoise(p * 4.0) * 4.0 + snoise(p * 8.0) * 2.0 + snoise(p * 16.0) * 1.0;\n  float div = 1.0 + 2.0 + 4.0 + 8.0 + 16.0;\n    return acc / div;\n}\n\nfloat time2;\n\nmat2 rotate2(float angle){\n  return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n}\n\nfloat fbm(vec2 p){\n  p *= 1.;\n  float f = 0.;\n  float amp = 0.5;\n\n  for( int i = 0; i < 3; i++) {  \n    mat2 modify = rotate2(time2/45. * float(i*i));\n    f += amp*noise(p);\n    p = modify * p;\n    p *= 2.5;\n    amp /= 2.2;\n  }\n  return f;\n}\n\nfloat form(vec2 p, out vec2 q, out vec2 r) {\n    q = vec2( fbm(p + vec2(1., 1.)), fbm(rotate2(0.2*time2)*p + vec2(3., 3.)));\n    r = vec2( fbm( rotate2(0.2)*q + vec2(0., 0.)), fbm(0.2 * q + vec2(0., 0.)));\n    return fbm(p + r);\n}\n\nvoid main(void) {\n\n    vec3 pos = aVertexPosition;\n    vec3 offset = aPositionOffset;\n    offset.x -= fix;\n    vec2 p = vec2((offset.x+3.2)/120., offset.y/100.);\n    p *= 2.;\n    \n    time2 = uTime;\n    float time3 = uTime + fbm(p/8.) * 40.;\n    float time4 = fract(time3/16.);\n    time2 = floor(time3/16.) + (1. - cos(time4*PI)/2.);\n    time2 = time2*6.;\n    vec2 q;\n    vec2 r;\n    float f = form(p, q, r);\n\n    pos.xy += vec2(f*f*0.45+ time2/65.*landdepth, 0.6);\n    pos.xy = rotate(pos.xy,  (f*1.5+r.x)*0.76);\n\n    pos += offset;\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\n    vec3 color = vec3(1.0);\n\n    float rnd = ((r.y*0.3+f*1.45)+0.29)*0.72;\n    rnd += aRandom.y * 0.33;\n\n    if(rnd < 0.1) {  \n        color = uColors[0];\n    } else if(rnd < 0.4) {\n        color = uColors[1];\n    } else if(rnd < edge1) {\n        color = uColors[2];\n    } else if(rnd < edge2) {\n        color = uColors[3];\n    } else {\n        color = uColors[4];\n    }\n\n    vColor = color;\n}","precision highp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\n\nvoid main(void) {\n    gl_FragColor = vec4(vColor, 1.0);\n}");this._drawStrokes=(new N).setMesh(u).useProgram(c)}update(){if(1==To){if(No<=1){for(var t=0;t<15;t++)wo=Vo(No,0,1,Po[t]/255,Fo[t]/255),Do[t]=wo;No+=.014}bo<1&&(bo+=.025),Mo=0;const e=Math.floor(.03*mo.length);for(let t=0;t<e;t++)Mo+=mo[t];Mo/=4876,So=Vo(10*(Mo*Mo*Mo-.38),0,1,0,.02),Io=.02+So;let n=(Date.now()-Ao)%35e3;(Date.now()-Ao)%35e3>=31e3&&Io>=0?Io-=.01*Oo:(Date.now()-Ao)%35e3<=3500&&Date.now()-Ao>35e3&&(Io=.02),console.log("timetest",n),this.time+=Io*Oo,Co+=2e-4*Oo,yo=Co}else{if(No<=1&&go){for(t=0;t<15;t++)wo=Vo(No,0,1,Fo[t]/255,Po[t]/255),Do[t]=wo;No+=.014}bo>.1&&(bo-=.02),Io>.001?Io-=.005*Oo:Io<0&&(Io=5e-4),this.time+=Io*Oo}this.time>390?Oo=-1:this.time<=160&&(Oo=1,Co=.1)}render(){m.clear(0,0,0,1),m.setMatrices(this.camera),this._drawStrokes.uniform("uTime",this.time).uniform("uColors","vec3",Do).uniform("fix","float",Co).uniform("landdepth","float",bo).uniform("edge1","float",xo).uniform("edge2","float",Lo).draw()}resize(){const{innerWidth:t,innerHeight:e,devicePixelRatio:n}=window;let r=Math.max(2,n);const o=t,a=e;r=1,t==e||o==a?(this.orbitalControl.radius.value=15,this.camera.setPerspective(122*Math.PI/180,m.aspectRatio,.1,100)):(this.orbitalControl.radius.value=46,this.camera.setPerspective(45*Math.PI/180,m.aspectRatio,.1,100)),((t,e,n,r)=>{const{innerWidth:o,innerHeight:a}=window;e=e||o,n=n||a,r&&r.setSize(e,n);let i=Math.min(e,o),s=Math.min(n,a);const u=o/e,c=a/n,l=Math.min(u,c);i=e*l,s=n*l;const h=Math.floor(o-i)/2,d=Math.floor(a-s)/2;t.style.cssText=`\n    position:absolute;\n    width:${i}px;\n    height:${s}px;\n    top:${d}px;\n    left:${h}px;\n  `})(m.canvas,1*o,1*a,m),this.camera.setAspectRatio(m.aspectRatio)}}}),(t=>{console.error(t)}))})()})();