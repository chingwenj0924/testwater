/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={427:t=>{"use strict";t.exports=function(){try{return!!new Blob}catch(t){return!1}}()},42:(t,e,n)=>{"use strict";var r=n(187).EventEmitter;function i(){r.call(this),this.setMaxListeners(20)}i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},t.exports=i},622:(t,e,n)=>{"use strict";var r=n(42),i=n(388),a=0;t.exports=function t(e){var n,o={},s=[],u=[],h=0,c=0,E={},_=function(r){return Array.isArray(r)?(r.forEach(_),n):((a=r.assets&&Array.isArray(r.assets)?t(l(r,e)):i(l(r,e))).once("destroy",A),u.push(a),E[a.id]=a,n);var a},f=function(t){return arguments.length?o[t]?o[t]:E[t]:s},l=function(t,e){return"string"==typeof t&&(t={url:t}),void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++a),t.type=t.type||(n=t.url)&&n.split("?")[0].split(".").pop().toLowerCase(),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t;var n},T=function(t){var e=h+t;n.emit("progress",e/c)},R=function(t,e,r){Array.isArray(t)&&(t={id:e,file:t,type:r}),h++,n.emit("progress",h/c),o[t.id]=t.file,s.push(t),n.emit("childcomplete",t),M()},d=function(t){c--,n.listeners("error").length?n.emit("error",t):console.error(t),M()},A=function(t){E[t]=null,delete E[t],o[t]=null,delete o[t],s.some((function(e,n){if(e.id===t)return s.splice(n,1),!0}))},M=function(){h>=c&&n.emit("complete",s,o,e.id,"group")};return n=Object.create(r.prototype,{_events:{value:{}},id:{get:function(){return e.id}},add:{value:_},start:{value:function(){return c=u.length,u.forEach((function(t){t.on("progress",T).once("complete",R).once("error",d).start()})),u=[],n}},get:{value:f},find:{value:function(t){if(f(t))return f(t);var e=null;return Object.keys(E).some((function(n){return!!(e=E[n].find&&E[n].find(t))})),e}},getLoader:{value:function(t){return E[t]}},loaded:{get:function(){return h>=c}},file:{get:function(){return s}},destroy:{value:function(){for(;u.length;)u.pop().destroy();return n.off("error"),n.off("progress"),n.off("complete"),s=[],o={},e.webAudioContext=null,c=0,h=0,Object.keys(E).forEach((function(t){E[t].destroy()})),E={},n.emit("destroy",n.id),n}}}),e=l(e||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(e.assets)&&_(e.assets),n}},719:(t,e,n)=>{"use strict";var r=n(622);r.stats=n(795),t.exports=r},388:(t,e,n)=>{"use strict";var r=n(42),i=n(427),a=n(795);t.exports=function(t){var e,n,o,s,u,h,c=t.id,E=t.basePath||"",_=t.url,f=t.type,l=t.crossOrigin,T=t.isTouchLocked,R=t.blob&&i,d=t.webAudioContext,A=t.log,M=function(t){t&&(h={id:c,file:t,type:f},e.emit("progress",1),e.emit("complete",h,c,f),x())},m=function(t,e){n=e||p,(o=new XMLHttpRequest).open("GET",E+_,!0),o.responseType=t,o.addEventListener("progress",v),o.addEventListener("load",n),o.addEventListener("error",O),o.send()},v=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},p=function(){L()&&M(o.response)},L=function(){return o&&o.status<400?(a.update(o,s,_,A),!0):(O(o&&o.statusText),!1)},N=function(){o=new Image,l&&(o.crossOrigin="anonymous"),o.addEventListener("error",O,!1),o.addEventListener("load",I,!1),o.src=E+_},I=function(t){window.clearTimeout(u),t||!o.error&&o.readyState?M(o):O()},S=function(){m("blob",(function(){L()&&((o=new Image).addEventListener("error",O,!1),o.addEventListener("load",g,!1),o.src=window.URL.createObjectURL(o.response))}))},g=function(){window.URL.revokeObjectURL(o.src),M(o)},b=function(){m("arraybuffer",(function(){L()&&d.decodeAudioData(o.response,(function(t){o=null,M(t)}),(function(t){O(t)}))}))},P=function(t){o=document.createElement(t),T||(window.clearTimeout(u),u=window.setTimeout(I,2e3),o.addEventListener("canplaythrough",I,!1)),o.addEventListener("error",O,!1),o.preload="auto",o.src=E+_,o.load(),T&&M(o)},O=function(t){window.clearTimeout(u);var n=t;o&&o.tagName&&o.error?n="MediaError: "+["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"][o.error.code]+" "+o.src:o&&o.statusText?n=o.statusText:t&&t.message?n=t.message:t&&t.type&&(n=t.type),e.emit("error",'Error loading "'+E+_+'" '+n),C()},x=function(){e.off("error"),e.off("progress"),e.off("complete"),o&&(o.removeEventListener("progress",v),o.removeEventListener("load",n),o.removeEventListener("error",O),o.removeEventListener("load",I),o.removeEventListener("canplaythrough",I),o.removeEventListener("load",g))},C=function(){x(),o&&o.abort&&o.readyState<4&&o.abort(),o=null,d=null,h=null,window.clearTimeout(u),e.emit("destroy",c)};return e=Object.create(r.prototype,{_events:{value:{}},id:{value:t.id},start:{value:function(){switch(s=Date.now(),f){case"json":m("json",(function(){if(L()){var t=o.response;"string"==typeof t&&(t=JSON.parse(t)),M(t)}}));break;case"jpg":case"png":case"gif":case"webp":case"svg":R?S():N();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":d?b():P("audio");break;case"ogv":case"mp4":case"webm":case"hls":R?m("blob"):P("video");break;case"bin":case"binary":m("arraybuffer");break;case"txt":case"text":m("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+E+_+" ("+f+")"}}},loaded:{get:function(){return!!h}},file:{get:function(){return h}},destroy:{value:C}})}},795:t=>{"use strict";t.exports={mbs:0,secs:0,update:function(t,e,n,r){var i,a=t.getAllResponseHeaders();if(a){var o=a.match(/content-length: (\d+)/i);o&&o.length&&(i=o[1])}if(i){var s=(i=parseInt(i,10))/1024/1024,u=(Date.now()-e)/1e3;this.secs+=u,this.mbs+=s,r&&this.log(n,s,u)}else r&&console.warn.call(console,"Can't get Content-Length:",n)},log:function(t,e,n){if(t){var r="File loaded: "+t.substr(t.lastIndexOf("/")+1)+" size:"+e.toFixed(2)+"mb time:"+n.toFixed(2)+"s speed:"+(e/n).toFixed(2)+"mbps";console.log.call(console,r)}var i="Total loaded: "+this.mbs.toFixed(2)+"mb time:"+this.secs.toFixed(2)+"s speed:"+this.getMbps().toFixed(2)+"mbps";console.log.call(console,i)},getMbps:function(){return this.mbs/this.secs}}},187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,a),r(n)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}T(t,e,a,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&T(t,"error",e,{once:!0})}(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,a,o,h;if(s(n),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]),void 0===o)o=a[e]=n,++t._eventsCount;else if("function"==typeof o?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(t))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,h=c,console&&console.warn&&console.warn(h)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function _(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):l(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function l(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function T(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(a){r.once&&t.removeEventListener(e,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var h=u.length,c=l(u,h);for(n=0;n<h;++n)r(c[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return s(e),this.on(t,E(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,E(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,a,o;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return _(this,t,!0)},a.prototype.rawListeners=function(t){return _(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},685:(t,e,n)=>{"use strict";n.r(e),n.d(e,{EPSILON:()=>r,ARRAY_TYPE:()=>i,RANDOM:()=>a,setMatrixArrayType:()=>o,toRadian:()=>u,equals:()=>h});var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function o(t){i=t}var s=Math.PI/180;function u(t){return t*s}function h(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},370:(t,e,n)=>{"use strict";n.r(e),n.d(e,{glMatrix:()=>h,mat2:()=>r,mat2d:()=>i,mat3:()=>st,mat4:()=>ut,quat:()=>o,quat2:()=>s,vec2:()=>u,vec3:()=>ht,vec4:()=>a});var r={};n.r(r),n.d(r,{LDU:()=>g,add:()=>b,adjoint:()=>A,clone:()=>E,copy:()=>_,create:()=>c,determinant:()=>M,equals:()=>x,exactEquals:()=>O,frob:()=>S,fromRotation:()=>L,fromScaling:()=>N,fromValues:()=>l,identity:()=>f,invert:()=>d,mul:()=>F,multiply:()=>m,multiplyScalar:()=>C,multiplyScalarAndAdd:()=>U,rotate:()=>v,scale:()=>p,set:()=>T,str:()=>I,sub:()=>y,subtract:()=>P,transpose:()=>R});var i={};n.r(i),n.d(i,{add:()=>J,clone:()=>D,copy:()=>B,create:()=>w,determinant:()=>Y,equals:()=>it,exactEquals:()=>rt,frob:()=>$,fromRotation:()=>K,fromScaling:()=>z,fromTranslation:()=>Z,fromValues:()=>G,identity:()=>X,invert:()=>H,mul:()=>at,multiply:()=>W,multiplyScalar:()=>et,multiplyScalarAndAdd:()=>nt,rotate:()=>q,scale:()=>j,set:()=>V,str:()=>Q,sub:()=>ot,subtract:()=>tt,translate:()=>k});var a={};n.r(a),n.d(a,{add:()=>Tt,ceil:()=>Mt,clone:()=>Et,copy:()=>ft,create:()=>ct,cross:()=>Ft,dist:()=>kt,distance:()=>St,div:()=>jt,divide:()=>At,dot:()=>Ut,equals:()=>Ht,exactEquals:()=>Vt,floor:()=>mt,forEach:()=>Qt,fromValues:()=>_t,inverse:()=>xt,len:()=>zt,length:()=>bt,lerp:()=>yt,max:()=>pt,min:()=>vt,mul:()=>qt,multiply:()=>dt,negate:()=>Ot,normalize:()=>Ct,random:()=>wt,round:()=>Lt,scale:()=>Nt,scaleAndAdd:()=>It,set:()=>lt,sqrDist:()=>Kt,sqrLen:()=>Zt,squaredDistance:()=>gt,squaredLength:()=>Pt,str:()=>Gt,sub:()=>Wt,subtract:()=>Rt,transformMat4:()=>Dt,transformQuat:()=>Bt,zero:()=>Xt});var o={};n.r(o),n.d(o,{add:()=>be,calculateW:()=>se,clone:()=>Ne,conjugate:()=>le,copy:()=>Se,create:()=>$t,dot:()=>xe,equals:()=>Xe,exactEquals:()=>Be,exp:()=>ue,fromEuler:()=>Re,fromMat3:()=>Te,fromValues:()=>Ie,getAngle:()=>ne,getAxisAngle:()=>ee,identity:()=>Jt,invert:()=>fe,len:()=>Fe,length:()=>Ue,lerp:()=>Ce,ln:()=>he,mul:()=>Pe,multiply:()=>re,normalize:()=>De,pow:()=>ce,random:()=>_e,rotateX:()=>ie,rotateY:()=>ae,rotateZ:()=>oe,rotationTo:()=>Ge,scale:()=>Oe,set:()=>ge,setAxes:()=>He,setAxisAngle:()=>te,slerp:()=>Ee,sqlerp:()=>Ve,sqrLen:()=>we,squaredLength:()=>ye,str:()=>de});var s={};n.r(s),n.d(s,{add:()=>fn,clone:()=>We,conjugate:()=>mn,copy:()=>Qe,create:()=>Ye,dot:()=>dn,equals:()=>bn,exactEquals:()=>gn,fromMat4:()=>Ze,fromRotation:()=>ze,fromRotationTranslation:()=>ke,fromRotationTranslationValues:()=>je,fromTranslation:()=>Ke,fromValues:()=>qe,getDual:()=>en,getReal:()=>tn,getTranslation:()=>an,identity:()=>$e,invert:()=>Mn,len:()=>pn,length:()=>vn,lerp:()=>An,mul:()=>Tn,multiply:()=>ln,normalize:()=>In,rotateAroundAxis:()=>_n,rotateByQuatAppend:()=>cn,rotateByQuatPrepend:()=>En,rotateX:()=>sn,rotateY:()=>un,rotateZ:()=>hn,scale:()=>Rn,set:()=>Je,setDual:()=>rn,setReal:()=>nn,sqrLen:()=>Nn,squaredLength:()=>Ln,str:()=>Sn,translate:()=>on});var u={};n.r(u),n.d(u,{add:()=>Fn,angle:()=>sr,ceil:()=>Bn,clone:()=>On,copy:()=>Cn,create:()=>Pn,cross:()=>Jn,dist:()=>Rr,distance:()=>qn,div:()=>Tr,divide:()=>Dn,dot:()=>$n,equals:()=>Er,exactEquals:()=>cr,floor:()=>Xn,forEach:()=>Mr,fromValues:()=>xn,inverse:()=>Zn,len:()=>_r,length:()=>kn,lerp:()=>tr,max:()=>Vn,min:()=>Gn,mul:()=>lr,multiply:()=>wn,negate:()=>zn,normalize:()=>Qn,random:()=>er,rotate:()=>or,round:()=>Hn,scale:()=>Yn,scaleAndAdd:()=>Wn,set:()=>Un,sqrDist:()=>dr,sqrLen:()=>Ar,squaredDistance:()=>jn,squaredLength:()=>Kn,str:()=>hr,sub:()=>fr,subtract:()=>yn,transformMat2:()=>nr,transformMat2d:()=>rr,transformMat3:()=>ir,transformMat4:()=>ar,zero:()=>ur});var h=n(685);function c(){var t=new h.ARRAY_TYPE(4);return h.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function E(t){var e=new h.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function _(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function l(t,e,n,r){var i=new h.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function T(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function R(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function d(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null}function A(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function M(t){return t[0]*t[3]-t[2]*t[1]}function m(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*h+a*c,t[3]=i*h+o*c,t}function v(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*-s+a*u,t[3]=i*-s+o*u,t}function p(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t}function L(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function N(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function I(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function S(t){return Math.hypot(t[0],t[1],t[2],t[3])}function g(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function b(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function P(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function O(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function x(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-o)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}function C(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function U(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}var F=m,y=P;function w(){var t=new h.ARRAY_TYPE(6);return h.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function D(t){var e=new h.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function B(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function X(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function G(t,e,n,r,i,a){var o=new h.ARRAY_TYPE(6);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function V(t,e,n,r,i,a,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t}function H(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=n*a-r*i;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*o)*u,t[5]=(r*o-n*s)*u,t):null}function Y(t){return t[0]*t[3]-t[1]*t[2]}function W(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1],E=n[2],_=n[3],f=n[4],l=n[5];return t[0]=r*h+a*c,t[1]=i*h+o*c,t[2]=r*E+a*_,t[3]=i*E+o*_,t[4]=r*f+a*l+s,t[5]=i*f+o*l+u,t}function q(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*h,t[1]=i*c+o*h,t[2]=r*-h+a*c,t[3]=i*-h+o*c,t[4]=s,t[5]=u,t}function j(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r*h,t[1]=i*h,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t}function k(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*h+a*c+s,t[5]=i*h+o*c+u,t}function K(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function z(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function Z(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function Q(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function $(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function J(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function tt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function et(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function nt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function rt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function it(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=e[0],c=e[1],E=e[2],_=e[3],f=e[4],l=e[5];return Math.abs(n-u)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-E)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(a-_)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-f)<=h.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-l)<=h.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))}var at=W,ot=tt,st=n(600),ut=n(975),ht=n(160);function ct(){var t=new h.ARRAY_TYPE(4);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Et(t){var e=new h.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function _t(t,e,n,r){var i=new h.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function lt(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Tt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Rt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function dt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function At(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Mt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function mt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function vt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function pt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Lt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Nt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function It(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function St(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.hypot(n,r,i,a)}function gt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a}function bt(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function Pt(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function Ot(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function xt(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function Ct(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function Ut(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ft(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],h=n[2]*r[3]-n[3]*r[2],c=e[0],E=e[1],_=e[2],f=e[3];return t[0]=E*h-_*u+f*s,t[1]=-c*h+_*o-f*a,t[2]=c*u-E*o+f*i,t[3]=-c*s+E*a-_*i,t}function yt(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=s+r*(n[3]-s),t}function wt(t,e){var n,r,i,a,o,s;e=e||1;do{o=(n=2*h.RANDOM()-1)*n+(r=2*h.RANDOM()-1)*r}while(o>=1);do{s=(i=2*h.RANDOM()-1)*i+(a=2*h.RANDOM()-1)*a}while(s>=1);var u=Math.sqrt((1-o)/s);return t[0]=e*n,t[1]=e*r,t[2]=e*i*u,t[3]=e*a*u,t}function Dt(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}function Bt(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2],h=n[3],c=h*r+s*a-u*i,E=h*i+u*r-o*a,_=h*a+o*i-s*r,f=-o*r-s*i-u*a;return t[0]=c*h+f*-o+E*-u-_*-s,t[1]=E*h+f*-s+_*-o-c*-u,t[2]=_*h+f*-u+c*-s-E*-o,t[3]=e[3],t}function Xt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Gt(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Vt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Ht(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-o)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))}var Yt,Wt=Rt,qt=dt,jt=At,kt=St,Kt=gt,zt=bt,Zt=Pt,Qt=(Yt=ct(),function(t,e,n,r,i,a){var o,s;for(e||(e=4),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,o=n;o<s;o+=e)Yt[0]=t[o],Yt[1]=t[o+1],Yt[2]=t[o+2],Yt[3]=t[o+3],i(Yt,Yt,a),t[o]=Yt[0],t[o+1]=Yt[1],t[o+2]=Yt[2],t[o+3]=Yt[3];return t});function $t(){var t=new h.ARRAY_TYPE(4);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Jt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function te(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function ee(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>h.EPSILON?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function ne(t,e){var n=xe(t,e);return Math.acos(2*n*n-1)}function re(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*c+o*s+i*h-a*u,t[1]=i*c+o*u+a*s-r*h,t[2]=a*c+o*h+r*u-i*s,t[3]=o*c-r*s-i*u-a*h,t}function ie(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-r*s,t}function ae(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-a*s,t[1]=i*u+o*s,t[2]=a*u+r*s,t[3]=o*u-i*s,t}function oe(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function se(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function ue(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sqrt(n*n+r*r+i*i),s=Math.exp(a),u=o>0?s*Math.sin(o)/o:0;return t[0]=n*u,t[1]=r*u,t[2]=i*u,t[3]=s*Math.cos(o),t}function he(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sqrt(n*n+r*r+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=.5*Math.log(n*n+r*r+i*i+a*a),t}function ce(t,e,n){return he(t,e),Oe(t,t,n),ue(t,t),t}function Ee(t,e,n,r){var i,a,o,s,u,c=e[0],E=e[1],_=e[2],f=e[3],l=n[0],T=n[1],R=n[2],d=n[3];return(a=c*l+E*T+_*R+f*d)<0&&(a=-a,l=-l,T=-T,R=-R,d=-d),1-a>h.EPSILON?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,u=Math.sin(r*i)/o):(s=1-r,u=r),t[0]=s*c+u*l,t[1]=s*E+u*T,t[2]=s*_+u*R,t[3]=s*f+u*d,t}function _e(t){var e=h.RANDOM(),n=h.RANDOM(),r=h.RANDOM(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=a*Math.sin(2*Math.PI*r),t[3]=a*Math.cos(2*Math.PI*r),t}function fe(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function le(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Te(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t}function Re(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(n),u=Math.cos(n),h=Math.sin(r),c=Math.cos(r);return t[0]=a*u*c-o*s*h,t[1]=o*s*c+a*u*h,t[2]=o*u*h-a*s*c,t[3]=o*u*c+a*s*h,t}function de(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Ae,Me,me,ve,pe,Le,Ne=Et,Ie=_t,Se=ft,ge=lt,be=Tt,Pe=re,Oe=Nt,xe=Ut,Ce=yt,Ue=bt,Fe=Ue,ye=Pt,we=ye,De=Ct,Be=Vt,Xe=Ht,Ge=(Ae=ht.create(),Me=ht.fromValues(1,0,0),me=ht.fromValues(0,1,0),function(t,e,n){var r=ht.dot(e,n);return r<-.999999?(ht.cross(Ae,Me,e),ht.len(Ae)<1e-6&&ht.cross(Ae,me,e),ht.normalize(Ae,Ae),te(t,Ae,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(ht.cross(Ae,e,n),t[0]=Ae[0],t[1]=Ae[1],t[2]=Ae[2],t[3]=1+r,De(t,t))}),Ve=(ve=$t(),pe=$t(),function(t,e,n,r,i,a){return Ee(ve,e,i,a),Ee(pe,n,r,a),Ee(t,ve,pe,2*a*(1-a)),t}),He=(Le=st.create(),function(t,e,n,r){return Le[0]=n[0],Le[3]=n[1],Le[6]=n[2],Le[1]=r[0],Le[4]=r[1],Le[7]=r[2],Le[2]=-e[0],Le[5]=-e[1],Le[8]=-e[2],De(t,Te(t,Le))});function Ye(){var t=new h.ARRAY_TYPE(8);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function We(t){var e=new h.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function qe(t,e,n,r,i,a,o,s){var u=new h.ARRAY_TYPE(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u}function je(t,e,n,r,i,a,o){var s=new h.ARRAY_TYPE(8);s[0]=t,s[1]=e,s[2]=n,s[3]=r;var u=.5*i,c=.5*a,E=.5*o;return s[4]=u*r+c*n-E*e,s[5]=c*r+E*t-u*n,s[6]=E*r+u*e-c*t,s[7]=-u*t-c*e-E*n,s}function ke(t,e,n){var r=.5*n[0],i=.5*n[1],a=.5*n[2],o=e[0],s=e[1],u=e[2],h=e[3];return t[0]=o,t[1]=s,t[2]=u,t[3]=h,t[4]=r*h+i*u-a*s,t[5]=i*h+a*o-r*u,t[6]=a*h+r*s-i*o,t[7]=-r*o-i*s-a*u,t}function Ke(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ze(t,e){var n=$t();ut.getRotation(n,e);var r=new h.ARRAY_TYPE(3);return ut.getTranslation(r,e),ke(t,n,r),t}function Qe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function $e(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Je(t,e,n,r,i,a,o,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t}var tn=Se;function en(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var nn=Se;function rn(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function an(t,e){var n=e[4],r=e[5],i=e[6],a=e[7],o=-e[0],s=-e[1],u=-e[2],h=e[3];return t[0]=2*(n*h+a*o+r*u-i*s),t[1]=2*(r*h+a*s+i*o-n*u),t[2]=2*(i*h+a*u+n*s-r*o),t}function on(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=.5*n[0],u=.5*n[1],h=.5*n[2],c=e[4],E=e[5],_=e[6],f=e[7];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=o*s+i*h-a*u+c,t[5]=o*u+a*s-r*h+E,t[6]=o*h+r*u-i*s+_,t[7]=-r*s-i*u-a*h+f,t}function sn(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=s*o+c*r+u*a-h*i,_=u*o+c*i+h*r-s*a,f=h*o+c*a+s*i-u*r,l=c*o-s*r-u*i-h*a;return ie(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=E*o+l*r+_*a-f*i,t[5]=_*o+l*i+f*r-E*a,t[6]=f*o+l*a+E*i-_*r,t[7]=l*o-E*r-_*i-f*a,t}function un(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=s*o+c*r+u*a-h*i,_=u*o+c*i+h*r-s*a,f=h*o+c*a+s*i-u*r,l=c*o-s*r-u*i-h*a;return ae(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=E*o+l*r+_*a-f*i,t[5]=_*o+l*i+f*r-E*a,t[6]=f*o+l*a+E*i-_*r,t[7]=l*o-E*r-_*i-f*a,t}function hn(t,e,n){var r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=s*o+c*r+u*a-h*i,_=u*o+c*i+h*r-s*a,f=h*o+c*a+s*i-u*r,l=c*o-s*r-u*i-h*a;return oe(t,e,n),r=t[0],i=t[1],a=t[2],o=t[3],t[4]=E*o+l*r+_*a-f*i,t[5]=_*o+l*i+f*r-E*a,t[6]=f*o+l*a+E*i-_*r,t[7]=l*o-E*r-_*i-f*a,t}function cn(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],u=e[1],h=e[2],c=e[3];return t[0]=s*o+c*r+u*a-h*i,t[1]=u*o+c*i+h*r-s*a,t[2]=h*o+c*a+s*i-u*r,t[3]=c*o-s*r-u*i-h*a,s=e[4],u=e[5],h=e[6],c=e[7],t[4]=s*o+c*r+u*a-h*i,t[5]=u*o+c*i+h*r-s*a,t[6]=h*o+c*a+s*i-u*r,t[7]=c*o-s*r-u*i-h*a,t}function En(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],u=n[1],h=n[2],c=n[3];return t[0]=r*c+o*s+i*h-a*u,t[1]=i*c+o*u+a*s-r*h,t[2]=a*c+o*h+r*u-i*s,t[3]=o*c-r*s-i*u-a*h,s=n[4],u=n[5],h=n[6],c=n[7],t[4]=r*c+o*s+i*h-a*u,t[5]=i*c+o*u+a*s-r*h,t[6]=a*c+o*h+r*u-i*s,t[7]=o*c-r*s-i*u-a*h,t}function _n(t,e,n,r){if(Math.abs(r)<h.EPSILON)return Qe(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var a=Math.sin(r),o=a*n[0]/i,s=a*n[1]/i,u=a*n[2]/i,c=Math.cos(r),E=e[0],_=e[1],f=e[2],l=e[3];t[0]=E*c+l*o+_*u-f*s,t[1]=_*c+l*s+f*o-E*u,t[2]=f*c+l*u+E*s-_*o,t[3]=l*c-E*o-_*s-f*u;var T=e[4],R=e[5],d=e[6],A=e[7];return t[4]=T*c+A*o+R*u-d*s,t[5]=R*c+A*s+d*o-T*u,t[6]=d*c+A*u+T*s-R*o,t[7]=A*c-T*o-R*s-d*u,t}function fn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function ln(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[4],u=n[5],h=n[6],c=n[7],E=e[4],_=e[5],f=e[6],l=e[7],T=n[0],R=n[1],d=n[2],A=n[3];return t[0]=r*A+o*T+i*d-a*R,t[1]=i*A+o*R+a*T-r*d,t[2]=a*A+o*d+r*R-i*T,t[3]=o*A-r*T-i*R-a*d,t[4]=r*c+o*s+i*h-a*u+E*A+l*T+_*d-f*R,t[5]=i*c+o*u+a*s-r*h+_*A+l*R+f*T-E*d,t[6]=a*c+o*h+r*u-i*s+f*A+l*d+E*R-_*T,t[7]=o*c-r*s-i*u-a*h+l*A-E*T-_*R-f*d,t}var Tn=ln;function Rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var dn=xe;function An(t,e,n,r){var i=1-r;return dn(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function Mn(t,e){var n=Ln(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function mn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var vn=Ue,pn=vn,Ln=ye,Nn=Ln;function In(t,e){var n=Ln(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,a=e[2]/n,o=e[3]/n,s=e[4],u=e[5],h=e[6],c=e[7],E=r*s+i*u+a*h+o*c;t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=(s-r*E)/n,t[5]=(u-i*E)/n,t[6]=(h-a*E)/n,t[7]=(c-o*E)/n}return t}function Sn(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function gn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function bn(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],E=e[0],_=e[1],f=e[2],l=e[3],T=e[4],R=e[5],d=e[6],A=e[7];return Math.abs(n-E)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(r-_)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-f)<=h.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-l)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-T)<=h.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-R)<=h.EPSILON*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(u-d)<=h.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(c-A)<=h.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))}function Pn(){var t=new h.ARRAY_TYPE(2);return h.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function On(t){var e=new h.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function xn(t,e){var n=new h.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n}function Cn(t,e){return t[0]=e[0],t[1]=e[1],t}function Un(t,e,n){return t[0]=e,t[1]=n,t}function Fn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function yn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function wn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function Dn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Bn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Xn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Gn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Vn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function Hn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function Yn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Wn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function qn(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function jn(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function kn(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function Kn(t){var e=t[0],n=t[1];return e*e+n*n}function zn(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Zn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Qn(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function $n(t,e){return t[0]*e[0]+t[1]*e[1]}function Jn(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function tr(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t}function er(t,e){e=e||1;var n=2*h.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function nr(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function rr(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function ir(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function ar(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function or(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),s=Math.cos(r);return t[0]=i*s-a*o+n[0],t[1]=i*o+a*s+n[1],t}function sr(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),s=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function ur(t){return t[0]=0,t[1]=0,t}function hr(t){return"vec2("+t[0]+", "+t[1]+")"}function cr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Er(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))}var _r=kn,fr=yn,lr=wn,Tr=Dn,Rr=qn,dr=jn,Ar=Kn,Mr=function(){var t=Pn();return function(e,n,r,i,a,o){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}()},600:(t,e,n)=>{"use strict";n.r(e),n.d(e,{create:()=>i,fromMat4:()=>a,clone:()=>o,copy:()=>s,fromValues:()=>u,set:()=>h,identity:()=>c,transpose:()=>E,invert:()=>_,adjoint:()=>f,determinant:()=>l,multiply:()=>T,translate:()=>R,rotate:()=>d,scale:()=>A,fromTranslation:()=>M,fromRotation:()=>m,fromScaling:()=>v,fromMat2d:()=>p,fromQuat:()=>L,normalFromMat4:()=>N,projection:()=>I,str:()=>S,frob:()=>g,add:()=>b,subtract:()=>P,multiplyScalar:()=>O,multiplyScalarAndAdd:()=>x,exactEquals:()=>C,equals:()=>U,mul:()=>F,sub:()=>y});var r=n(685);function i(){var t=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,n,i,a,o,s,u,h){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=a,c[5]=o,c[6]=s,c[7]=u,c[8]=h,c}function h(t,e,n,r,i,a,o,s,u,h){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function E(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function _(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=c*o-s*h,_=-c*a+s*u,f=h*a-o*u,l=n*E+r*_+i*f;return l?(l=1/l,t[0]=E*l,t[1]=(-c*r+i*h)*l,t[2]=(s*r-i*o)*l,t[3]=_*l,t[4]=(c*n-i*u)*l,t[5]=(-s*n+i*a)*l,t[6]=f*l,t[7]=(-h*n+r*u)*l,t[8]=(o*n-r*a)*l,t):null}function f(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8];return t[0]=o*c-s*h,t[1]=i*h-r*c,t[2]=r*s-i*o,t[3]=s*u-a*c,t[4]=n*c-i*u,t[5]=i*a-n*s,t[6]=a*h-o*u,t[7]=r*u-n*h,t[8]=n*o-r*a,t}function l(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8];return e*(h*a-o*u)+n*(-h*i+o*s)+r*(u*i-a*s)}function T(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=n[0],f=n[1],l=n[2],T=n[3],R=n[4],d=n[5],A=n[6],M=n[7],m=n[8];return t[0]=_*r+f*o+l*h,t[1]=_*i+f*s+l*c,t[2]=_*a+f*u+l*E,t[3]=T*r+R*o+d*h,t[4]=T*i+R*s+d*c,t[5]=T*a+R*u+d*E,t[6]=A*r+M*o+m*h,t[7]=A*i+M*s+m*c,t[8]=A*a+M*u+m*E,t}function R(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=_*r+f*o+h,t[7]=_*i+f*s+c,t[8]=_*a+f*u+E,t}function d(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=Math.sin(n),f=Math.cos(n);return t[0]=f*r+_*o,t[1]=f*i+_*s,t[2]=f*a+_*u,t[3]=f*o-_*r,t[4]=f*s-_*i,t[5]=f*u-_*a,t[6]=h,t[7]=c,t[8]=E,t}function A(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function m(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function v(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function L(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,h=n*o,c=r*o,E=r*s,_=i*o,f=i*s,l=i*u,T=a*o,R=a*s,d=a*u;return t[0]=1-E-l,t[3]=c-d,t[6]=_+R,t[1]=c+d,t[4]=1-h-l,t[7]=f-T,t[2]=_-R,t[5]=f+T,t[8]=1-h-E,t}function N(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=e[9],_=e[10],f=e[11],l=e[12],T=e[13],R=e[14],d=e[15],A=n*s-r*o,M=n*u-i*o,m=n*h-a*o,v=r*u-i*s,p=r*h-a*s,L=i*h-a*u,N=c*T-E*l,I=c*R-_*l,S=c*d-f*l,g=E*R-_*T,b=E*d-f*T,P=_*d-f*R,O=A*P-M*b+m*g+v*S-p*I+L*N;return O?(O=1/O,t[0]=(s*P-u*b+h*g)*O,t[1]=(u*S-o*P-h*I)*O,t[2]=(o*b-s*S+h*N)*O,t[3]=(i*b-r*P-a*g)*O,t[4]=(n*P-i*S+a*I)*O,t[5]=(r*S-n*b-a*N)*O,t[6]=(T*L-R*p+d*v)*O,t[7]=(R*m-l*L-d*M)*O,t[8]=(l*p-T*m+d*A)*O,t):null}function I(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function S(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function g(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function b(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function P(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function O(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function x(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function C(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function U(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],h=t[6],c=t[7],E=t[8],_=e[0],f=e[1],l=e[2],T=e[3],R=e[4],d=e[5],A=e[6],M=e[7],m=e[8];return Math.abs(n-_)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-l)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-T)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-R)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(c-M)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(E-m)<=r.EPSILON*Math.max(1,Math.abs(E),Math.abs(m))}var F=T,y=P},975:(t,e,n)=>{"use strict";n.r(e),n.d(e,{create:()=>i,clone:()=>a,copy:()=>o,fromValues:()=>s,set:()=>u,identity:()=>h,transpose:()=>c,invert:()=>E,adjoint:()=>_,determinant:()=>f,multiply:()=>l,translate:()=>T,scale:()=>R,rotate:()=>d,rotateX:()=>A,rotateY:()=>M,rotateZ:()=>m,fromTranslation:()=>v,fromScaling:()=>p,fromRotation:()=>L,fromXRotation:()=>N,fromYRotation:()=>I,fromZRotation:()=>S,fromRotationTranslation:()=>g,fromQuat2:()=>b,getTranslation:()=>P,getScaling:()=>O,getRotation:()=>x,fromRotationTranslationScale:()=>C,fromRotationTranslationScaleOrigin:()=>U,fromQuat:()=>F,frustum:()=>y,perspectiveNO:()=>w,perspective:()=>D,perspectiveZO:()=>B,perspectiveFromFieldOfView:()=>X,orthoNO:()=>G,ortho:()=>V,orthoZO:()=>H,lookAt:()=>Y,targetTo:()=>W,str:()=>q,frob:()=>j,add:()=>k,subtract:()=>K,multiplyScalar:()=>z,multiplyScalarAndAdd:()=>Z,exactEquals:()=>Q,equals:()=>$,mul:()=>J,sub:()=>tt});var r=n(685);function i(){var t=new r.ARRAY_TYPE(16);return r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function a(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,i,a,o,s,u,h,c,E,_,f,l,T,R){var d=new r.ARRAY_TYPE(16);return d[0]=t,d[1]=e,d[2]=n,d[3]=i,d[4]=a,d[5]=o,d[6]=s,d[7]=u,d[8]=h,d[9]=c,d[10]=E,d[11]=_,d[12]=f,d[13]=l,d[14]=T,d[15]=R,d}function u(t,e,n,r,i,a,o,s,u,h,c,E,_,f,l,T,R){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=h,t[9]=c,t[10]=E,t[11]=_,t[12]=f,t[13]=l,t[14]=T,t[15]=R,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function E(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=e[9],_=e[10],f=e[11],l=e[12],T=e[13],R=e[14],d=e[15],A=n*s-r*o,M=n*u-i*o,m=n*h-a*o,v=r*u-i*s,p=r*h-a*s,L=i*h-a*u,N=c*T-E*l,I=c*R-_*l,S=c*d-f*l,g=E*R-_*T,b=E*d-f*T,P=_*d-f*R,O=A*P-M*b+m*g+v*S-p*I+L*N;return O?(O=1/O,t[0]=(s*P-u*b+h*g)*O,t[1]=(i*b-r*P-a*g)*O,t[2]=(T*L-R*p+d*v)*O,t[3]=(_*p-E*L-f*v)*O,t[4]=(u*S-o*P-h*I)*O,t[5]=(n*P-i*S+a*I)*O,t[6]=(R*m-l*L-d*M)*O,t[7]=(c*L-_*m+f*M)*O,t[8]=(o*b-s*S+h*N)*O,t[9]=(r*S-n*b-a*N)*O,t[10]=(l*p-T*m+d*A)*O,t[11]=(E*m-c*p-f*A)*O,t[12]=(s*I-o*g-u*N)*O,t[13]=(n*g-r*I+i*N)*O,t[14]=(T*M-l*v-R*A)*O,t[15]=(c*v-E*M+_*A)*O,t):null}function _(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],h=e[7],c=e[8],E=e[9],_=e[10],f=e[11],l=e[12],T=e[13],R=e[14],d=e[15];return t[0]=s*(_*d-f*R)-E*(u*d-h*R)+T*(u*f-h*_),t[1]=-(r*(_*d-f*R)-E*(i*d-a*R)+T*(i*f-a*_)),t[2]=r*(u*d-h*R)-s*(i*d-a*R)+T*(i*h-a*u),t[3]=-(r*(u*f-h*_)-s*(i*f-a*_)+E*(i*h-a*u)),t[4]=-(o*(_*d-f*R)-c*(u*d-h*R)+l*(u*f-h*_)),t[5]=n*(_*d-f*R)-c*(i*d-a*R)+l*(i*f-a*_),t[6]=-(n*(u*d-h*R)-o*(i*d-a*R)+l*(i*h-a*u)),t[7]=n*(u*f-h*_)-o*(i*f-a*_)+c*(i*h-a*u),t[8]=o*(E*d-f*T)-c*(s*d-h*T)+l*(s*f-h*E),t[9]=-(n*(E*d-f*T)-c*(r*d-a*T)+l*(r*f-a*E)),t[10]=n*(s*d-h*T)-o*(r*d-a*T)+l*(r*h-a*s),t[11]=-(n*(s*f-h*E)-o*(r*f-a*E)+c*(r*h-a*s)),t[12]=-(o*(E*R-_*T)-c*(s*R-u*T)+l*(s*_-u*E)),t[13]=n*(E*R-_*T)-c*(r*R-i*T)+l*(r*_-i*E),t[14]=-(n*(s*R-u*T)-o*(r*R-i*T)+l*(r*u-i*s)),t[15]=n*(s*_-u*E)-o*(r*_-i*E)+c*(r*u-i*s),t}function f(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],h=t[8],c=t[9],E=t[10],_=t[11],f=t[12],l=t[13],T=t[14],R=t[15];return(e*o-n*a)*(E*R-_*T)-(e*s-r*a)*(c*R-_*l)+(e*u-i*a)*(c*T-E*l)+(n*s-r*o)*(h*R-_*f)-(n*u-i*o)*(h*T-E*f)+(r*u-i*s)*(h*l-c*f)}function l(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=e[9],f=e[10],l=e[11],T=e[12],R=e[13],d=e[14],A=e[15],M=n[0],m=n[1],v=n[2],p=n[3];return t[0]=M*r+m*s+v*E+p*T,t[1]=M*i+m*u+v*_+p*R,t[2]=M*a+m*h+v*f+p*d,t[3]=M*o+m*c+v*l+p*A,M=n[4],m=n[5],v=n[6],p=n[7],t[4]=M*r+m*s+v*E+p*T,t[5]=M*i+m*u+v*_+p*R,t[6]=M*a+m*h+v*f+p*d,t[7]=M*o+m*c+v*l+p*A,M=n[8],m=n[9],v=n[10],p=n[11],t[8]=M*r+m*s+v*E+p*T,t[9]=M*i+m*u+v*_+p*R,t[10]=M*a+m*h+v*f+p*d,t[11]=M*o+m*c+v*l+p*A,M=n[12],m=n[13],v=n[14],p=n[15],t[12]=M*r+m*s+v*E+p*T,t[13]=M*i+m*u+v*_+p*R,t[14]=M*a+m*h+v*f+p*d,t[15]=M*o+m*c+v*l+p*A,t}function T(t,e,n){var r,i,a,o,s,u,h,c,E,_,f,l,T=n[0],R=n[1],d=n[2];return e===t?(t[12]=e[0]*T+e[4]*R+e[8]*d+e[12],t[13]=e[1]*T+e[5]*R+e[9]*d+e[13],t[14]=e[2]*T+e[6]*R+e[10]*d+e[14],t[15]=e[3]*T+e[7]*R+e[11]*d+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],h=e[6],c=e[7],E=e[8],_=e[9],f=e[10],l=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=h,t[7]=c,t[8]=E,t[9]=_,t[10]=f,t[11]=l,t[12]=r*T+s*R+E*d+e[12],t[13]=i*T+u*R+_*d+e[13],t[14]=a*T+h*R+f*d+e[14],t[15]=o*T+c*R+l*d+e[15]),t}function R(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,n,i){var a,o,s,u,h,c,E,_,f,l,T,R,d,A,M,m,v,p,L,N,I,S,g,b,P=i[0],O=i[1],x=i[2],C=Math.hypot(P,O,x);return C<r.EPSILON?null:(P*=C=1/C,O*=C,x*=C,a=Math.sin(n),s=1-(o=Math.cos(n)),u=e[0],h=e[1],c=e[2],E=e[3],_=e[4],f=e[5],l=e[6],T=e[7],R=e[8],d=e[9],A=e[10],M=e[11],m=P*P*s+o,v=O*P*s+x*a,p=x*P*s-O*a,L=P*O*s-x*a,N=O*O*s+o,I=x*O*s+P*a,S=P*x*s+O*a,g=O*x*s-P*a,b=x*x*s+o,t[0]=u*m+_*v+R*p,t[1]=h*m+f*v+d*p,t[2]=c*m+l*v+A*p,t[3]=E*m+T*v+M*p,t[4]=u*L+_*N+R*I,t[5]=h*L+f*N+d*I,t[6]=c*L+l*N+A*I,t[7]=E*L+T*N+M*I,t[8]=u*S+_*g+R*b,t[9]=h*S+f*g+d*b,t[10]=c*S+l*g+A*b,t[11]=E*S+T*g+M*b,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function A(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],u=e[7],h=e[8],c=e[9],E=e[10],_=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+h*r,t[5]=o*i+c*r,t[6]=s*i+E*r,t[7]=u*i+_*r,t[8]=h*i-a*r,t[9]=c*i-o*r,t[10]=E*i-s*r,t[11]=_*i-u*r,t}function M(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],h=e[8],c=e[9],E=e[10],_=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-h*r,t[1]=o*i-c*r,t[2]=s*i-E*r,t[3]=u*i-_*r,t[8]=a*r+h*i,t[9]=o*r+c*i,t[10]=s*r+E*i,t[11]=u*r+_*i,t}function m(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],u=e[3],h=e[4],c=e[5],E=e[6],_=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+h*r,t[1]=o*i+c*r,t[2]=s*i+E*r,t[3]=u*i+_*r,t[4]=h*i-a*r,t[5]=c*i-o*r,t[6]=E*i-s*r,t[7]=_*i-u*r,t}function v(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function p(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,e,n){var i,a,o,s=n[0],u=n[1],h=n[2],c=Math.hypot(s,u,h);return c<r.EPSILON?null:(s*=c=1/c,u*=c,h*=c,i=Math.sin(e),o=1-(a=Math.cos(e)),t[0]=s*s*o+a,t[1]=u*s*o+h*i,t[2]=h*s*o-u*i,t[3]=0,t[4]=s*u*o-h*i,t[5]=u*u*o+a,t[6]=h*u*o+s*i,t[7]=0,t[8]=s*h*o+u*i,t[9]=u*h*o-s*i,t[10]=h*h*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function N(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,u=i+i,h=a+a,c=r*s,E=r*u,_=r*h,f=i*u,l=i*h,T=a*h,R=o*s,d=o*u,A=o*h;return t[0]=1-(f+T),t[1]=E+A,t[2]=_-d,t[3]=0,t[4]=E-A,t[5]=1-(c+T),t[6]=l+R,t[7]=0,t[8]=_+d,t[9]=l-R,t[10]=1-(c+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function b(t,e){var n=new r.ARRAY_TYPE(3),i=-e[0],a=-e[1],o=-e[2],s=e[3],u=e[4],h=e[5],c=e[6],E=e[7],_=i*i+a*a+o*o+s*s;return _>0?(n[0]=2*(u*s+E*i+h*o-c*a)/_,n[1]=2*(h*s+E*a+c*i-u*o)/_,n[2]=2*(c*s+E*o+u*a-h*i)/_):(n[0]=2*(u*s+E*i+h*o-c*a),n[1]=2*(h*s+E*a+c*i-u*o),n[2]=2*(c*s+E*o+u*a-h*i)),g(t,e,n),t}function P(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function O(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(u,h,c),t}function x(t,e){var n=new r.ARRAY_TYPE(3);O(n,e);var i=1/n[0],a=1/n[1],o=1/n[2],s=e[0]*i,u=e[1]*a,h=e[2]*o,c=e[4]*i,E=e[5]*a,_=e[6]*o,f=e[8]*i,l=e[9]*a,T=e[10]*o,R=s+E+T,d=0;return R>0?(d=2*Math.sqrt(R+1),t[3]=.25*d,t[0]=(_-l)/d,t[1]=(f-h)/d,t[2]=(u-c)/d):s>E&&s>T?(d=2*Math.sqrt(1+s-E-T),t[3]=(_-l)/d,t[0]=.25*d,t[1]=(u+c)/d,t[2]=(f+h)/d):E>T?(d=2*Math.sqrt(1+E-s-T),t[3]=(f-h)/d,t[0]=(u+c)/d,t[1]=.25*d,t[2]=(_+l)/d):(d=2*Math.sqrt(1+T-s-E),t[3]=(u-c)/d,t[0]=(f+h)/d,t[1]=(_+l)/d,t[2]=.25*d),t}function C(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,h=a+a,c=o+o,E=i*u,_=i*h,f=i*c,l=a*h,T=a*c,R=o*c,d=s*u,A=s*h,M=s*c,m=r[0],v=r[1],p=r[2];return t[0]=(1-(l+R))*m,t[1]=(_+M)*m,t[2]=(f-A)*m,t[3]=0,t[4]=(_-M)*v,t[5]=(1-(E+R))*v,t[6]=(T+d)*v,t[7]=0,t[8]=(f+A)*p,t[9]=(T-d)*p,t[10]=(1-(E+l))*p,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function U(t,e,n,r,i){var a=e[0],o=e[1],s=e[2],u=e[3],h=a+a,c=o+o,E=s+s,_=a*h,f=a*c,l=a*E,T=o*c,R=o*E,d=s*E,A=u*h,M=u*c,m=u*E,v=r[0],p=r[1],L=r[2],N=i[0],I=i[1],S=i[2],g=(1-(T+d))*v,b=(f+m)*v,P=(l-M)*v,O=(f-m)*p,x=(1-(_+d))*p,C=(R+A)*p,U=(l+M)*L,F=(R-A)*L,y=(1-(_+T))*L;return t[0]=g,t[1]=b,t[2]=P,t[3]=0,t[4]=O,t[5]=x,t[6]=C,t[7]=0,t[8]=U,t[9]=F,t[10]=y,t[11]=0,t[12]=n[0]+N-(g*N+O*I+U*S),t[13]=n[1]+I-(b*N+x*I+F*S),t[14]=n[2]+S-(P*N+C*I+y*S),t[15]=1,t}function F(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,h=n*o,c=r*o,E=r*s,_=i*o,f=i*s,l=i*u,T=a*o,R=a*s,d=a*u;return t[0]=1-E-l,t[1]=c+d,t[2]=_-R,t[3]=0,t[4]=c-d,t[5]=1-h-l,t[6]=f+T,t[7]=0,t[8]=_+R,t[9]=f-T,t[10]=1-h-E,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,e,n,r,i,a,o){var s=1/(n-e),u=1/(i-r),h=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(o+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*h,t[15]=0,t}function w(t,e,n,r,i){var a,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}var D=w;function B(t,e,n,r,i){var a,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=i*a,t[14]=i*r*a):(t[10]=-1,t[14]=-r),t}function X(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),h=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(i-a)*h*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function G(t,e,n,r,i,a,o){var s=1/(e-n),u=1/(r-i),h=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(o+a)*h,t[15]=1,t}var V=G;function H(t,e,n,r,i,a,o){var s=1/(e-n),u=1/(r-i),h=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=h,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=a*h,t[15]=1,t}function Y(t,e,n,i){var a,o,s,u,c,E,_,f,l,T,R=e[0],d=e[1],A=e[2],M=i[0],m=i[1],v=i[2],p=n[0],L=n[1],N=n[2];return Math.abs(R-p)<r.EPSILON&&Math.abs(d-L)<r.EPSILON&&Math.abs(A-N)<r.EPSILON?h(t):(_=R-p,f=d-L,l=A-N,a=m*(l*=T=1/Math.hypot(_,f,l))-v*(f*=T),o=v*(_*=T)-M*l,s=M*f-m*_,(T=Math.hypot(a,o,s))?(a*=T=1/T,o*=T,s*=T):(a=0,o=0,s=0),u=f*s-l*o,c=l*a-_*s,E=_*o-f*a,(T=Math.hypot(u,c,E))?(u*=T=1/T,c*=T,E*=T):(u=0,c=0,E=0),t[0]=a,t[1]=u,t[2]=_,t[3]=0,t[4]=o,t[5]=c,t[6]=f,t[7]=0,t[8]=s,t[9]=E,t[10]=l,t[11]=0,t[12]=-(a*R+o*d+s*A),t[13]=-(u*R+c*d+E*A),t[14]=-(_*R+f*d+l*A),t[15]=1,t)}function W(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=r[0],u=r[1],h=r[2],c=i-n[0],E=a-n[1],_=o-n[2],f=c*c+E*E+_*_;f>0&&(c*=f=1/Math.sqrt(f),E*=f,_*=f);var l=u*_-h*E,T=h*c-s*_,R=s*E-u*c;return(f=l*l+T*T+R*R)>0&&(l*=f=1/Math.sqrt(f),T*=f,R*=f),t[0]=l,t[1]=T,t[2]=R,t[3]=0,t[4]=E*R-_*T,t[5]=_*l-c*R,t[6]=c*T-E*l,t[7]=0,t[8]=c,t[9]=E,t[10]=_,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function q(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function k(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function K(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Z(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function $(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],h=t[6],c=t[7],E=t[8],_=t[9],f=t[10],l=t[11],T=t[12],R=t[13],d=t[14],A=t[15],M=e[0],m=e[1],v=e[2],p=e[3],L=e[4],N=e[5],I=e[6],S=e[7],g=e[8],b=e[9],P=e[10],O=e[11],x=e[12],C=e[13],U=e[14],F=e[15];return Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(i-m)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-v)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-L)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(u-N)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(N))&&Math.abs(h-I)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(c-S)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(E-g)<=r.EPSILON*Math.max(1,Math.abs(E),Math.abs(g))&&Math.abs(_-b)<=r.EPSILON*Math.max(1,Math.abs(_),Math.abs(b))&&Math.abs(f-P)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(l-O)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(T-x)<=r.EPSILON*Math.max(1,Math.abs(T),Math.abs(x))&&Math.abs(R-C)<=r.EPSILON*Math.max(1,Math.abs(R),Math.abs(C))&&Math.abs(d-U)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(U))&&Math.abs(A-F)<=r.EPSILON*Math.max(1,Math.abs(A),Math.abs(F))}var J=l,tt=K},160:(t,e,n)=>{"use strict";n.r(e),n.d(e,{create:()=>i,clone:()=>a,length:()=>o,fromValues:()=>s,copy:()=>u,set:()=>h,add:()=>c,subtract:()=>E,multiply:()=>_,divide:()=>f,ceil:()=>l,floor:()=>T,min:()=>R,max:()=>d,round:()=>A,scale:()=>M,scaleAndAdd:()=>m,distance:()=>v,squaredDistance:()=>p,squaredLength:()=>L,negate:()=>N,inverse:()=>I,normalize:()=>S,dot:()=>g,cross:()=>b,lerp:()=>P,hermite:()=>O,bezier:()=>x,random:()=>C,transformMat4:()=>U,transformMat3:()=>F,transformQuat:()=>y,rotateX:()=>w,rotateY:()=>D,rotateZ:()=>B,angle:()=>X,zero:()=>G,str:()=>V,exactEquals:()=>H,equals:()=>Y,sub:()=>q,mul:()=>j,div:()=>k,dist:()=>K,sqrDist:()=>z,len:()=>Z,sqrLen:()=>Q,forEach:()=>$});var r=n(685);function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function s(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function h(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function E(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function _(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function l(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function T(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function R(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function d(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function A(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function M(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function m(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function v(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function p(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function L(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function N(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function I(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function S(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function b(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t}function P(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function O(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,h=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+n[0]*u+r[0]*h+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*h+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*h+i[2]*c,t}function x(t,e,n,r,i,a){var o=1-a,s=o*o,u=a*a,h=s*o,c=3*a*s,E=3*u*o,_=u*a;return t[0]=e[0]*h+n[0]*c+r[0]*E+i[0]*_,t[1]=e[1]*h+n[1]*c+r[1]*E+i[1]*_,t[2]=e[2]*h+n[2]*c+r[2]*E+i[2]*_,t}function C(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=i*e,t}function U(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function F(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function y(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],u=e[1],h=e[2],c=i*h-a*u,E=a*s-r*h,_=r*u-i*s,f=i*_-a*E,l=a*c-r*_,T=r*E-i*c,R=2*o;return c*=R,E*=R,_*=R,f*=2,l*=2,T*=2,t[0]=s+c+f,t[1]=u+E+l,t[2]=h+_+T,t}function w(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function D(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function B(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function X(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(a*a+o*o+s*s),h=u&&g(t,e)/u;return Math.acos(Math.min(Math.max(h,-1),1))}function G(t){return t[0]=0,t[1]=0,t[2]=0,t}function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function H(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Y(t,e){var n=t[0],i=t[1],a=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}var W,q=E,j=_,k=f,K=v,z=p,Z=o,Q=L,$=(W=i(),function(t,e,n,r,i,a){var o,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,o=n;o<s;o+=e)W[0]=t[o],W[1]=t[o+1],W[2]=t[o+2],i(W,W,a),t[o]=W[0],t[o+1]=W[1],t[o+2]=W[2];return t})},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,a){for(var o,s,u=i(t),h=1;h<arguments.length;h++){for(var c in o=Object(arguments[h]))n.call(o,c)&&(u[c]=o[c]);if(e){s=e(o);for(var E=0;E<s.length;E++)r.call(o,s[E])&&(u[s[E]]=o[s[E]])}}return u}},643:()=>{Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(187),e=n.n(t),r=n(418),i=n.n(r),a=n(685);function o(t,e){const n=t.getExtension(e);if(!n)return!1;const r=e.split("_")[0],i=new RegExp(`${r}$`);for(const e in n)if("function"==typeof n[e]){const r=e.replace(i,"");e.substring&&(t[r]=n[e].bind(n))}return!0}const s=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_color_buffer_half_float","OES_vertex_array_object","WEBGL_depth_texture","ANGLE_instanced_arrays","WEBGL_color_buffer_float","WEBGL_draw_buffers","EXT_color_buffer_float"],u=(()=>{let t=!1;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(t=!0),t})(),h=(t,e)=>{if("number"==typeof t)return a.equals(t,e);if(t.length!==e.length)return!1;let n=!0;return t.forEach(((t,r)=>{n=a.equals(t,e[r])&&n})),n},c={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HALF_FLOAT:36193,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321},E={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36193:"HALF_FLOAT",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"},_={alpha:!1,depth:!0,premultipliedAlpha:!1};var f=n(975),l=n(600);let T=0;function R(){let t,e,n=[0,0,0,0],r=0,a=0,R=0,A=(()=>{const t=document.createElement("canvas");return!(!t.getContext("experimental-webgl2")&&!t.getContext("webgl2"))})(),M=u;const m=f.create(),v=f.create(),p=f.create(),L=l.create(),N=f.create(),I=l.create();this.id="WebGLContext"+T++,this.canvas,this.gl,this.CONTEXT_LOST="contextLost",this.CONTEXT_RESTORED="contextRestored",this.shaderCount=0,this.bufferCount=0,this.textureCount=0,this.frameBufferCount=0,this.maxAnisotropy=0,this.multiRenderTargetSupport=!1,this.maxMultiRenderTargets=0,this.init=function(t,e={}){const n=i()({},_,e);if(void 0!==t){if(t instanceof HTMLCanvasElement){this.canvas=t;let r=A?"webgl2":"webgl";e.webgl1&&(r="webgl",A=!1),this.gl=t.getContext(r,n)}else window.WebGL2RenderingContext&&t instanceof WebGL2RenderingContext?(A=!0,this.gl=t,this.canvas=t.canvas):t instanceof WebGLRenderingContext?(A=!1,this.gl=t,this.canvas=t.canvas):console.error("The source has to be one of the following : Canvas, WebGLRenderingContext or WebGL2RenderingContext");this.canvas.addEventListener("webglcontextlost",g),this.canvas.addEventListener("webglcontextrestored",b),this.extensions=(t=>{const{gl:e}=t,n=window.WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,r={};s.forEach((t=>{r[t]=e.getExtension(t)})),n||(r.OES_vertex_array_object||console.error("OES_vertex_array_object extension is not supported"),o(e,"OES_vertex_array_object"),o(e,"ANGLE_instanced_arrays"),o(e,"WEBGL_draw_buffers"));const i=r.EXT_texture_filter_anisotropic;if(i&&(t.maxAnisotropy=e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),t.multiRenderTargetSupport=!!t.gl.drawBuffers,t.multiRenderTargetSupport){const n=t.gl.MAX_DRAW_BUFFERS||r.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL;t.maxMultiRenderTargets=e.getParameter(n)}return r})(this),(t=>{for(const e in c)t[e]?console.log("already exist : ",e):t[e]=c[e];if(t.webgl2){const e=/^[^a-z]*$/;for(const n in t.gl)e.test(n)&&-1===n.indexOf("FLOAT")&&(t[n]=t.gl[n],c[n]=t.gl[n],E[t[n]]=n)}})(this),this.setSize(this.canvas.width,this.canvas.height),this.enable(this.BLEND),this.enableAlphaBlending(),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.cullFace(d.BACK)}else{const t=document.createElement("canvas");this.init(t,n)}},this.clear=function(t=0,e=0,n=0,r=0){const{gl:i}=this;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},this.setSize=function(t,e){a=Math.floor(t),R=Math.floor(e),this.canvas.width=a,this.canvas.height=R,r=a/R,this.viewport(0,0,a,R)},this.viewport=function(t,e,r,i){h(n,[t,e,r,i])||(n=[t,e,r,i],this.gl.viewport(t,e,r,i))},this.getViewport=function(){return n},this.getAspectRatio=function(){return r},this.enable=function(t){this.gl.enable(t)},this.disable=function(t){this.gl.disable(t)},this.cullFace=function(t){this.gl.cullFace(t)},this.enableAlphaBlending=function(){const{gl:t}=this;t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)},this.enableAdditiveBlending=function(){const{gl:t}=this;t.blendFunc(t.ONE,t.ONE)},this.setMatrices=function(t){e=t,this.setModelMatrix(v)},this.setModelMatrix=function(t){f.copy(p,t),void 0!==e&&(f.multiply(m,e.viewMatrix,p),l.fromMat4(L,m),l.invert(L,L),l.transpose(L,L),l.fromMat4(I,m),l.invert(I,I),f.invert(N,e.viewMatrix))},this.useShader=function(e){t=e,this.shaderProgram=e.shaderProgram,this.gl.useProgram(this.shaderProgram)},this.draw=function(e){if(e.length)return void e.forEach((t=>this.draw(t)));S(),t.updateUniforms(),e.bind(this);const{drawType:n}=e,{gl:r}=this;e.isInstanced?r.drawElementsInstanced(e.drawType,e.numItems,r.UNSIGNED_INT,0,e.numInstance):n===r.POINTS?r.drawArrays(n,0,e.vertexSize):r.drawElements(n,e.numItems,r.UNSIGNED_INT,0),e.unbind()},this.getCamera=function(){return e},this.destroy=function(t=!0){this.gl.getExtension("WEBGL_lose_context").loseContext(),t&&void 0!==this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)},this.__defineGetter__("width",(function(){return a})),this.__defineGetter__("height",(function(){return R})),this.__defineGetter__("webgl2",(function(){return A})),this.__defineGetter__("isMobile",(function(){return M})),this.__defineGetter__("aspectRatio",(function(){return r}));const S=()=>{void 0!==e&&(t.uniform("uProjectionMatrix","mat4",e.projectionMatrix),t.uniform("uViewMatrix","mat4",e.viewMatrix),t.uniform("uNormalMatrix","mat3",L),t.uniform("uModelViewMatrixInverse","mat3",I)),t.uniform("uModelMatrix","mat4",p)},g=()=>{this.emit(this.CONTEXT_LOST)},b=()=>{this.emit(this.CONTEXT_RESTORED)}}R.prototype=Object.assign(Object.create(e().prototype),{constructor:R});const d=new R,A={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",ivec2:"uniform2i",ivec3:"uniform3i",ivec4:"uniform4i",mat2:"uniformMatrix2fv",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},M=t=>"number"==typeof t?t:t.slice?t.slice(0):new Float32Array(t),m=t=>"object"==typeof t?function(t){return 9===t.length?"mat3":16===t.length?"mat4":`vec${t.length}`}(t):"float";function v(t,e){let n;this.vertexShader=t||"// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}",this.fragmentShader=e||"precision highp float;\n#define GLSLIFY 1\n// varying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_FragColor = vec4(1.0);\n}",this.shaderProgram;let r={};this.bind=function(t){if(void 0===t||void 0===n||t===n){if(n=t||d,!this.shaderProgram){const t=i(this.vertexShader,!0),e=i(this.fragmentShader,!1);a(t,e)}n.useShader(this)}else console.error("this shader has been bind to a different WebGL Rendering Context",n.id)},this.uniform=function(t,e,n){let i,a;void 0===n?(a=m(e),i=e):(a=e,i=n);const o=A[a];if(r[t]){const e=r[t];h(e.value,i)||(e.value=M(i),e.changed=!0)}else r[t]={type:a,uniformType:o,value:M(i),changed:!0};return this},this.updateUniforms=function(){if(!n)return void console.warn("No WebGL Context has been set yet, please call shader.bind() first");const{gl:t}=n;for(let e in r){const n=r[e];if(n.changed){const r=e;n.uniformLoc||(n.uniformLoc=t.getUniformLocation(this.shaderProgram,r));const{uniformLoc:i,uniformType:a,value:o}=n;null!==i&&(-1===a.indexOf("Matrix")?t[a](i,o):t[a](i,!1,o)),n.changed=!1}}},this.destroy=function(){const{gl:t}=n;t.deleteProgram(this.shaderProgram),n.shaderCount--};const i=(t,e)=>{const{gl:r}=n,i=e?n.VERTEX_SHADER:n.FRAGMENT_SHADER,a=r.createShader(i);return r.shaderSource(a,t),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS)?a:(console.warn("Error in Shader : ",r.getShaderInfoLog(a)),console.log((t=>{const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=`${t+1}: ${e[t]}`;return e.join("\n")})(t)),null)},a=(t,e)=>{const{gl:r}=n;this.shaderProgram=r.createProgram(),r.attachShader(this.shaderProgram,t),r.attachShader(this.shaderProgram,e),r.deleteShader(t),r.deleteShader(e),r.linkProgram(this.shaderProgram),n.shaderCount++}}function p(t=c.TRIANGLES){this.drawType=t,this.numItems=0;let e,n,r,i,a,o=[],s=[],u=[],h=!0,E=!1,_=0;this.bufferData=function(t,e,n,r=c.STATIC_DRAW,i=!1){let a,o=[];if("number"==typeof t[0]){if(a=t,void 0===n)return console.error("Missing element size for flatten data :",e),this;for(let t=0;t<a.length;t+=n){const e=[];for(let r=0;r<n;r++)e.push(a[t+r]);o.push(e)}}else o=t,a=(t=>{if(t[0]instanceof Float32Array){const e=t.reduce(((t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n]);return t}),[]);return e}return t.flat()})(t);const s=void 0===n?t[0].length:n;return f(a,t,e,s,r,i)},this.bufferInstance=function(t,e){const n=t[0].length;return _=t.length,this.bufferData(t,e,n,c.STATIC_DRAW,!0)},this.bufferVertex=function(t,e=c.STATIC_DRAW){return this.bufferData(t,"aVertexPosition",3,e)},this.bufferTexCoord=function(t,e=c.STATIC_DRAW){return this.bufferData(t,"aTextureCoord",2,e)},this.bufferNormal=function(t,e=c.STATIC_DRAW){return this.bufferData(t,"aNormal",3,e)},this.bufferIndex=function(t,e=c.STATIC_DRAW){return n=e,r=new Uint32Array(t),this.numItems=r.length,h=!0,this},this.bind=function(t){if(void 0!==t&&void 0!==a&&t!==a)return void console.error("this mesh has been bind to a different WebGL Rendering Context");a=t||GL;const{gl:n}=a;l(),n.bindVertexArray(e),this.vertexSize=this.getSource("aVertexPosition").length},this.unbind=function(){},this.getAttribute=function(t){return o.find((e=>e.name===t))},this.getAttributes=function(){return o},this.getSource=function(t){const e=this.getAttribute(t);return e?e.source:[]},this.generateFaces=function(){let t,e,n,i,a,o;u=[];const{vertices:s}=this;for(let h=0;h<r.length;h+=3){t=r[h],e=r[h+1],n=r[h+2],i=s[t],a=s[e],o=s[n];const c={indices:[t,e,n],vertices:[i,a,o]};u.push(c)}},this.destroy=function(){const{gl:t}=a;o.forEach((e=>{t.deleteBuffer(e.buffer),e.source=[],e.dataArray=[],a.bufferCount--})),i&&(t.deleteBuffer(i),a.bufferCount--),t.deleteVertexArray(e),o=[],r=[],s=[]},this.__defineGetter__("vertices",(function(){return this.getSource("aVertexPosition")})),this.__defineGetter__("coords",(function(){return this.getSource("aTextureCoord")})),this.__defineGetter__("normal",(function(){return this.getSource("aNormal")})),this.__defineGetter__("indices",(function(){return r})),this.__defineGetter__("faces",(function(){return u})),this.__defineGetter__("isInstanced",(function(){return E})),this.__defineGetter__("numInstance",(function(){return _}));const f=(t,e,n,r,i=c.STATIC_DRAW,a=!1)=>{const u=i;E=a||E;const h=new Float32Array(t),_=this.getAttribute(n);return _?(_.itemSize=r,_.dataArray=h,_.source=e):o.push({name:n,source:e,itemSize:r,usage:u,dataArray:h,isInstanced:a}),s.push(n),this},l=()=>{const{shaderProgram:t,gl:n}=a;0!=s.length&&(e||(e=n.createVertexArray()),n.bindVertexArray(e),o.forEach((e=>{if(-1!==s.indexOf(e.name)){const r=function(t,e){let n;const{gl:r}=e;return void 0!==t.buffer?n=t.buffer:(n=r.createBuffer(),t.buffer=n,e.bufferCount++),n}(e,a);n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,e.dataArray,e.usage);const i=((t,e,n)=>(void 0===e.cacheAttribLoc&&(e.cacheAttribLoc={}),void 0===e.cacheAttribLoc[n]&&(e.cacheAttribLoc[n]=t.getAttribLocation(e,n)),e.cacheAttribLoc[n]))(n,t,e.name);i>=0&&(n.enableVertexAttribArray(i),n.vertexAttribPointer(i,e.itemSize,n.FLOAT,!1,0,0)),e.attrPosition=i,e.isInstanced&&n.vertexAttribDivisor(i,1)}})),T(),n.bindVertexArray(null),h=!1,s=[])},T=()=>{const{gl:t}=a;h&&(i||(i=t.createBuffer(),a.bufferCount++),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,n))}}const L=t=>0!==t&&!(t&t-1);class N{constructor(t){this._value=t}set(t,e=1){this._value=this._value,this._value=0===e?this._value&0<<t:this._value|1<<t}get(t){let e=this._value&1<<t;return e>>=t,1===e}reset(t){this._value=t}get value(){return this._value}}const I="This texture has been bind to a different WebGL Rendering Context",S=(t,e="")=>{console.error(t,e)};class g{constructor(t,e={},n=0,r=0){this._source=t,this._isHtmlElement=(t=>t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement)(this._source),(this._isHtmlElement||!t||((t,e)=>{let n=!0;return"Array"===t.constructor.name&&(console.error("Please convert texture source to Unit8Array or Float32Array"),n=!1),void 0===e.type&&"Uint8Array"!==t.constructor.name&&console.error("Using none Unit8Array, pleaes specify type in the texture parameters"),n})(t,e))&&(this._getDimension(t,n,r),this._params=function(t,e,n){if(!t.minFilter){let r=c.LINEAR;e&&e&&L(e)&&L(n)&&(r=c.NEAREST_MIPMAP_LINEAR),t.minFilter=r}return t.mipmap=void 0===t.mipmap||t.mipmap,t.magFilter=t.magFilter||c.LINEAR,t.wrapS=t.wrapS||c.CLAMP_TO_EDGE,t.wrapT=t.wrapT||c.CLAMP_TO_EDGE,t.internalFormat=t.internalFormat||c.RGBA,t.format=t.format||c.RGBA,t.premultiplyAlpha=void 0!==t.premultiplyAlpha&&t.premultiplyAlpha,t.level=t.level||0,t.type=t.type||c.UNSIGNED_BYTE,t}(e,this._width,this._height),this._checkMipmap(),this._parametersState=new N(0))}bind(t,e){if(void 0!==e&&void 0!==this.GL&&e!==this.GL)return void S(I,this.GL.id);this.GL=e||d;const{gl:n}=this.GL;this.createTexture(this.GL),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,this._texture),this._checkParameters()}createTexture(t){void 0===t||void 0===this.GL||t===this.GL?(this.GL=t||d,this._texture||(((t,e)=>{t.webgl2&&(e.type===c.HALF_FLOAT?(e.type=t.gl.HALF_FLOAT,e.internalFormat=c.RGBA16F):e.type===c.FLOAT&&(e.internalFormat=c.RGBA32F))})(this.GL,this._params),this._uploadTexture())):S(I,this.GL.id)}updateTexture(t){this._source=t,this._uploadTexture()}generateMipmap(){if(!this._generateMipmap)return;const{gl:t}=this.GL;t.bindTexture(t.TEXTURE_2D,this._texture),t.generateMipmap(t.TEXTURE_2D)}destroy(){const{gl:t}=this.GL;t.deleteTexture(this._texture),this.GL.textureCount--}showProperties(){console.log("Dimension :",this._width,this._height);for(const t in this._params)console.log(t,E[this._params[t]]||this._params[t])}_uploadTexture(){const{gl:t}=this.GL;this._texture||(this._texture=t.createTexture(),this.GL.textureCount++),t.bindTexture(t.TEXTURE_2D,this._texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),this._isHtmlElement&&!this.GL.webgl2?t.texImage2D(t.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._params.type,this._source):t.texImage2D(t.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._params.type,this._source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this._params.magFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this._params.minFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this._params.wrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this._params.wrapT),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),this._generateMipmap&&t.generateMipmap(t.TEXTURE_2D)}_checkParameters(){const{gl:t}=this.GL;this._parametersState.value>0&&(this._parametersState.get(0)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this._params.minFilter):this._parametersState.get(1)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this._params.magFilter):this._parametersState.get(2)?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this._params.wrapS):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this._params.wrapT)),this._parametersState.reset(0)}_getDimension(t,e,n){t?(this._width=t.width||t.videoWidth,this._height=t.height||t.videoWidth,this._width=this._width||e,this._height=this._height||n,this._width&&this._height||(this._width=this._height=Math.sqrt(t.length/4))):(this._width=e,this._height=n)}_checkMipmap(){this._generateMipmap=this._params.mipmap,L(this._width)&&L(this._height)||(this._generateMipmap=!1),-1===E[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}get texture(){return this._texture}set minFilter(t){this._params.minFilter=t,this._parametersState.set(0,1)}get minFilter(){return this._params.minFilter}set magFilter(t){this._params.magFilter=t,this._parametersState.set(1,1)}get magFilter(){return this._params.magFilter}set wrapS(t){this._params.wrapS=t,this._parametersState.set(2,1)}get wrapS(){return this._params.wrapS}set wrapT(t){this._params.wrapT=t,this._parametersState.set(3,1)}get wrapT(){return this._params.wrapT}get width(){return this._width}get height(){return this._height}}class b{constructor(t){return this._GL=t||d,this._uniforms={},this._uniformTextures=[],this._fbo,this._clearColor={r:0,g:0,b:0,a:0},this}setClearColor(t=0,e=0,n=0,r=0){return this._clearColor.r=t,this._clearColor.g=e,this._clearColor.b=n,this._clearColor.a=r,this}useProgram(t,e){return this._shader=t instanceof v?t:new v(t,e),this}setMesh(t){return this._mesh=t,this}createMesh(t){return this._mesh=new p(t),this}bufferVertex(t){return this._mesh||(this._mesh=new p),this._mesh.bufferVertex(t),this}bufferTexCoord(t){return this._mesh||(this._mesh=new p),this._mesh.bufferTexCoord(t),this}bufferNormal(t){return this._mesh||(this._mesh=new p),this._mesh.bufferNormal(t),this}bufferIndex(t){return this._mesh||(this._mesh=new p),this._mesh.bufferIndex(t),this}bufferInstance(t,e){return this._mesh?(this._mesh.bufferInstance(t,e),this):(console.warn("Need to create mesh first"),this)}bufferData(t,e){return this._mesh||(this._mesh=new p),this._mesh.bufferData(t,e),this}uniform(t,e,n){const r=t;let i,a;return void 0===n?(a=m(e),i=e):(a=e,i=n),this._uniforms[r]={type:a,value:i},this}uniformTexture(t,e,n){return this.bindTexture(t,e,n)}bindTexture(t,e,n){return void 0!==n?this._uniformTextures[n]={name:t,texture:e}:this._uniformTextures.push({name:t,texture:e}),this}bindFrameBuffer(t){return this._fbo=t,this}draw(){if(this._shader){if(this._mesh){if(this._fbo){const{r:t,g:e,b:n,a:r}=this._clearColor;this._fbo.bind(this._GL),this._GL.clear(t,e,n,r)}this._shader.bind(this._GL);for(const t in this._uniforms){const e=this._uniforms[t];this._shader.uniform(t,e.type,e.value)}return this._uniformTextures.forEach(((t,e)=>{void 0!==t&&(this._shader.uniform(t.name,"int",e),t.texture.bind(e,this._GL))})),this._GL.draw(this._mesh),this._fbo&&this._fbo.unbind(),this}console.warn("No Mesh assigned for draw call")}else console.warn("No GLShader assigned for draw call")}get shader(){return this._shader}get framebuffer(){return this._fbo}}const{mat4:P,vec4:O}=n(370);let x=window,C=60,U=performance.now(),F=0,y=0,w=U;const D=[],B=[],X=[],G=[];let V=[],H=[],Y=-1,W=0;function q(){!function(){let t,e=0,n=1e3/C,r=0;for(e=0;e<D.length;e++)t=D[e],null!=t&&t.func(t.args);for(;V.length>0;)t=V.pop(),t.func(t.args);let i=performance.now();for(y=(i-U)/1e3,F=i-w,e=0;e<B.length;e++)t=B[e],i-t.time>t.delay&&(t.func(t.args),B.splice(e,1));for(i=performance.now();X.length>0;){if(t=X.shift(),r=performance.now(),!(r-i<n)){X.unshift(t);break}t.func(t.args)}for(i=performance.now();G.length>0;)t=G.shift(),r=performance.now(),r-i<n&&t.func(t.args);w=i,V=V.concat(H),H=[]}(),Y=x.requestAnimationFrame(q)}q();var j={addEF:function(t,e){const n=++W;return D[n]={func:t,args:e},n},removeEF:function(t){return void 0!==D[t]&&(D[t]=null),-1},delay:function(t,e,n){const r=performance.now();B.push({func:t,args:e,delay:n,time:r})},next:function(t,e){H.push({func:t,args:e})},defer:function(t,e){X.push({func:t,args:e})},usurp:function(t,e){G.push({func:t,args:e})},setRequestAnimationFrameSource:function(t){Y>-1&&window.cancelAnimationFrame(Y),x=t,q()},setFrameRate:function(t){C=t},getElapsedTime:function(){return y},getDeltaTime:function(){return F}};const k=j;class K{constructor(t,e=.1){this.easing=e,this._value=t,this._targetValue=t,this._efIndex=k.addEF((()=>this._update()))}_update(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}setTo(t){this._targetValue=this._value=t}add(t){this._targetValue+=t}limit(t,e){t>e?this.limit(e,t):(this._min=t,this._max=e,this._checkLimit())}_checkLimit(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}destroy(){k.removeEF(this._efIndex)}set value(t){this._targetValue=t}get value(){return this._value}get targetValue(){return this._targetValue}}var z=n(160);const Z=function(t,e){const n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n};class Q{constructor(t,e=window,n=10){this._target=t,this._listenerTarget=e,this._mouse={},this._preMouse={},this.center=z.create(),this._up=z.fromValues(0,1,0),this.radius=new K(n),this.position=z.fromValues(0,0,this.radius.value),this.positionOffset=z.create(),this._rx=new K(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new K(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=t=>this._onWheel(t),this._downBind=t=>this._onDown(t),this._moveBind=t=>this._onMove(t),this._upBind=()=>this._onUp(),this.connect(),k.addEF((()=>this._loop()))}connect(){this.disconnect(),this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}disconnect(){this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}lock(t=!0){this._isLockZoom=t,this._isLockRotation=t,this._isMouseDown=!1}lockZoom(t=!0){this._isLockZoom=t}lockRotation(t=!0){this._isLockRotation=t}inverseControl(t=!0){this._isInvert=t}_onDown(t){this._isLockRotation||(this._isMouseDown=!0,Z(t,this._mouse),Z(t,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}_onMove(t){if(!this._isLockRotation&&(Z(t,this._mouse),t.touches&&t.preventDefault(),this._isMouseDown)){let t=-(this._mouse.x-this._preMouse.x);this._isInvert&&(t*=-1),this._ry.value=this._preRY-.01*t*this.sensitivity;let e=-(this._mouse.y-this._preMouse.y);this._isInvert&&(e*=-1),this._rx.value=this._preRX-.01*e*this.sensitivity}}_onUp(){this._isLockRotation||(this._isMouseDown=!1)}_onWheel(t){if(this._isLockZoom)return;const e=t.wheelDelta,n=t.detail;let r=0;r=n?e?e/n/40*n>0?1:-1:-n/3:e/120,this.radius.add(2*-r),this.radius.targetValue<0&&(this.radius.value=1e-4)}_loop(){this._updatePosition(),this._target&&this._updateCamera()}update(){this._updatePosition()}_updatePosition(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;const t=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*t,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*t,z.add(this.position,this.position,this.positionOffset)}_updateCamera(){this._target.lookAt(this.position,this.center,this._up)}get rx(){return this._rx}get ry(){return this._ry}}function $(t,e){this.origin=t,this.direction=e;const n=z.create(),r=z.create(),i=z.create(),a=z.create(),o=z.create(),s=z.create(),u=z.create(),h=z.create();this.at=function(t){return z.copy(a,this.direction),z.scale(a,a,t),z.add(a,a,this.origin),a},this.lookAt=function(t){z.sub(this.direction,t,this.origin),z.normalize(this.origin,this.origin)},this.closestPointToPoint=function(t){const e=z.create();z.sub(t,this.origin);const n=z.dot(e,this.direction);return n<0?z.clone(this.origin):(z.copy(e,this.direction),z.scale(e,e,n),z.add(e,e,this.origin),e)},this.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},this.distanceSqToPoint=function(t){const e=z.create();z.sub(e,t,this.origin);const n=z.dot(e,this.direction);return n<0?z.squaredDistance(this.origin,t):(z.copy(e,this.direction),z.scale(e,e,n),z.add(e,e,this.origin),z.squaredDistance(e,t))},this.intersectsSphere=function(t,e){return this.distanceToPoint(t)<=e},this.intersectSphere=function(t,e){const n=z.create();z.sub(n,t,this.origin);const r=z.dot(n,this.direction),i=z.dot(n,n)-r*r,a=e*e;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u):this.at(s)},this.intersectTriangle=function(t,e,a,c=!0){z.copy(n,t),z.copy(r,e),z.copy(i,a),z.sub(o,r,n),z.sub(s,i,n),z.cross(u,o,s);let E,_=z.dot(this.direction,u);if(_>0){if(c)return null;E=1}else{if(!(_<0))return null;E=-1,_=-_}z.sub(h,this.origin,n),z.cross(s,h,s);const f=E*z.dot(this.direction,s);if(f<0)return null;z.cross(o,o,h);const l=E*z.dot(this.direction,o);if(l<0)return null;if(f+l>_)return null;const T=-E*z.dot(h,u);return T<0?null:this.at(T/_)}}class J extends class{constructor(){this._mtxView=f.create(),this._mtxProj=f.create(),this._near=0,this._far=0,this._lookDir=z.create()}lookAt(t,e,n=[0,1,0]){f.lookAt(this._mtxView,t,e,n)}setFromViewProjection(t,e){f.copy(this._mtxView,t),f.copy(this._mtxProj,e)}setViewMatrix(t){f.copy(this._mtxView,t)}setProjectionMatrix(t){f.copy(this._mtxProj,t)}_updateMatrices(){}get viewMatrix(){return this._mtxView}get view(){return this._mtxView}get projectionMatrix(){return this._mtxProj}get projection(){return this._mtxProj}get position(){const t=f.create();return f.invert(t,this._mtxView),[t[12],t[13],t[14]]}get direction(){const t=l.create();return l.fromMat4(t,this._mtxView),l.transpose(t,t),z.transformMat3(this._lookDir,[0,0,-1],t),z.normalize(this._lookDir,this._lookDir),this._lookDir}set near(t){this._near=t,this._updateMatrices()}get near(){return this._near}set far(t){this._far=t,this._updateMatrices()}get far(){return this._far}}{constructor(t,e,n,r){super(),this._fov=0,this._ratio=0,this.setPerspective(t,e,n,r)}setPerspective(t,e,n,r){f.perspective(this._mtxProj,t,e,n,r),this._near=n,this._far=r,this._fov=t,this._ratio=e}setAspectRatio(t){this._ratio=t,this._updateMatrices()}generateRay(t,e){const n=f.create(),r=z.create(),i=this._mtxProj,a=this._mtxView;return f.multiply(n,i,a),f.invert(n,n),z.transformMat4(r,t,n),z.sub(r,r,this.position),z.normalize(r,r),e?(e.origin=this.position,e.direction=r):e=new $(this.position,r),e}_updateMatrices(){this.setPerspective(this._fov,this._ratio,this._near,this._far)}}n(643);const tt=(t,e)=>void 0===t?fxrand():void 0===e?fxrand()*t:t+(e-t)*fxrand();var et,nt,rt,it,at,ot=null,st=!1;let ut,ht=0,ct=!1,Et=0,_t=.1,ft=0,lt=.1,Tt=0,Rt=0,dt=0,At=0,Mt=1,mt=.6,vt=.8,pt=[191,77,40,101,86,67,230,172,39,128,188,163,246,247,189],Lt=[232,221,203,3,101,100,3,54,73,205,179,128,3,22,52],Nt=[191,77,40,101,86,67,230,172,39,128,188,163,246,247,189];Nt=Nt.map((t=>t/255));var It=window.AudioContext||window.webkitAudioContext;try{et=new It}catch(C){alert("Web Audio API is not supported in this browser")}function St(t){nt.buffer=t,ut=Date.now(),0!=Et?(_t=ft,Et=0):(_t=1.2,ct=!0),nt.loop=!0,nt.start(0),st=!0}function gt(t){console.log(t)}function bt(t,e,n,r,i){var a=(t-e)/(n-e);return a<0&&(a=0),a>1&&(a=1),r+(i-r)*a}document.body.addEventListener("click",(function(){var t;Rt=0,st?(mt=.6,vt=.8,_t=.1,nt.stop(0),Et=1,st=!1,ht=0):(nt=et.createBufferSource(),rt=et.createAnalyser(),it=et.createScriptProcessor(1024,1,1),at=new Uint8Array(rt.frequencyBinCount),nt.connect(et.destination),nt.connect(rt),rt.connect(it),it.connect(et.destination),it.onaudioprocess=function(){rt.getByteTimeDomainData(at)},null==ot?("./likewater.wav",(t=new XMLHttpRequest).open("GET","./likewater.wav",!0),t.responseType="arraybuffer",t.onload=function(){et.decodeAudioData(t.response,(function(t){St(ot=t)}),gt)},t.send()):St(ot))}));const Pt=[];let Ot;const xt={init:t=>{Ot=t.map((({id:t,file:e,type:n})=>{const r=e;let i;switch(n){case"jpg":case"png":i=new g(e);break;case"text":i=(t=>{const e=t.split("\n"),n=[],r=[],i=[],a=[],o=[],s=[],u=[];let h,c=0;const E=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,_=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,f=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,l=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,T=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,R=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,d=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/;function A(t){const e=parseInt(t);return 3*(e>=0?e-1:e+a.length/3)}function M(t){const e=parseInt(t);return 3*(e>=0?e-1:e+o.length/3)}function m(t){const e=parseInt(t);return 2*(e>=0?e-1:e+s.length/2)}function v(t,e,r){n.push([a[t],a[t+1],a[t+2]]),n.push([a[e],a[e+1],a[e+2]]),n.push([a[r],a[r+1],a[r+2]]),u.push(3*c+0),u.push(3*c+1),u.push(3*c+2),c++}function L(t,e,n){r.push([s[t],s[t+1]]),r.push([s[e],s[e+1]]),r.push([s[n],s[n+1]])}function N(t,e,n){i.push([o[t],o[t+1],o[t+2]]),i.push([o[e],o[e+1],o[e+2]]),i.push([o[n],o[n+1],o[n+2]])}function I(t,e,n,r,i,a,o,s,u,h,c,E){let _,f=A(t),l=A(e),T=A(n);void 0===r?v(f,l,T):(_=A(r),v(f,l,_),v(l,T,_)),void 0!==i&&(f=m(i),l=m(a),T=m(o),void 0===r?L(f,l,T):(_=m(s),L(f,l,_),L(l,T,_))),void 0!==u&&(f=M(u),l=M(h),T=M(c),void 0===r?N(f,l,T):(_=M(E),N(f,l,_),N(l,T,_)))}for(let t=0;t<e.length;t++){let n=e[t];n=n.trim(),0!==n.length&&"#"!==n.charAt(0)&&(null!==(h=E.exec(n))?a.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):null!==(h=_.exec(n))?o.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):null!==(h=f.exec(n))?s.push(parseFloat(h[1]),parseFloat(h[2])):null!==(h=l.exec(n))?I(h[1],h[2],h[3],h[4]):null!==(h=T.exec(n))?I(h[2],h[5],h[8],h[11],h[3],h[6],h[9],h[12]):null!==(h=R.exec(n))?I(h[2],h[6],h[10],h[14],h[3],h[7],h[11],h[15],h[4],h[8],h[12],h[16]):null!==(h=d.exec(n))&&I(h[2],h[5],h[8],h[11],void 0,void 0,void 0,void 0,h[3],h[6],h[9],h[12]))}return(t=>{const e=t.normals.length>0,n=t.coords.length>0;let r;if(t.positions.length>65535){const i=[];let a=0;const o={};for(o.positions=t.positions.concat(),o.coords=t.coords.concat(),o.indices=t.indices.concat(),o.normals=t.normals.concat();t.indices.length>0;){const s=Math.min(65535,t.positions.length),u=t.indices.splice(0,s),h=[],c=[],E=[];let _,f=0;for(let t=0;t<u.length;t++)u[t]>f&&(f=u[t]),_=u[t],h.push(o.positions[_]),n&&c.push(o.coords[_]),e&&E.push(o.normals[_]),u[t]-=a;a=f+1,r=new p,r.bufferVertex(h),n&&r.bufferTexCoord(c),r.bufferIndex(u),e&&r.bufferNormal(E),i.push(r)}return i}return r=new p,r.bufferVertex(t.positions),n&&r.bufferTexCoord(t.coords),r.bufferIndex(t.indices),e&&r.bufferNormal(t.normals),r})({positions:n,coords:r,normals:i,indices:u})})(e)}return{id:t,source:r,type:n,file:i}})),console.table(Ot)},get:t=>{const e=Ot.find((e=>e.id===t));return e?e.file:null}},Ct=xt;var Ut=n(719),Ft=n.n(Ut);let yt,wt;var Dt;new Promise(((t,e)=>{const n=document.body.querySelector(".Loading-Bar");console.log("Load Assets",Pt),Pt.length>0?(document.body.classList.add("isLoading"),new(Ft())({assets:Pt}).on("error",(t=>{console.log("Error :",t)})).on("progress",(t=>{n&&(n.style.width=100*t+"%")})).on("complete",(e=>{n&&(n.style.width="100%"),Ct.init(e),setTimeout((()=>{document.body.classList.remove("isLoading"),t(Dt)}),500)})).start()):t(Dt)})).then((function(){wt=document.createElement("canvas"),wt.id="main-canvas",document.body.appendChild(wt),d.init(wt,{alpha:!1,preserveDrawingBuffer:!0}),yt=new class extends class{constructor(t){this._GL=t||d,this.camera=new J,window.innerWidth==window.innerHeight?(this.orbitalControl=new Q(this.camera,window,15),this.orbitalControl.radius.value=15,this.camera.setPerspective(122*Math.PI/180,d.aspectRatio,.1,100),console.log("window",window.innerWidth,window.innerHeight)):(this.orbitalControl=new Q(this.camera,window,46),this.orbitalControl.radius.value=46,this.camera.setPerspective(45*Math.PI/180,d.aspectRatio,.1,100),console.log("window",window.innerWidth,window.innerHeight)),this._isRunning=!0,this._initTextures(),this._initViews(),window.addEventListener("resize",(()=>this.resize())),this._efIndex=k.addEF((()=>this._loop()))}stop(){this._isRunning=!1}resume(){this._isRunning=!0}_initTextures(){}_initViews(){}update(){}render(){}_loop(){this._isRunning&&(this.update(),this._GL.viewport(0,0,this._GL.width,this._GL.height),this._GL.setMatrices(this.camera),this.render())}resize(){this._GL.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(this._GL.aspectRatio)}}{constructor(){super(),this.camera,this.orbitalControl.lock(),this.resize(),this.time=160}_initViews(){const t=.14,e=.02,n=[],r=[],i=[],a=[];let o=0;const s=253.125;for(let u=0;u<s;u++)for(let h=0;h<450;h++){n.push([-t,-e,0]),n.push([t,-e,0]),n.push([t,e,0]),n.push([-t,e,0]);const c=.11,E=[h*c+450*-c/2,u*c+-c*s/2,0];r.push(E),r.push(E),r.push(E),r.push(E);const _=[tt(),tt(),tt()];i.push(_),i.push(_),i.push(_),i.push(_),a.push(4*o+0),a.push(4*o+1),a.push(4*o+2),a.push(4*o+0),a.push(4*o+2),a.push(4*o+3),o++}const u=(new p).bufferVertex(n).bufferData(r,"aPositionOffset").bufferData(i,"aRandom").bufferIndex(a),h=new v("precision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aPositionOffset;\nattribute vec3 aRandom;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec3 uColors[5];\nuniform float uTime;\nuniform float fix;\nuniform float landdepth;\nuniform float edge1;\nuniform float edge2;\n\nvarying vec3 vColor;\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nmat4 rotationMatrix(vec3 axis, float angle) {\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    \n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nvec3 rotate(vec3 v, vec3 axis, float angle) {\n\tmat4 m = rotationMatrix(axis, angle);\n\treturn (m * vec4(v, 1.0)).xyz;\n}\n\n#define PI 3.14159265\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v){\n  const vec4 C = vec4(0.211324865405187,  \n                      0.366025403784439,  \n                     -0.577350269189626,  \n                      0.024390243902439); \n\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n  vec2 i1;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n  i = mod289(i);\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat noise(vec2 p) {\n  float acc = snoise(p) * 16.0 + snoise(p * 2.0) * 8.0 + snoise(p * 4.0) * 4.0 + snoise(p * 8.0) * 2.0 + snoise(p * 16.0) * 1.0;\n  float div = 1.0 + 2.0 + 4.0 + 8.0 + 16.0;\n    return acc / div;\n}\n\nfloat time2;\n\nmat2 rotate2(float angle){\n  return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n}\n\nfloat fbm(vec2 p){\n  p *= 1.;\n  float f = 0.;\n  float amp = 0.5;\n\n  for( int i = 0; i < 3; i++) {  \n    mat2 modify = rotate2(time2/45. * float(i*i));\n    f += amp*noise(p);\n    p = modify * p;\n    p *= 2.5;\n    amp /= 2.2;\n  }\n  return f;\n}\n\nfloat form(vec2 p, out vec2 q, out vec2 r) {\n    q = vec2( fbm(p + vec2(1., 1.)), fbm(rotate2(0.2*time2)*p + vec2(3., 3.)));\n    r = vec2( fbm( rotate2(0.2)*q + vec2(0., 0.)), fbm(0.2 * q + vec2(0., 0.)));\n    return fbm(p + r);\n}\n\nvoid main(void) {\n\n    vec3 pos = aVertexPosition;\n    vec3 offset = aPositionOffset;\n    offset.x -= fix;\n    vec2 p = vec2((offset.x+3.2)/120., offset.y/100.);\n    p *= 2.;\n    \n    time2 = uTime;\n    float time3 = uTime + fbm(p/8.) * 40.;\n    float time4 = fract(time3/16.);\n    time2 = floor(time3/16.) + (1. - cos(time4*PI)/2.);\n    time2 = time2*6.;\n    vec2 q;\n    vec2 r;\n    float f = form(p, q, r);\n\n    pos.xy += vec2(f*f*0.45+ time2/65.*landdepth, 0.6);\n    pos.xy = rotate(pos.xy,  (f*1.5+r.x)*0.76);\n\n    pos += offset;\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\n    vec3 color = vec3(1.0);\n\n    float rnd = ((r.y*0.3+f*1.45)+0.29)*0.72;\n    rnd += aRandom.y * 0.33;\n\n    if(rnd < 0.1) {  \n        color = uColors[0];\n    } else if(rnd < 0.4) {\n        color = uColors[1];\n    } else if(rnd < edge1) {\n        color = uColors[2];\n    } else if(rnd < edge2) {\n        color = uColors[3];\n    } else {\n        color = uColors[4];\n    }\n\n    vColor = color;\n}","precision highp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\n\nvoid main(void) {\n    gl_FragColor = vec4(vColor, 1.0);\n}");this._drawStrokes=(new b).setMesh(u).useProgram(h)}update(){if(1==st){if(Rt<=1){for(var t=0;t<15;t++)Tt=bt(Rt,0,1,pt[t]/255,Lt[t]/255),Nt[t]=Tt;Rt+=.024,mt=bt(Rt,0,1,.6,.75),vt=bt(Rt,0,1,.8,.82)}lt<1&&(lt+=.05),ht=0;const e=Math.floor(.03*at.length);for(let t=0;t<e;t++)ht+=at[t];ht/=4876,At=bt(10*(ht*ht*ht-.38),0,1,0,.02),dt=.02+At;let n=(Date.now()-ut)%35e3;(Date.now()-ut)%35e3>=31e3&&dt>=0?dt-=.01*Mt:(Date.now()-ut)%35e3<=3500&&Date.now()-ut>35e3&&(dt=.02),console.log("timetest",n),this.time+=dt*Mt,_t+=2e-4*Mt,ft=_t}else{if(Rt<=1&&ct){for(t=0;t<15;t++)Tt=bt(Rt,0,1,Lt[t]/255,pt[t]/255),Nt[t]=Tt;Rt+=.025}lt>.1&&(lt-=.04),dt>.001?dt-=.005*Mt:dt<0&&(dt=5e-4),this.time+=dt*Mt}this.time>390?Mt=-1:this.time<=160&&(Mt=1,_t=.1)}render(){d.clear(0,0,0,1),d.setMatrices(this.camera),this._drawStrokes.uniform("uTime",this.time).uniform("uColors","vec3",Nt).uniform("fix","float",_t).uniform("landdepth","float",lt).uniform("edge1","float",mt).uniform("edge2","float",vt).draw()}resize(){const{innerWidth:t,innerHeight:e,devicePixelRatio:n}=window;let r=Math.max(2,n);const i=t,a=e;r=1,t==e||i==a?(this.orbitalControl.radius.value=15,this.camera.setPerspective(122*Math.PI/180,d.aspectRatio,.1,100)):(this.orbitalControl.radius.value=46,this.camera.setPerspective(45*Math.PI/180,d.aspectRatio,.1,100)),((t,e,n,r)=>{const{innerWidth:i,innerHeight:a}=window;e=e||i,n=n||a,r&&r.setSize(e,n);let o=Math.min(e,i),s=Math.min(n,a);const u=i/e,h=a/n,c=Math.min(u,h);o=e*c,s=n*c;const E=Math.floor(i-o)/2,_=Math.floor(a-s)/2;t.style.cssText=`\n    position:absolute;\n    width:${o}px;\n    height:${s}px;\n    top:${_}px;\n    left:${E}px;\n  `})(d.canvas,1*i,1*a,d),this.camera.setAspectRatio(d.aspectRatio)}}}),(t=>{console.error(t)}))})()})();